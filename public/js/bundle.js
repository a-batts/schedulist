/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t,e={216:(t,e,n)=>{"use strict";var r=n(136),i=n(180),o=n.n(i),a=n(965),s=n.n(a),u=n(521),c=n.n(u),l=n(863),d=n.n(l),h=n(424),f=n.n(h),p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function m(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}var v=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();var _=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,g(n)),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new v({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}();function T(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}function I(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(b(n,e))return n;n=n.parentElement}return null}function b(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}var A,C={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},O={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},S={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};var R=["touchstart","pointerdown","mousedown","keydown"],w=["touchend","pointerup","mouseup","contextmenu"],L=[],D=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(t){return r.activate_(t)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return C},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return S},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(R.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):w.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;R.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),w.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&L.length>0&&L.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(L.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){L=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,a=o.FG_DEACTIVATION,s=o.FG_ACTIVATION,u=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",l="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;c=h.x+"px, "+h.y+"px",l=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,c),this.adapter.updateCssVariable(i,l),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),u)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,a=e.y,s=o+n.left,u=a+n.top;if("touchstart"===t.type){var c=t;r=c.changedTouches[0].pageX-s,i=c.changedTouches[0].pageY-u}else{var l=t;r=l.pageX-s,i=l.pageY-u}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),S.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=E({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},e}(v);var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return m(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,r=t.CSS;if("boolean"==typeof A&&!e)return A;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(A=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,T())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,T())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return b(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,T())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,T())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(t){this.unbounded_=Boolean(t),this.setUnbounded_()},enumerable:!0,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new D(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.unbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},e}(_),P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function N(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var M=function(){return(M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function F(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var H=function(){return(H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var B={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},G=function(t){function e(n){var r=t.call(this,H(H({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return F(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return B},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var n=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.float=function(t){var n=e.cssClasses,r=n.LABEL_FLOAT_ABOVE,i=n.LABEL_SHAKE;t?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.setRequired=function(t){var n=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleShakeAnimationEnd_=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e}(v);var V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.attachTo=function(t){return new e(t)},e.prototype.shake=function(t){this.foundation.shake(t)},e.prototype.float=function(t){this.foundation.float(t)},e.prototype.setRequired=function(t){this.foundation.setRequired(t)},e.prototype.getWidth=function(){return this.foundation.getWidth()},e.prototype.getDefaultFoundation=function(){var t=this;return new G({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},getWidth:function(){return function(t){var e=t;if(null!==e.offsetParent)return e.scrollWidth;var n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}(t.root)},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)}})},e}(_),U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function j(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var W={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},z=function(t){function e(n){var r=t.call(this,q(q({},e.defaultAdapter),n))||this;return r.transitionEndHandler_=function(t){return r.handleTransitionEnd(t)},r}return j(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return W},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter.removeClass(W.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(W.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(W.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var e=this.adapter.hasClass(W.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&e&&(this.adapter.removeClass(W.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(W.LINE_RIPPLE_DEACTIVATING))},e}(v);var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new z({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setStyle:function(e,n){return t.root.style.setProperty(e,n)},registerEventHandler:function(e,n){return t.listen(e,n)},deregisterEventHandler:function(e,n){return t.unlisten(e,n)}})},e}(_),Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function K(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Q=function(){return(Q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var J={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Z={NOTCH_ELEMENT_PADDING:8},$={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},tt=function(t){function e(n){return t.call(this,Q(Q({},e.defaultAdapter),n))||this}return K(e,t),Object.defineProperty(e,"strings",{get:function(){return J},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return $},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Z},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),e.prototype.notch=function(t){var n=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=Z.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(n)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e}(v);var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return K(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.notchElement_=this.root.querySelector(J.NOTCH_ELEMENT_SELECTOR);var t=this.root.querySelector("."+G.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root.classList.add($.OUTLINE_UPGRADED),requestAnimationFrame((function(){t.style.transitionDuration=""}))):this.root.classList.add($.NO_LABEL)},e.prototype.notch=function(t){this.foundation.notch(t)},e.prototype.closeNotch=function(){this.foundation.closeNotch()},e.prototype.getDefaultFoundation=function(){var t=this;return new tt({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNotchWidthProperty:function(e){return t.notchElement_.style.setProperty("width",e+"px")},removeNotchWidthProperty:function(){return t.notchElement_.style.removeProperty("width")}})},e}(_),nt={ROOT:"mdc-text-field-character-counter"},rt={ROOT_SELECTOR:"."+nt.ROOT},it=function(t){function e(n){return t.call(this,M(M({},e.defaultAdapter),n))||this}return N(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return nt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return rt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setCounterValue=function(t,e){t=Math.min(t,e),this.adapter.setContent(t+" / "+e)},e}(v);var ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new it({setContent:function(e){t.root.textContent=e}})},e}(_),at={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},st={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},ut={LABEL_SCALE:.75},ct=["pattern","min","max","required","step","minlength","maxlength"],lt=["color","date","datetime-local","month","range","time","week"],dt=["mousedown","touchstart"],ht=["click","keydown"],ft=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,M(M({},e.defaultAdapter),n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.validateOnValueChange_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(t){return i.setTransformOrigin(t)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(t){return i.handleValidationAttributeChange(t)},i}return N(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return st},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return at},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ut},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat_",{get:function(){var t=this.getNativeInput_().type;return lt.indexOf(t)>=0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),dt.forEach((function(e){t.adapter.registerInputInteractionHandler(e,t.setPointerXOffset_)})),ht.forEach((function(e){t.adapter.registerTextFieldInteractionHandler(e,t.textFieldInteractionHandler_)})),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},e.prototype.destroy=function(){var t=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),dt.forEach((function(e){t.adapter.deregisterInputInteractionHandler(e,t.setPointerXOffset_)})),ht.forEach((function(e){t.adapter.deregisterTextFieldInteractionHandler(e,t.textFieldInteractionHandler_)})),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput_=!0)},e.prototype.handleValidationAttributeChange=function(t){var e=this;t.some((function(t){return ct.indexOf(t)>-1&&(e.styleValidity_(!0),e.adapter.setLabelRequired(e.getNativeInput_().required),!0)})),t.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var e=this.adapter.getLabelWidth()*ut.LABEL_SCALE;this.adapter.notchOutline(e)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText_||!this.helperText_.isPersistent()&&this.helperText_.isValidation()&&this.isValid_||this.helperText_.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var e=t.touches,n=e?e[0]:t,r=n.target.getBoundingClientRect(),i=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(i)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity_(t),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},e.prototype.getValue=function(){return this.getNativeInput_().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput_().value=t),this.setCharacterCounter_(t.length),this.validateOnValueChange_){var e=this.isValid();this.styleValidity_(e)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},e.prototype.setValid=function(t){this.isValid_=t,this.styleValidity_(t);var e=!t&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(e)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange_=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation_=t},e.prototype.isDisabled=function(){return this.getNativeInput_().disabled},e.prototype.setDisabled=function(t){this.getNativeInput_().disabled=t,this.styleDisabled_(t)},e.prototype.setHelperTextContent=function(t){this.helperText_&&this.helperText_.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon_&&this.leadingIcon_.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon_&&this.trailingIcon_.setContent(t)},e.prototype.setCharacterCounter_=function(t){if(this.characterCounter_){var e=this.getNativeInput_().maxLength;if(-1===e)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(t,e)}},e.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},e.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},e.prototype.styleValidity_=function(t){var n=e.cssClasses.INVALID;if(t?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText_){if(this.helperText_.setValidity(t),!this.helperText_.isValidation())return;var r=this.helperText_.isVisible(),i=this.helperText_.getId();r&&i?this.adapter.setInputAttr(at.ARIA_DESCRIBEDBY,i):this.adapter.removeInputAttr(at.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused_=function(t){var n=e.cssClasses.FOCUSED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.styleDisabled_=function(t){var n=e.cssClasses,r=n.DISABLED,i=n.INVALID;t?(this.adapter.addClass(r),this.adapter.removeClass(i)):this.adapter.removeClass(r),this.leadingIcon_&&this.leadingIcon_.setDisabled(t),this.trailingIcon_&&this.trailingIcon_.setDisabled(t)},e.prototype.styleFloating_=function(t){var n=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.getNativeInput_=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(v);var pt={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},mt={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+pt.ROOT},Et=function(t){function e(n){return t.call(this,M(M({},e.defaultAdapter),n))||this}return N(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return pt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return mt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(mt.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.isPersistent=function(){return this.adapter.hasClass(pt.HELPER_TEXT_PERSISTENT)},e.prototype.setPersistent=function(t){t?this.adapter.addClass(pt.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(pt.HELPER_TEXT_PERSISTENT)},e.prototype.isValidation=function(){return this.adapter.hasClass(pt.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidation=function(t){t?this.adapter.addClass(pt.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(pt.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(mt.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var e=this.adapter.hasClass(pt.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(pt.HELPER_TEXT_VALIDATION_MSG)&&!t;n?(this.showToScreenReader(),this.adapter.setAttr(mt.ROLE,"alert")):this.adapter.removeAttr(mt.ROLE),e||n||this.hide_()},e.prototype.hide_=function(){this.adapter.setAttr(mt.ARIA_HIDDEN,"true")},e}(v);var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Et({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}})},e}(_),gt={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},vt={ROOT:"mdc-text-field__icon"},_t=["click","keydown"],Tt=function(t){function e(n){var r=t.call(this,M(M({},e.defaultAdapter),n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(t){return r.handleInteraction(t)},r}return N(e,t),Object.defineProperty(e,"strings",{get:function(){return gt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return vt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this;this.savedTabIndex_=this.adapter.getAttr("tabindex"),_t.forEach((function(e){t.adapter.registerInteractionHandler(e,t.interactionHandler_)}))},e.prototype.destroy=function(){var t=this;_t.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.interactionHandler_)}))},e.prototype.setDisabled=function(t){this.savedTabIndex_&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex_),this.adapter.setAttr("role",gt.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&(t.preventDefault(),this.adapter.notifyIconAction())},e}(v);var It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Tt({getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(Tt.strings.ICON_EVENT,{},!0)}})},e}(_),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o,a){void 0===t&&(t=function(t,e){return new x(t,e)}),void 0===e&&(e=function(t){return new X(t)}),void 0===n&&(n=function(t){return new yt(t)}),void 0===r&&(r=function(t){return new ot(t)}),void 0===i&&(i=function(t){return new It(t)}),void 0===o&&(o=function(t){return new V(t)}),void 0===a&&(a=function(t){return new et(t)}),this.input_=this.root.querySelector(at.INPUT_SELECTOR);var s=this.root.querySelector(at.LABEL_SELECTOR);this.label_=s?o(s):null;var u=this.root.querySelector(at.LINE_RIPPLE_SELECTOR);this.lineRipple_=u?e(u):null;var c=this.root.querySelector(at.OUTLINE_SELECTOR);this.outline_=c?a(c):null;var l=Et.strings,d=this.root.nextElementSibling,h=d&&d.classList.contains(st.HELPER_LINE),f=h&&d&&d.querySelector(l.ROOT_SELECTOR);this.helperText_=f?n(f):null;var p=it.strings,m=this.root.querySelector(p.ROOT_SELECTOR);!m&&h&&d&&(m=d.querySelector(p.ROOT_SELECTOR)),this.characterCounter_=m?r(m):null;var E=this.root.querySelector(at.LEADING_ICON_SELECTOR);this.leadingIcon_=E?i(E):null;var y=this.root.querySelector(at.TRAILING_ICON_SELECTOR);this.trailingIcon_=y?i(y):null,this.prefix_=this.root.querySelector(at.PREFIX_SELECTOR),this.suffix_=this.root.querySelector(at.SUFFIX_SELECTOR),this.ripple=this.createRipple_(t)},e.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple_&&this.lineRipple_.destroy(),this.helperText_&&this.helperText_.destroy(),this.characterCounter_&&this.characterCounter_.destroy(),this.leadingIcon_&&this.leadingIcon_.destroy(),this.trailingIcon_&&this.trailingIcon_.destroy(),this.label_&&this.label_.destroy(),this.outline_&&this.outline_.destroy(),t.prototype.destroy.call(this)},e.prototype.initialSyncWithDOM=function(){this.disabled=this.input_.disabled},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(t){this.foundation.setDisabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.input_.required},set:function(t){this.input_.required=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this.input_.pattern},set:function(t){this.input_.pattern=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLength",{get:function(){return this.input_.minLength},set:function(t){this.input_.minLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this.input_.maxLength},set:function(t){t<0?this.input_.removeAttribute("maxLength"):this.input_.maxLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.input_.min},set:function(t){this.input_.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.input_.max},set:function(t){this.input_.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.input_.step},set:function(t){this.input_.step=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconAriaLabel",{set:function(t){this.foundation.setTrailingIconAriaLabel(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconContent",{set:function(t){this.foundation.setTrailingIconContent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useNativeValidation",{set:function(t){this.foundation.setUseNativeValidation(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prefixText",{get:function(){return this.prefix_?this.prefix_.textContent:null},set:function(t){this.prefix_&&(this.prefix_.textContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suffixText",{get:function(){return this.suffix_?this.suffix_.textContent:null},set:function(t){this.suffix_&&(this.suffix_.textContent=t)},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.input_.focus()},e.prototype.layout=function(){var t=this.foundation.shouldFloat;this.foundation.notchOutline(t)},e.prototype.getDefaultFoundation=function(){var t=M(M(M(M(M({},this.getRootAdapterMethods_()),this.getInputAdapterMethods_()),this.getLabelAdapterMethods_()),this.getLineRippleAdapterMethods_()),this.getOutlineAdapterMethods_());return new ft(t,this.getFoundationMap_())},e.prototype.getRootAdapterMethods_=function(){var t=this;return{addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},registerTextFieldInteractionHandler:function(e,n){t.listen(e,n)},deregisterTextFieldInteractionHandler:function(e,n){t.unlisten(e,n)},registerValidationAttributeChangeHandler:function(e){var n=new MutationObserver((function(t){return e(function(t){return t.map((function(t){return t.attributeName})).filter((function(t){return t}))}(t))}));return n.observe(t.input_,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(t){t.disconnect()}}},e.prototype.getInputAdapterMethods_=function(){var t=this;return{getNativeInput:function(){return t.input_},setInputAttr:function(e,n){t.input_.setAttribute(e,n)},removeInputAttr:function(e){t.input_.removeAttribute(e)},isFocused:function(){return document.activeElement===t.input_},registerInputInteractionHandler:function(e,n){t.input_.addEventListener(e,n,T())},deregisterInputInteractionHandler:function(e,n){t.input_.removeEventListener(e,n,T())}}},e.prototype.getLabelAdapterMethods_=function(){var t=this;return{floatLabel:function(e){return t.label_&&t.label_.float(e)},getLabelWidth:function(){return t.label_?t.label_.getWidth():0},hasLabel:function(){return Boolean(t.label_)},shakeLabel:function(e){return t.label_&&t.label_.shake(e)},setLabelRequired:function(e){return t.label_&&t.label_.setRequired(e)}}},e.prototype.getLineRippleAdapterMethods_=function(){var t=this;return{activateLineRipple:function(){t.lineRipple_&&t.lineRipple_.activate()},deactivateLineRipple:function(){t.lineRipple_&&t.lineRipple_.deactivate()},setLineRippleTransformOrigin:function(e){t.lineRipple_&&t.lineRipple_.setRippleCenter(e)}}},e.prototype.getOutlineAdapterMethods_=function(){var t=this;return{closeOutline:function(){return t.outline_&&t.outline_.closeNotch()},hasOutline:function(){return Boolean(t.outline_)},notchOutline:function(e){return t.outline_&&t.outline_.notch(e)}}},e.prototype.getFoundationMap_=function(){return{characterCounter:this.characterCounter_?this.characterCounter_.foundationForTextField:void 0,helperText:this.helperText_?this.helperText_.foundationForTextField:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundationForTextField:void 0,trailingIcon:this.trailingIcon_?this.trailingIcon_.foundationForTextField:void 0}},e.prototype.createRipple_=function(t){var e=this,n=this.root.classList.contains(st.TEXTAREA),r=this.root.classList.contains(st.OUTLINED);if(n||r)return null;var i=M(M({},x.createAdapter(this)),{isSurfaceActive:function(){return b(e.input_,":active")},registerInteractionHandler:function(t,n){return e.input_.addEventListener(t,n,T())},deregisterInteractionHandler:function(t,n){return e.input_.removeEventListener(t,n,T())}});return t(this.root,new D(i))},e}(_),At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ct(t,e){function n(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var St={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},Rt={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"},wt=function(t){function e(n){var r=t.call(this,Ot(Ot({},e.defaultAdapter),n))||this;return r.hasToggledAriaLabel=!1,r}return Ct(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return St},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Rt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this.adapter.getAttr(Rt.DATA_ARIA_LABEL_ON),e=this.adapter.getAttr(Rt.DATA_ARIA_LABEL_OFF);if(t&&e){if(null!==this.adapter.getAttr(Rt.ARIA_PRESSED))throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(Rt.ARIA_PRESSED,String(this.isOn()))},e.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},e.prototype.isOn=function(){return this.adapter.hasClass(St.ICON_BUTTON_ON)},e.prototype.toggle=function(t){if(void 0===t&&(t=!this.isOn()),t?this.adapter.addClass(St.ICON_BUTTON_ON):this.adapter.removeClass(St.ICON_BUTTON_ON),this.hasToggledAriaLabel){var e=t?this.adapter.getAttr(Rt.DATA_ARIA_LABEL_ON):this.adapter.getAttr(Rt.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(Rt.ARIA_LABEL,e||"")}else this.adapter.setAttr(Rt.ARIA_PRESSED,""+t)},e}(v);var Lt=wt.strings,Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rippleComponent=e.createRipple(),e}return Ct(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleClick=function(){t.foundation.handleClick()},this.listen("click",this.handleClick)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.ripple.destroy(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new wt({addClass:function(e){return t.root.classList.add(e)},hasClass:function(e){return t.root.classList.contains(e)},notifyChange:function(e){t.emit(Lt.CHANGE_EVENT,e)},removeClass:function(e){return t.root.classList.remove(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)}})},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"on",{get:function(){return this.foundation.isOn()},set:function(t){this.foundation.toggle(t)},enumerable:!0,configurable:!0}),e.prototype.createRipple=function(){var t=new x(this.root);return t.unbounded=!0,t},e}(_),xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Pt(t,e){function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var Mt={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},kt={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function Ft(t){return Boolean(t.document)&&"function"==typeof t.document.createElement}function Ht(t,e){if(Ft(t)&&e in Mt){var n=t.document.createElement("div"),r=Mt[e],i=r.standard,o=r.prefixed;return i in n.style?i:o}return e}function Bt(t,e){if(Ft(t)&&e in kt){var n=t.document.createElement("div"),r=kt[e],i=r.standard,o=r.prefixed;return r.cssProperty in n.style?i:o}return e}var Gt={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},Vt={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",DATA_INDETERMINATE_ATTR:"data-indeterminate",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},Ut={ANIM_END_LATCH_MS:250},jt=function(t){function e(n){var r=t.call(this,Nt(Nt({},e.defaultAdapter),n))||this;return r.currentCheckState_=Vt.TRANSITION_STATE_INIT,r.currentAnimationClass_="",r.animEndLatchTimer_=0,r.enableAnimationEndHandler_=!1,r}return Pt(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Gt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Vt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ut},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.currentCheckState_=this.determineCheckState_(),this.updateAriaChecked_(),this.adapter.addClass(Gt.UPGRADED)},e.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer_)},e.prototype.setDisabled=function(t){this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(Gt.DISABLED):this.adapter.removeClass(Gt.DISABLED)},e.prototype.handleAnimationEnd=function(){var t=this;this.enableAnimationEndHandler_&&(clearTimeout(this.animEndLatchTimer_),this.animEndLatchTimer_=setTimeout((function(){t.adapter.removeClass(t.currentAnimationClass_),t.enableAnimationEndHandler_=!1}),Ut.ANIM_END_LATCH_MS))},e.prototype.handleChange=function(){this.transitionCheckState_()},e.prototype.transitionCheckState_=function(){if(this.adapter.hasNativeControl()){var t=this.currentCheckState_,e=this.determineCheckState_();if(t!==e){this.updateAriaChecked_();var n=Gt.SELECTED;e===Vt.TRANSITION_STATE_UNCHECKED?this.adapter.removeClass(n):this.adapter.addClass(n),this.currentAnimationClass_.length>0&&(clearTimeout(this.animEndLatchTimer_),this.adapter.forceLayout(),this.adapter.removeClass(this.currentAnimationClass_)),this.currentAnimationClass_=this.getTransitionAnimationClass_(t,e),this.currentCheckState_=e,this.adapter.isAttachedToDOM()&&this.currentAnimationClass_.length>0&&(this.adapter.addClass(this.currentAnimationClass_),this.enableAnimationEndHandler_=!0)}}},e.prototype.determineCheckState_=function(){var t=Vt.TRANSITION_STATE_INDETERMINATE,e=Vt.TRANSITION_STATE_CHECKED,n=Vt.TRANSITION_STATE_UNCHECKED;return this.adapter.isIndeterminate()?t:this.adapter.isChecked()?e:n},e.prototype.getTransitionAnimationClass_=function(t,n){var r=Vt.TRANSITION_STATE_INIT,i=Vt.TRANSITION_STATE_CHECKED,o=Vt.TRANSITION_STATE_UNCHECKED,a=e.cssClasses,s=a.ANIM_UNCHECKED_CHECKED,u=a.ANIM_UNCHECKED_INDETERMINATE,c=a.ANIM_CHECKED_UNCHECKED,l=a.ANIM_CHECKED_INDETERMINATE,d=a.ANIM_INDETERMINATE_CHECKED,h=a.ANIM_INDETERMINATE_UNCHECKED;switch(t){case r:return n===o?"":n===i?d:h;case o:return n===i?s:u;case i:return n===o?c:l;default:return n===i?d:h}},e.prototype.updateAriaChecked_=function(){this.adapter.isIndeterminate()?this.adapter.setNativeControlAttr(Vt.ARIA_CHECKED_ATTR,Vt.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter.removeNativeControlAttr(Vt.ARIA_CHECKED_ATTR)},e}(v);var qt=["checked","indeterminate"],Wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ripple_=e.createRipple_(),e}return Pt(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(t){this.nativeControl_.checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return this.nativeControl_.indeterminate},set:function(t){this.nativeControl_.indeterminate=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeControl_.value},set:function(t){this.nativeControl_.value=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=Vt.DATA_INDETERMINATE_ATTR;this.nativeControl_.indeterminate="true"===this.nativeControl_.getAttribute(t),this.nativeControl_.removeAttribute(t)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleChange_=function(){return t.foundation.handleChange()},this.handleAnimationEnd_=function(){return t.foundation.handleAnimationEnd()},this.nativeControl_.addEventListener("change",this.handleChange_),this.listen(Bt(window,"animationend"),this.handleAnimationEnd_),this.installPropertyChangeHooks_()},e.prototype.destroy=function(){this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.handleChange_),this.unlisten(Bt(window,"animationend"),this.handleAnimationEnd_),this.uninstallPropertyChangeHooks_(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new jt({addClass:function(e){return t.root.classList.add(e)},forceLayout:function(){return t.root.offsetWidth},hasNativeControl:function(){return!!t.nativeControl_},isAttachedToDOM:function(){return Boolean(t.root.parentNode)},isChecked:function(){return t.checked},isIndeterminate:function(){return t.indeterminate},removeClass:function(e){t.root.classList.remove(e)},removeNativeControlAttr:function(e){t.nativeControl_.removeAttribute(e)},setNativeControlAttr:function(e,n){t.nativeControl_.setAttribute(e,n)},setNativeControlDisabled:function(e){t.nativeControl_.disabled=e}})},e.prototype.createRipple_=function(){var t=this,e=Nt(Nt({},x.createAdapter(this)),{deregisterInteractionHandler:function(e,n){return t.nativeControl_.removeEventListener(e,n,T())},isSurfaceActive:function(){return b(t.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(e,n){return t.nativeControl_.addEventListener(e,n,T())}});return new x(this.root,new D(e))},e.prototype.installPropertyChangeHooks_=function(){var t=this,e=this.nativeControl_,n=Object.getPrototypeOf(e);qt.forEach((function(r){var i=Object.getOwnPropertyDescriptor(n,r);if(zt(i)){var o=i.get,a={configurable:i.configurable,enumerable:i.enumerable,get:o,set:function(n){i.set.call(e,n),t.foundation.handleChange()}};Object.defineProperty(e,r,a)}}))},e.prototype.uninstallPropertyChangeHooks_=function(){var t=this.nativeControl_,e=Object.getPrototypeOf(t);qt.forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);zt(r)&&Object.defineProperty(t,n,r)}))},Object.defineProperty(e.prototype,"nativeControl_",{get:function(){var t=Vt.NATIVE_CONTROL_SELECTOR,e=this.root.querySelector(t);if(!e)throw new Error("Checkbox component requires a "+t+" element");return e},enumerable:!0,configurable:!0}),e}(_);function zt(t){return!!t&&"function"==typeof t.set}var Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Yt(t,e){function n(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var Qt={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},Jt={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Zt={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},$t=Qt.OPENING,te=Qt.OPEN,ee=Qt.CLOSING,ne=Jt.REASON_ACTION,re=Jt.REASON_DISMISS,ie=function(t){function e(n){var r=t.call(this,Kt(Kt({},e.defaultAdapter),n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.autoDismissTimer_=0,r.autoDismissTimeoutMs_=Zt.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape_=!0,r}return Yt(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Qt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Jt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Zt},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter.removeClass($t),this.adapter.removeClass(te),this.adapter.removeClass(ee)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.removeClass(ee),this.adapter.addClass($t),this.adapter.announce(),this.runNextAnimationFrame_((function(){t.adapter.addClass(te),t.animationTimer_=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd_(),t.adapter.notifyOpened(),e!==Zt.INDETERMINATE&&(t.autoDismissTimer_=setTimeout((function(){t.close(re)}),e))}),Zt.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Qt.CLOSING),this.adapter.removeClass(Qt.OPEN),this.adapter.removeClass(Qt.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){e.handleAnimationTimerEnd_(),e.adapter.notifyClosed(t)}),Zt.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},e.prototype.setTimeoutMs=function(t){var e=Zt.MIN_AUTO_DISMISS_TIMEOUT_MS,n=Zt.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===Zt.INDETERMINATE||t<=n&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+""+n+"\n        (or "+Zt.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs_=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape_=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(re)},e.prototype.handleActionButtonClick=function(t){this.close(ne)},e.prototype.handleActionIconClick=function(t){this.close(re)},e.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(Qt.OPENING),this.adapter.removeClass(Qt.CLOSING)},e.prototype.runNextAnimationFrame_=function(t){var e=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){e.animationFrame_=0,clearTimeout(e.animationTimer_),e.animationTimer_=setTimeout(t,0)}))},e}(v);var oe=Zt.ARIA_LIVE_DELAY_MS,ae=Jt.ARIA_LIVE_LABEL_TEXT_ATTR;function se(t,e){void 0===e&&(e=t);var n=t.getAttribute("aria-live"),r=e.textContent.trim();r&&n&&(t.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(ae,r),setTimeout((function(){t.setAttribute("aria-live",n),e.removeAttribute(ae),e.textContent=r}),oe))}var ue=Jt.SURFACE_SELECTOR,ce=Jt.LABEL_SELECTOR,le=Jt.ACTION_SELECTOR,de=Jt.DISMISS_SELECTOR,he=Jt.OPENING_EVENT,fe=Jt.OPENED_EVENT,pe=Jt.CLOSING_EVENT,me=Jt.CLOSED_EVENT,Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(){return se}),this.announce_=t()},e.prototype.initialSyncWithDOM=function(){var t=this;this.surfaceEl_=this.root.querySelector(ue),this.labelEl_=this.root.querySelector(ce),this.actionEl_=this.root.querySelector(le),this.handleKeyDown_=function(e){return t.foundation.handleKeyDown(e)},this.handleSurfaceClick_=function(e){var n=e.target;t.isActionButton_(n)?t.foundation.handleActionButtonClick(e):t.isActionIcon_(n)&&t.foundation.handleActionIconClick(e)},this.registerKeyDownHandler_(this.handleKeyDown_),this.registerSurfaceClickHandler_(this.handleSurfaceClick_)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterKeyDownHandler_(this.handleKeyDown_),this.deregisterSurfaceClickHandler_(this.handleSurfaceClick_)},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new ie({addClass:function(e){return t.root.classList.add(e)},announce:function(){return t.announce_(t.labelEl_)},notifyClosed:function(e){return t.emit(me,e?{reason:e}:{})},notifyClosing:function(e){return t.emit(pe,e?{reason:e}:{})},notifyOpened:function(){return t.emit(fe,{})},notifyOpening:function(){return t.emit(he,{})},removeClass:function(e){return t.root.classList.remove(e)}})},Object.defineProperty(e.prototype,"timeoutMs",{get:function(){return this.foundation.getTimeoutMs()},set:function(t){this.foundation.setTimeoutMs(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnEscape",{get:function(){return this.foundation.getCloseOnEscape()},set:function(t){this.foundation.setCloseOnEscape(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelText",{get:function(){return this.labelEl_.textContent},set:function(t){this.labelEl_.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionButtonText",{get:function(){return this.actionEl_.textContent},set:function(t){this.actionEl_.textContent=t},enumerable:!0,configurable:!0}),e.prototype.registerKeyDownHandler_=function(t){this.listen("keydown",t)},e.prototype.deregisterKeyDownHandler_=function(t){this.unlisten("keydown",t)},e.prototype.registerSurfaceClickHandler_=function(t){this.surfaceEl_.addEventListener("click",t)},e.prototype.deregisterSurfaceClickHandler_=function(t){this.surfaceEl_.removeEventListener("click",t)},e.prototype.isActionButton_=function(t){return Boolean(I(t,le))},e.prototype.isActionIcon_=function(t){return Boolean(I(t,de))},e}(_),ye=function(t,e){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ge(t,e){function n(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ve=function(){return(ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var _e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Te(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ie,be=function(){return(be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var Ae={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Ce={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"button:not(:disabled), a",FOCUSABLE_CHILD_ELEMENTS:'button:not(:disabled), a, input[type="radio"]:not(:disabled), input[type="checkbox"]:not(:disabled)',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Oe={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},Se=((Ie={})[""+Ae.LIST_ITEM_ACTIVATED_CLASS]="mdc-evolution-list-item--activated",Ie[""+Ae.LIST_ITEM_CLASS]="mdc-evolution-list-item",Ie[""+Ae.LIST_ITEM_DISABLED_CLASS]="mdc-evolution-list-item--disabled",Ie[""+Ae.LIST_ITEM_SELECTED_CLASS]="mdc-evolution-list-item--selected",Ie[""+Ae.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-evolution-list-item__primary-text",Ie[""+Ae.ROOT]="mdc-evolution-list",Ie),Re="Unknown",we="Backspace",Le="Enter",De="Spacebar",xe="PageUp",Pe="PageDown",Ne="End",Me="Home",ke="ArrowLeft",Fe="ArrowUp",He="ArrowRight",Be="ArrowDown",Ge="Delete",Ve="Escape",Ue=new Set;Ue.add(we),Ue.add(Le),Ue.add(De),Ue.add(xe),Ue.add(Pe),Ue.add(Ne),Ue.add(Me),Ue.add(ke),Ue.add(Fe),Ue.add(He),Ue.add(Be),Ue.add(Ge),Ue.add(Ve);var je=8,qe=13,We=32,ze=33,Xe=34,Ye=35,Ke=36,Qe=37,Je=38,Ze=39,$e=40,tn=46,en=27,nn=new Map;nn.set(je,we),nn.set(qe,Le),nn.set(We,De),nn.set(ze,xe),nn.set(Xe,Pe),nn.set(Ye,Ne),nn.set(Ke,Me),nn.set(Qe,ke),nn.set(Je,Fe),nn.set(Ze,He),nn.set($e,Be),nn.set(tn,Ge),nn.set(en,Ve);var rn=new Set;function on(t){var e=t.key;if(Ue.has(e))return e;var n=nn.get(t.keyCode);return n||Re}rn.add(xe),rn.add(Pe),rn.add(Ne),rn.add(Me),rn.add(ke),rn.add(Fe),rn.add(He),rn.add(Be);var an=["input","button","textarea","select"],sn=function(t){var e=t.target;if(e){var n=(""+e.tagName).toLowerCase();-1===an.indexOf(n)&&t.preventDefault()}};function un(t,e){var n,r=t.nextChar,i=t.focusItemAtIndex,o=t.sortedIndexByFirstChar,a=t.focusedItemIndex,s=t.skipFocus,u=t.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout((function(){ln(e)}),Oe.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+r,-1===(n=1===e.typeaheadBuffer.length?function(t,e,n,r){var i=r.typeaheadBuffer[0],o=t.get(i);if(!o)return-1;if(i===r.currentFirstChar&&o[r.sortedIndexCursor].index===e){r.sortedIndexCursor=(r.sortedIndexCursor+1)%o.length;var a=o[r.sortedIndexCursor].index;if(!n(a))return a}r.currentFirstChar=i;var s,u=-1;for(s=0;s<o.length;s++)if(!n(o[s].index)){u=s;break}for(;s<o.length;s++)if(o[s].index>e&&!n(o[s].index)){u=s;break}if(-1!==u)return r.sortedIndexCursor=u,o[r.sortedIndexCursor].index;return-1}(o,a,u,e):function(t,e,n){var r=n.typeaheadBuffer[0],i=t.get(r);if(!i)return-1;var o=i[n.sortedIndexCursor];if(0===o.text.lastIndexOf(n.typeaheadBuffer,0)&&!e(o.index))return o.index;var a=(n.sortedIndexCursor+1)%i.length,s=-1;for(;a!==n.sortedIndexCursor;){var u=i[a],c=0===u.text.lastIndexOf(n.typeaheadBuffer,0),l=!e(u.index);if(c&&l){s=a;break}a=(a+1)%i.length}if(-1!==s)return n.sortedIndexCursor=s,i[n.sortedIndexCursor].index;return-1}(o,u,e))||s||i(n),n}function cn(t){return t.typeaheadBuffer.length>0}function ln(t){t.typeaheadBuffer=""}function dn(t,e){var n=t.event,r=t.isTargetListItem,i=t.focusedItemIndex,o=t.focusItemAtIndex,a=t.sortedIndexByFirstChar,s=t.isItemAtIndexDisabled,u="ArrowLeft"===on(n),c="ArrowUp"===on(n),l="ArrowRight"===on(n),d="ArrowDown"===on(n),h="Home"===on(n),f="End"===on(n),p="Enter"===on(n),m="Spacebar"===on(n);return u||c||l||d||h||f||p?-1:m||1!==n.key.length?m?(r&&sn(n),r&&cn(e)?un({focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},e):-1):-1:(sn(n),un({focusItemAtIndex:o,focusedItemIndex:i,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},e))}var hn=function(t){function e(n){var r=t.call(this,be(be({},e.defaultAdapter),n))||this;return r.wrapFocus_=!1,r.isVertical_=!0,r.isSingleSelectionList_=!1,r.selectedIndex_=Oe.UNSET_INDEX,r.focusedItemIndex=Oe.UNSET_INDEX,r.useActivatedClass_=!1,r.useSelectedAttr_=!1,r.ariaCurrentAttrValue_=null,r.isCheckboxList_=!1,r.isRadioList_=!1,r.hasTypeahead=!1,r.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},r.sortedIndexByFirstChar=new Map,r}return Te(e,t),Object.defineProperty(e,"strings",{get:function(){return Ce},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Ae},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Oe},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!0,configurable:!0}),e.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList_=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.setWrapFocus=function(t){this.wrapFocus_=t},e.prototype.setVerticalOrientation=function(t){this.isVertical_=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList_=t,t&&this.maybeInitializeSingleSelection()},e.prototype.maybeInitializeSingleSelection=function(){for(var t=this.adapter.getListItemCount(),e=0;e<t;e++){var n=this.adapter.listItemAtIndexHasClass(e,Ae.LIST_ITEM_SELECTED_CLASS),r=this.adapter.listItemAtIndexHasClass(e,Ae.LIST_ITEM_ACTIVATED_CLASS);if(n||r)return r&&this.setUseActivatedClass(!0),this.isSingleSelectionList_=!0,void(this.selectedIndex_=e)}},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&cn(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass_=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr_=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex_},e.prototype.setSelectedIndex=function(t){this.isIndexValid_(t)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(t):this.isRadioList_?this.setRadioAtIndex_(t):this.setSingleSelectionAtIndex_(t))},e.prototype.handleFocusIn=function(t,e){e>=0&&(this.focusedItemIndex=e,this.adapter.setAttributeForElementIndex(e,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(e,"0"))},e.prototype.handleFocusOut=function(t,e){var n=this;e>=0&&(this.adapter.setAttributeForElementIndex(e,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(e,"-1")),setTimeout((function(){n.adapter.isFocusInsideList()||n.setTabindexToFirstSelectedOrFocusedItem()}),0)},e.prototype.handleKeydown=function(t,e,n){var r=this,i="ArrowLeft"===on(t),o="ArrowUp"===on(t),a="ArrowRight"===on(t),s="ArrowDown"===on(t),u="Home"===on(t),c="End"===on(t),l="Enter"===on(t),d="Spacebar"===on(t),h="A"===t.key||"a"===t.key;if(this.adapter.isRootFocused()){o||c?(t.preventDefault(),this.focusLastElement()):(s||u)&&(t.preventDefault(),this.focusFirstElement()),this.hasTypeahead&&dn({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:-1,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ae.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}else{var f=this.adapter.getFocusedElementIndex();if(!(-1===f&&(f=n)<0)){if(this.isVertical_&&s||!this.isVertical_&&a)sn(t),this.focusNextElement(f);else if(this.isVertical_&&o||!this.isVertical_&&i)sn(t),this.focusPrevElement(f);else if(u)sn(t),this.focusFirstElement();else if(c)sn(t),this.focusLastElement();else if(h&&t.ctrlKey&&this.isCheckboxList_)t.preventDefault(),this.toggleAll(this.selectedIndex_===Oe.UNSET_INDEX?[]:this.selectedIndex_);else if((l||d)&&e){var p=t.target;if(p&&"A"===p.tagName&&l)return;if(sn(t),this.adapter.listItemAtIndexHasClass(f,Ae.LIST_ITEM_DISABLED_CLASS))return;this.isTypeaheadInProgress()||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(f),this.adapter.notifyAction(f))}if(this.hasTypeahead)dn({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ae.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}}},e.prototype.handleClick=function(t,e){t!==Oe.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,Ae.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(t,e),this.adapter.notifyAction(t)))},e.prototype.focusNextElement=function(t){var e=t+1;if(e>=this.adapter.getListItemCount()){if(!this.wrapFocus_)return t;e=0}return this.focusItemAtIndex(e),e},e.prototype.focusPrevElement=function(t){var e=t-1;if(e<0){if(!this.wrapFocus_)return t;e=this.adapter.getListItemCount()-1}return this.focusItemAtIndex(e),e},e.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var t=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(t),t},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,e){this.isIndexValid_(t)&&(e?(this.adapter.removeClassForElementIndex(t,Ae.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,Ce.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,Ae.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,Ce.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex_=function(t){if(this.selectedIndex_!==t){var e=Ae.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(e=Ae.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==Oe.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex_,e),this.setAriaForSingleSelectionAtIndex_(t),this.setTabindexAtIndex(t),t!==Oe.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,e),this.selectedIndex_=t}},e.prototype.setAriaForSingleSelectionAtIndex_=function(t){this.selectedIndex_===Oe.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(t,Ce.ARIA_CURRENT));var e=null!==this.ariaCurrentAttrValue_,n=e?Ce.ARIA_CURRENT:Ce.ARIA_SELECTED;if(this.selectedIndex_!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,n,"false"),t!==Oe.UNSET_INDEX){var r=e?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(t,n,r)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr_?Ce.ARIA_SELECTED:Ce.ARIA_CHECKED},e.prototype.setRadioAtIndex_=function(t){var e=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),this.selectedIndex_!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,e,"false"),this.adapter.setAttributeForElementIndex(t,e,"true"),this.selectedIndex_=t},e.prototype.setCheckboxAtIndex_=function(t){for(var e=this.getSelectionAttribute(),n=0;n<this.adapter.getListItemCount();n++){var r=!1;t.indexOf(n)>=0&&(r=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(n,r),this.adapter.setAttributeForElementIndex(n,e,r?"true":"false")}this.selectedIndex_=t},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===Oe.UNSET_INDEX&&0!==t?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex_ instanceof Array||this.selectedIndex_===t||this.adapter.setAttributeForElementIndex(this.selectedIndex_,"tabindex","-1"),t!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){var t=this.focusedItemIndex>=0?this.focusedItemIndex:0;return this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==Oe.UNSET_INDEX?t=this.selectedIndex_:this.selectedIndex_ instanceof Array&&this.selectedIndex_.length>0&&(t=this.selectedIndex_.reduce((function(t,e){return Math.min(t,e)})))),t},e.prototype.isIndexValid_=function(t){var e=this;if(t instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===t.length||t.some((function(t){return e.isIndexInRange_(t)}))}if("number"==typeof t){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange_(t)||this.isSingleSelectionList_&&t===Oe.UNSET_INDEX}return!1},e.prototype.isIndexInRange_=function(t){var e=this.adapter.getListItemCount();return t>=0&&t<e},e.prototype.setSelectedIndexOnAction_=function(t,e){void 0===e&&(e=!0),this.isCheckboxList_?this.toggleCheckboxAtIndex_(t,e):this.setSelectedIndex(t)},e.prototype.toggleCheckboxAtIndex_=function(t,e){var n=this.getSelectionAttribute(),r=this.adapter.isCheckboxCheckedAtIndex(t);e&&(r=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,r)),this.adapter.setAttributeForElementIndex(t,n,r?"true":"false");var i=this.selectedIndex_===Oe.UNSET_INDEX?[]:this.selectedIndex_.slice();r?i.push(t):i=i.filter((function(e){return e!==t})),this.selectedIndex_=i},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.toggleAll=function(t){var e=this.adapter.getListItemCount();if(t.length===e)this.setCheckboxAtIndex_([]);else{for(var n=[],r=0;r<e;r++)(!this.adapter.listItemAtIndexHasClass(r,Ae.LIST_ITEM_DISABLED_CLASS)||t.indexOf(r)>-1)&&n.push(r);this.setCheckboxAtIndex_(n)}},e.prototype.typeaheadMatchItem=function(t,e,n){var r=this;return void 0===n&&(n=!1),un({focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:e||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ae.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return function(t,e){for(var n=new Map,r=0;r<t;r++){var i=e(r).trim();if(i){var o=i[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:i.toLowerCase(),index:r})}}return n.forEach((function(t){t.sort((function(t,e){return t.index-e.index}))})),n}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){ln(this.typeaheadState)},e}(v);var fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te(e,t),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation.setVerticalOrientation(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[Ae.LIST_ITEM_CLASS]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation.setWrapFocus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.foundation.setHasTypeahead(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation.setSingleSelection(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t)},enumerable:!0,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.classNameMap=this.isEvolutionEnabled?Se:Object.values(Ae).reduce((function(t,e){return t[e]=e,t}),{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},e.prototype.layout=function(){var t=this.root.getAttribute(Ce.ARIA_ORIENTATION);this.vertical=t!==Ce.ARIA_ORIENTATION_HORIZONTAL;var e="."+this.classNameMap[Ae.LIST_ITEM_CLASS]+":not([tabindex])",n="."+this.classNameMap[Ae.LIST_ITEM_CLASS]+" "+Ce.FOCUSABLE_CHILD_ELEMENTS;Array.prototype.forEach.call(this.root.querySelectorAll(e),(function(t){t.setAttribute("tabindex","-1")})),Array.prototype.forEach.call(this.root.querySelectorAll(n),(function(t){t.setAttribute("tabindex","-1")})),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},e.prototype.getPrimaryText=function(t){var e,n=t.querySelector("."+this.classNameMap[Ae.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||n)return null!==(e=null==n?void 0:n.textContent)&&void 0!==e?e:"";var r=t.querySelector("."+this.classNameMap[Ae.LIST_ITEM_TEXT_CLASS]);return r&&r.textContent||""},e.prototype.initializeListType=function(){var t=this;if(this.isInteractive=b(this.root,Ce.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var e=Array.from(this.root.querySelectorAll(Ce.SELECTED_ITEM_SELECTOR),(function(e){return t.listElements.indexOf(e)}));b(this.root,Ce.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=e:e.length>0&&(this.selectedIndex=e[0])}else{var n=this.root.querySelectorAll(Ce.ARIA_ROLE_CHECKBOX_SELECTOR),r=this.root.querySelector(Ce.ARIA_CHECKED_RADIO_SELECTOR);if(n.length){var i=this.root.querySelectorAll(Ce.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(i,(function(e){return t.listElements.indexOf(e)}))}else r&&(this.selectedIndex=this.listElements.indexOf(r))}},e.prototype.setEnabled=function(t,e){this.foundation.setEnabled(t,e)},e.prototype.typeaheadMatchItem=function(t,e){return this.foundation.typeaheadMatchItem(t,e,!0)},e.prototype.getDefaultFoundation=function(){var t=this;return new hn({addClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.add(t.classNameMap[n])},focusItemAtIndex:function(e){var n=t.listElements[e];n&&n.focus()},getAttributeForElementIndex:function(e,n){return t.listElements[e].getAttribute(n)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},getPrimaryTextAtIndex:function(e){return t.getPrimaryText(t.listElements[e])},hasCheckboxAtIndex:function(e){return!!t.listElements[e].querySelector(Ce.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(e){return!!t.listElements[e].querySelector(Ce.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(e){return t.listElements[e].querySelector(Ce.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root!==document.activeElement&&t.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root},listItemAtIndexHasClass:function(e,n){return t.listElements[e].classList.contains(t.classNameMap[n])},notifyAction:function(e){t.emit(Ce.ACTION_EVENT,{index:e},!0)},removeClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.remove(t.classNameMap[n])},setAttributeForElementIndex:function(e,n,r){var i=t.listElements[e];i&&i.setAttribute(n,r)},setCheckedCheckboxOrRadioAtIndex:function(e,n){var r=t.listElements[e].querySelector(Ce.CHECKBOX_RADIO_SELECTOR);r.checked=n;var i=document.createEvent("Event");i.initEvent("change",!0,!0),r.dispatchEvent(i)},setTabIndexForListItemChildren:function(e,n){var r=t.listElements[e],i="."+t.classNameMap[Ae.LIST_ITEM_CLASS]+" "+Ce.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(r.querySelectorAll(i),(function(t){t.setAttribute("tabindex",n)}))}})},e.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[Ae.LIST_ITEM_CLASS]+'[tabindex="0"]')){var t=this.initialFocusIndex();-1!==t&&(this.listElements[t].tabIndex=0)}},e.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if("number"==typeof this.selectedIndex&&this.selectedIndex!==Oe.UNSET_INDEX)return this.selectedIndex;var t=this.root.querySelector("."+this.classNameMap[Ae.LIST_ITEM_CLASS]+":not(."+this.classNameMap[Ae.LIST_ITEM_DISABLED_CLASS]+")");return null===t?-1:this.getListItemIndex(t)},e.prototype.getListItemIndex=function(t){var e=I(t,"."+this.classNameMap[Ae.LIST_ITEM_CLASS]+", ."+this.classNameMap[Ae.ROOT]);return e&&b(e,"."+this.classNameMap[Ae.LIST_ITEM_CLASS])?this.listElements.indexOf(e):-1},e.prototype.handleFocusInEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusIn(t,e)},e.prototype.handleFocusOutEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusOut(t,e)},e.prototype.handleKeydownEvent=function(t){var e=this.getListItemIndex(t.target),n=t.target;this.foundation.handleKeydown(t,n.classList.contains(this.classNameMap[Ae.LIST_ITEM_CLASS]),e)},e.prototype.handleClickEvent=function(t){var e=this.getListItemIndex(t.target),n=!b(t.target,Ce.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(e,n)},e}(_),pn=function(t,e){return(pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function mn(t,e){function n(){this.constructor=t}pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var En=function(){return(En=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function yn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var gn,vn,_n={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Tn={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},In={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"}(gn||(gn={})),function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"}(vn||(vn={}));var bn=function(t){function e(n){var r=t.call(this,En(En({},e.defaultAdapter),n))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=vn.TOP_START,r.originCorner=vn.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return mn(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return _n},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Tn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return In},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return vn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,r=t.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(r)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^gn.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.setAbsolutePosition=function(t,e){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(e)?e:0},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){t.adapter.addClass(e.cssClasses.OPEN),t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.openAnimationEndTimerId=setTimeout((function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()}),In.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var n=this;if(void 0===t&&(t=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(e.cssClasses.OPEN),n.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),In.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var e=t.target;this.adapter.isElementInContainer(e)||this.close()},e.prototype.handleKeydown=function(t){var e=t.keyCode;("Escape"===t.key||27===e)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),r=this.getMenuSurfaceMaxHeight(n),i=this.hasBit(n,gn.BOTTOM)?"bottom":"top",o=this.hasBit(n,gn.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(n),s=this.getVerticalOriginOffset(n),u=this.measurements,c=u.anchorSize,l=u.surfaceSize,d=((t={})[o]=a,t[i]=s,t);c.width/l.width>In.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(d),this.adapter.setTransformOrigin(o+" "+i),this.adapter.setPosition(d),this.adapter.setMaxHeight(r?r+"px":""),this.hasBit(n,gn.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),e=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),r=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:e,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:r}},e.prototype.getoriginCorner=function(){var t,n,r=this.originCorner,i=this.measurements,o=i.viewportDistance,a=i.anchorSize,s=i.surfaceSize,u=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,gn.BOTTOM)?(t=o.top-u+this.anchorMargin.bottom,n=o.bottom-u-this.anchorMargin.bottom):(t=o.top-u+this.anchorMargin.top,n=o.bottom-u+a.height-this.anchorMargin.top),!(n-s.height>0)&&t>n&&(r=this.setBit(r,gn.BOTTOM));var c,l,d=this.adapter.isRtl(),h=this.hasBit(this.anchorCorner,gn.FLIP_RTL),f=this.hasBit(this.anchorCorner,gn.RIGHT)||this.hasBit(r,gn.RIGHT),p=!1;(p=d&&h?!f:f)?(c=o.left+a.width+this.anchorMargin.right,l=o.right-this.anchorMargin.right):(c=o.left+this.anchorMargin.left,l=o.right+a.width-this.anchorMargin.left);var m=c-s.width>0,E=l-s.width>0,y=this.hasBit(r,gn.FLIP_RTL)&&this.hasBit(r,gn.RIGHT);return E&&y&&d||!m&&y?r=this.unsetBit(r,gn.RIGHT):(m&&p&&d||m&&!p&&f||!E&&c>=l)&&(r=this.setBit(r,gn.RIGHT)),r},e.prototype.getMenuSurfaceMaxHeight=function(t){var n=this.measurements.viewportDistance,r=0,i=this.hasBit(t,gn.BOTTOM),o=this.hasBit(this.anchorCorner,gn.BOTTOM),a=e.numbers.MARGIN_TO_EDGE;return i?(r=n.top+this.anchorMargin.top-a,o||(r+=this.measurements.anchorSize.height)):(r=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,o&&(r-=this.measurements.anchorSize.height)),r},e.prototype.getHorizontalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,gn.RIGHT),r=this.hasBit(this.anchorCorner,gn.RIGHT);if(n){var i=r?e.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?i-(this.measurements.viewportSize.width-this.measurements.bodySize.width):i}return r?e.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,gn.BOTTOM),r=this.hasBit(this.anchorCorner,gn.BOTTOM);return n?r?e.height-this.anchorMargin.top:-this.anchorMargin.bottom:r?e.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var e,n,r=this.measurements,i=r.windowScroll,o=r.viewportDistance,a=Object.keys(t);try{for(var s=yn(a),u=s.next();!u.done;u=s.next()){var c=u.value,l=t[c]||0;l+=o[c],this.isFixedPosition||("top"===c?l+=i.y:"bottom"===c?l-=i.y:"left"===c?l+=i.x:l-=i.x),t[c]=l}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},e.prototype.maybeRestoreFocus=function(){var t=this.adapter.isFocused(),e=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(t||e)&&this.adapter.restoreFocus()},e.prototype.hasBit=function(t,e){return Boolean(t&e)},e.prototype.setBit=function(t,e){return t|e},e.prototype.unsetBit=function(t,e){return t^e},e.prototype.isFinite=function(t){return"number"==typeof t&&isFinite(t)},e}(v);var An,Cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mn(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this,e=this.root.parentElement;this.anchorElement=e&&e.classList.contains(_n.ANCHOR)?e:null,this.root.classList.contains(_n.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(e){t.foundation.handleKeydown(e)},this.handleBodyClick=function(e){t.foundation.handleBodyClick(e)},this.registerBodyClickListener=function(){document.body.addEventListener("click",t.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",t.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen(Tn.OPENED_EVENT,this.registerBodyClickListener),this.listen(Tn.CLOSED_EVENT,this.deregisterBodyClickListener)},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(Tn.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(Tn.CLOSED_EVENT,this.deregisterBodyClickListener),t.prototype.destroy.call(this)},e.prototype.isOpen=function(){return this.foundation.isOpen()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=!1),this.foundation.close(t)},Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.foundation.setQuickOpen(t)},enumerable:!0,configurable:!0}),e.prototype.setIsHoisted=function(t){this.foundation.setIsHoisted(t)},e.prototype.setMenuSurfaceAnchorElement=function(t){this.anchorElement=t},e.prototype.setFixedPosition=function(t){t?this.root.classList.add(_n.FIXED):this.root.classList.remove(_n.FIXED),this.foundation.setFixedPosition(t)},e.prototype.setAbsolutePosition=function(t,e){this.foundation.setAbsolutePosition(t,e),this.setIsHoisted(!0)},e.prototype.setAnchorCorner=function(t){this.foundation.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.foundation.setAnchorMargin(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new bn({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},hasAnchor:function(){return!!t.anchorElement},notifyClose:function(){return t.emit(bn.strings.CLOSED_EVENT,{})},notifyClosing:function(){t.emit(bn.strings.CLOSING_EVENT,{})},notifyOpen:function(){return t.emit(bn.strings.OPENED_EVENT,{})},isElementInContainer:function(e){return t.root.contains(e)},isRtl:function(){return"rtl"===getComputedStyle(t.root).getPropertyValue("direction")},setTransformOrigin:function(e){var n=Ht(window,"transform")+"-origin";t.root.style.setProperty(n,e)},isFocused:function(){return document.activeElement===t.root},saveFocus:function(){t.previousFocus=document.activeElement},restoreFocus:function(){t.root.contains(document.activeElement)&&t.previousFocus&&t.previousFocus.focus&&t.previousFocus.focus()},getInnerDimensions:function(){return{width:t.root.offsetWidth,height:t.root.offsetHeight}},getAnchorDimensions:function(){return t.anchorElement?t.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(e){var n=t.root;n.style.left="left"in e?e.left+"px":"",n.style.right="right"in e?e.right+"px":"",n.style.top="top"in e?e.top+"px":"",n.style.bottom="bottom"in e?e.bottom+"px":""},setMaxHeight:function(e){t.root.style.maxHeight=e}})},e}(_),On={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Sn={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Rn={FOCUS_ROOT_INDEX:-1};!function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"}(An||(An={}));var wn=function(t){function e(n){var r=t.call(this,ve(ve({},e.defaultAdapter),n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=An.LIST_ROOT,r}return ge(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return On},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Sn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Rn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var e=t.key,n=t.keyCode;("Tab"===e||9===n)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var e=this,n=this.adapter.getElementIndex(t);n<0||(this.adapter.notifySelected({index:n}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var n=e.adapter.getElementIndex(t);n>=0&&e.adapter.isSelectableItemAtIndex(n)&&e.setSelectedIndex(n)}),bn.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case An.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case An.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case An.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState_=t},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex_(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var e=this.adapter.getSelectedSiblingOfItemAtIndex(t);e>=0&&(this.adapter.removeAttributeFromElementAtIndex(e,Sn.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(e,On.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,On.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Sn.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(t,e){this.validatedIndex_(t),e?(this.adapter.removeClassFromElementAtIndex(t,Ae.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Sn.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,Ae.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Sn.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(t){var e=this.adapter.getMenuItemCount();if(!(t>=0&&t<e))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(v);var Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ge(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e){void 0===t&&(t=function(t){return new Cn(t)}),void 0===e&&(e=function(t){return new fn(t)}),this.menuSurfaceFactory_=t,this.listFactory_=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.menuSurface_=this.menuSurfaceFactory_(this.root);var e=this.root.querySelector(Sn.LIST_SELECTOR);e?(this.list_=this.listFactory_(e),this.list_.wrapFocus=!0):this.list_=null,this.handleKeydown_=function(e){return t.foundation.handleKeydown(e)},this.handleItemAction_=function(e){return t.foundation.handleItemAction(t.items[e.detail.index])},this.handleMenuSurfaceOpened_=function(){return t.foundation.handleMenuSurfaceOpened()},this.menuSurface_.listen(bn.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.listen("keydown",this.handleKeydown_),this.listen(hn.strings.ACTION_EVENT,this.handleItemAction_)},e.prototype.destroy=function(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(bn.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.unlisten("keydown",this.handleKeydown_),this.unlisten(hn.strings.ACTION_EVENT,this.handleItemAction_),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"open",{get:function(){return this.menuSurface_.isOpen()},set:function(t){t?this.menuSurface_.open():this.menuSurface_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(t){this.list_&&(this.list_.wrapFocus=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.list_&&(this.list_.hasTypeahead=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return!!this.list_&&this.list_.typeaheadInProgress},enumerable:!0,configurable:!0}),e.prototype.typeaheadMatchItem=function(t,e){return this.list_?this.list_.typeaheadMatchItem(t,e):-1},e.prototype.layout=function(){this.list_&&this.list_.layout()},Object.defineProperty(e.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.list_&&(this.list_.singleSelection=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.list_?this.list_.selectedIndex:Oe.UNSET_INDEX},set:function(t){this.list_&&(this.list_.selectedIndex=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.menuSurface_.quickOpen=t},enumerable:!0,configurable:!0}),e.prototype.setDefaultFocusState=function(t){this.foundation.setDefaultFocusState(t)},e.prototype.setAnchorCorner=function(t){this.menuSurface_.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.menuSurface_.setAnchorMargin(t)},e.prototype.setSelectedIndex=function(t){this.foundation.setSelectedIndex(t)},e.prototype.setEnabled=function(t,e){this.foundation.setEnabled(t,e)},e.prototype.getOptionByIndex=function(t){return t<this.items.length?this.items[t]:null},e.prototype.getPrimaryTextAtIndex=function(t){var e=this.getOptionByIndex(t);return e&&this.list_&&this.list_.getPrimaryText(e)||""},e.prototype.setFixedPosition=function(t){this.menuSurface_.setFixedPosition(t)},e.prototype.setIsHoisted=function(t){this.menuSurface_.setIsHoisted(t)},e.prototype.setAbsolutePosition=function(t,e){this.menuSurface_.setAbsolutePosition(t,e)},e.prototype.setAnchorElement=function(t){this.menuSurface_.anchorElement=t},e.prototype.getDefaultFoundation=function(){var t=this;return new wn({addClassToElementAtIndex:function(e,n){t.items[e].classList.add(n)},removeClassFromElementAtIndex:function(e,n){t.items[e].classList.remove(n)},addAttributeToElementAtIndex:function(e,n,r){t.items[e].setAttribute(n,r)},removeAttributeFromElementAtIndex:function(e,n){t.items[e].removeAttribute(n)},elementContainsClass:function(t,e){return t.classList.contains(e)},closeSurface:function(e){return t.menuSurface_.close(e)},getElementIndex:function(e){return t.items.indexOf(e)},notifySelected:function(e){return t.emit(Sn.SELECTED_EVENT,{index:e.index,item:t.items[e.index]})},getMenuItemCount:function(){return t.items.length},focusItemAtIndex:function(e){return t.items[e].focus()},focusListRoot:function(){return t.root.querySelector(Sn.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(e){return!!I(t.items[e],"."+On.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(e){var n=I(t.items[e],"."+On.MENU_SELECTION_GROUP).querySelector("."+On.MENU_SELECTED_LIST_ITEM);return n?t.items.indexOf(n):-1}})},e}(_),Dn=function(t,e){return(Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function xn(t,e){function n(){this.constructor=t}Dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Pn=function(){return(Pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Nn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Mn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nn(arguments[e]));return t}var kn={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},Fn={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},Hn=function(t){function e(n){return t.call(this,Pn(Pn({},e.defaultAdapter),n))||this}return xn(e,t),Object.defineProperty(e,"strings",{get:function(){return Fn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return kn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setChecked=function(t){this.adapter.setNativeControlChecked(t),this.updateAriaChecked_(t),this.updateCheckedStyling_(t)},e.prototype.setDisabled=function(t){this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(kn.DISABLED):this.adapter.removeClass(kn.DISABLED)},e.prototype.handleChange=function(t){var e=t.target;this.updateAriaChecked_(e.checked),this.updateCheckedStyling_(e.checked)},e.prototype.updateCheckedStyling_=function(t){t?this.adapter.addClass(kn.CHECKED):this.adapter.removeClass(kn.CHECKED)},e.prototype.updateAriaChecked_=function(t){this.adapter.setNativeControlAttr(Fn.ARIA_CHECKED_ATTR,""+!!t)},e}(v);var Bn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ripple_=e.createRipple_(),e}return xn(e,t),e.attachTo=function(t){return new e(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.changeHandler_)},e.prototype.initialSyncWithDOM=function(){var t=this;this.changeHandler_=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=t.foundation).handleChange.apply(e,Mn(n))},this.nativeControl_.addEventListener("change",this.changeHandler_),this.checked=this.checked},e.prototype.getDefaultFoundation=function(){var t=this;return new Hn({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNativeControlChecked:function(e){return t.nativeControl_.checked=e},setNativeControlDisabled:function(e){return t.nativeControl_.disabled=e},setNativeControlAttr:function(e,n){return t.nativeControl_.setAttribute(e,n)}})},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(t){this.foundation.setChecked(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!0,configurable:!0}),e.prototype.createRipple_=function(){var t=this,e=Hn.strings.RIPPLE_SURFACE_SELECTOR,n=this.root.querySelector(e),r=Pn(Pn({},x.createAdapter(this)),{addClass:function(t){return n.classList.add(t)},computeBoundingRect:function(){return n.getBoundingClientRect()},deregisterInteractionHandler:function(e,n){t.nativeControl_.removeEventListener(e,n,T())},isSurfaceActive:function(){return b(t.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(e,n){t.nativeControl_.addEventListener(e,n,T())},removeClass:function(t){n.classList.remove(t)},updateCssVariable:function(t,e){n.style.setProperty(t,e)}});return new x(this.root,new D(r))},Object.defineProperty(e.prototype,"nativeControl_",{get:function(){var t=Hn.strings.NATIVE_CONTROL_SELECTOR;return this.root.querySelector(t)},enumerable:!0,configurable:!0}),e}(_),Gn=function(t,e){return(Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Vn(t,e){function n(){this.constructor=t}Gn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Un=function(){return(Un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function jn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qn,Wn="mdc-dom-focus-sentinel",zn=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return t.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(0===t.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root,t),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},t.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+Wn)).forEach((function(t){t.parentElement.removeChild(t)})),this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},t.prototype.wrapTabFocus=function(t,e){var n=this.createSentinel(),r=this.createSentinel();n.addEventListener("focus",(function(){e.length>0&&e[e.length-1].focus()})),r.addEventListener("focus",(function(){e.length>0&&e[0].focus()})),t.insertBefore(n,t.children[0]),t.appendChild(r)},t.prototype.focusInitialElement=function(t,e){var n=0;e&&(n=Math.max(t.indexOf(e),0)),t[n].focus()},t.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(t){var e="true"===t.getAttribute("aria-disabled")||null!=t.getAttribute("disabled")||null!=t.getAttribute("hidden")||"true"===t.getAttribute("aria-hidden"),n=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(Wn)&&!e,r=!1;if(n){var i=getComputedStyle(t);r="none"===i.display||"hidden"===i.visibility}return n&&!r}))},t.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(Wn),t},t}(),Xn=function(){function t(){this.rafIDs=new Map}return t.prototype.request=function(t,e){var n=this;this.cancel(t);var r=requestAnimationFrame((function(r){n.rafIDs.delete(t),e(r)}));this.rafIDs.set(t,r)},t.prototype.cancel=function(t){var e=this.rafIDs.get(t);e&&(cancelAnimationFrame(e),this.rafIDs.delete(t))},t.prototype.cancelAll=function(){var t=this;this.rafIDs.forEach((function(e,n){t.cancel(n)}))},t.prototype.getQueue=function(){var t=[];return this.rafIDs.forEach((function(e,n){t.push(n)})),t},t}(),Yn={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer"},Kn={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Qn={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(t){t.POLL_SCROLL_POS="poll_scroll_position"}(qn||(qn={}));var Jn=function(t){function e(n){var r=t.call(this,Un(Un({},e.defaultAdapter),n))||this;return r.dialogOpen=!1,r.isFullscreen=!1,r.animationFrame=0,r.animationTimer=0,r.layoutFrame=0,r.escapeKeyAction=Kn.CLOSE_ACTION,r.scrimClickAction=Kn.CLOSE_ACTION,r.autoStackButtons=!0,r.areButtonsStacked=!1,r.suppressDefaultPressSelector=Kn.SUPPRESS_DEFAULT_PRESS_SELECTOR,r.animFrame=new Xn,r.contentScrollHandler=function(){r.handleScrollEvent()},r}return Vn(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Yn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Kn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Qn},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(Yn.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(Yn.FULLSCREEN)},e.prototype.destroy=function(){this.dialogOpen&&this.close(Kn.DESTROY_ACTION),this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.layoutFrame&&(cancelAnimationFrame(this.layoutFrame),this.layoutFrame=0),this.isFullscreen&&this.adapter.isContentScrollable()&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler)},e.prototype.open=function(){var t=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(Yn.OPENING),this.isFullscreen&&this.adapter.isContentScrollable()&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),this.runNextAnimationFrame((function(){t.adapter.addClass(Yn.OPEN),t.adapter.addBodyClass(Yn.SCROLL_LOCK),t.layout(),t.animationTimer=setTimeout((function(){t.handleAnimationTimerEnd(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()}),Qn.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Yn.CLOSING),this.adapter.removeClass(Yn.OPEN),this.adapter.removeBodyClass(Yn.SCROLL_LOCK),this.isFullscreen&&this.adapter.isContentScrollable()&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Qn.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.dialogOpen},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction},e.prototype.setScrimClickAction=function(t){this.scrimClickAction=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){t.layoutInternal(),t.layoutFrame=0}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Kn.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,r=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&r&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},e.prototype.handleScrollEvent=function(){var t=this;this.animFrame.request(qn.POLL_SCROLL_POS,(function(){t.toggleScrollDividerHeader(),t.toggleScrollDividerFooter()}))},e.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Yn.OPENING),this.adapter.removeClass(Yn.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e.prototype.detectStackedButtons=function(){this.adapter.removeClass(Yn.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(Yn.STACKED),t!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=t)},e.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(Yn.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(Yn.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},e.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(Yn.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(Yn.SCROLL_DIVIDER_HEADER):this.adapter.addClass(Yn.SCROLL_DIVIDER_HEADER)},e.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(Yn.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(Yn.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(Yn.SCROLL_DIVIDER_FOOTER)},e}(v);var Zn=Jn.strings,$n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vn(e,t),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(t){this.foundation.setEscapeKeyAction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(t){this.foundation.setScrimClickAction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(t){this.foundation.setAutoStackButtons(t)},enumerable:!0,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var e,n;void 0===t&&(t=function(t,e){return new zn(t,e)});var r=this.root.querySelector(Zn.CONTAINER_SELECTOR);if(!r)throw new Error("Dialog component requires a "+Zn.CONTAINER_SELECTOR+" container element");this.container=r,this.content=this.root.querySelector(Zn.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(Zn.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+Zn.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=t,this.buttonRipples=[];try{for(var i=jn(this.buttons),o=i.next();!o.done;o=i.next()){var a=o.value;this.buttonRipples.push(new x(a))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.initialSyncWithDOM=function(){var t,e,n,r=this;this.focusTrap=(t=this.container,e=this.focusTrapFactory,n=this.getInitialFocusEl()||void 0,e(t,{initialFocusEl:n})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleLayout=this.layout.bind(this);var i=["resize","orientationchange"];this.handleOpening=function(){i.forEach((function(t){window.addEventListener(t,r.handleLayout)})),document.addEventListener("keydown",r.handleDocumentKeydown)},this.handleClosing=function(){i.forEach((function(t){window.removeEventListener(t,r.handleLayout)})),document.removeEventListener("keydown",r.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(Zn.OPENING_EVENT,this.handleOpening),this.listen(Zn.CLOSING_EVENT,this.handleClosing)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(Zn.OPENING_EVENT,this.handleOpening),this.unlisten(Zn.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new Jn({addBodyClass:function(t){return document.body.classList.add(t)},addClass:function(e){return t.root.classList.add(e)},areButtonsStacked:function(){return e=t.buttons,n=new Set,[].forEach.call(e,(function(t){return n.add(t.offsetTop)})),n.size>1;var e,n},clickDefaultButton:function(){t.defaultButton&&t.defaultButton.click()},eventTargetMatches:function(t,e){return!!t&&b(t,e)},getActionFromEvent:function(t){if(!t.target)return"";var e=I(t.target,"["+Zn.ACTION_ATTRIBUTE+"]");return e&&e.getAttribute(Zn.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return t.getInitialFocusEl()},hasClass:function(e){return t.root.classList.contains(e)},isContentScrollable:function(){return!!(e=t.content)&&e.scrollHeight>e.offsetHeight;var e},notifyClosed:function(e){return t.emit(Zn.CLOSED_EVENT,e?{action:e}:{})},notifyClosing:function(e){return t.emit(Zn.CLOSING_EVENT,e?{action:e}:{})},notifyOpened:function(){return t.emit(Zn.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(Zn.OPENING_EVENT,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeBodyClass:function(t){return document.body.classList.remove(t)},removeClass:function(e){return t.root.classList.remove(e)},reverseButtons:function(){t.buttons.reverse(),t.buttons.forEach((function(t){t.parentElement.appendChild(t)}))},trapFocus:function(){t.focusTrap.trapFocus()},registerContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.addEventListener(e,n)},deregisterContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.removeEventListener(e,n)},isScrollableContentAtTop:function(){return!!(e=t.content)&&0===e.scrollTop;var e},isScrollableContentAtBottom:function(){return!!(e=t.content)&&Math.ceil(e.scrollHeight-e.scrollTop)===e.clientHeight;var e}})},e.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+Zn.INITIAL_FOCUS_ATTRIBUTE+"]")},e}(_),tr=function(t,e){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function er(t,e){function n(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var nr=function(){return(nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var rr={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},ir={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},or={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330},ar=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,nr(nr({},e.defaultAdapter),n))||this;return i.disabled=!1,i.isMenuOpen=!1,i.useDefaultValidation=!0,i.customValidity=!0,i.lastSelectedIndex=or.UNSET_INDEX,i.clickDebounceTimeout=0,i.recentlyClicked=!1,i.leadingIcon=r.leadingIcon,i.helperText=r.helperText,i}return er(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return rr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return or},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return ir},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!0,configurable:!0}),e.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},e.prototype.setSelectedIndex=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),t>=this.adapter.getMenuItemCount()||(t===or.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(t).trim()),this.adapter.setSelectedIndex(t),e&&this.adapter.closeMenu(),n||this.lastSelectedIndex===t||this.handleChange(),this.lastSelectedIndex=t)},e.prototype.setValue=function(t,e){void 0===e&&(e=!1);var n=this.adapter.getMenuItemValues().indexOf(t);this.setSelectedIndex(n,!1,e)},e.prototype.getValue=function(){var t=this.adapter.getSelectedIndex(),e=this.adapter.getMenuItemValues();return t!==or.UNSET_INDEX?e[t]:""},e.prototype.getDisabled=function(){return this.disabled},e.prototype.setDisabled=function(t){this.disabled=t,this.disabled?(this.adapter.addClass(rr.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(rr.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},e.prototype.openMenu=function(){this.adapter.addClass(rr.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.layout=function(){if(this.adapter.hasLabel()){var t=this.getValue().length>0,e=this.adapter.hasClass(rr.FOCUSED),n=t||e,r=this.adapter.hasClass(rr.REQUIRED);this.notchOutline(n),this.adapter.floatLabel(n),this.adapter.setLabelRequired(r)}},e.prototype.layoutOptions=function(){var t=this.adapter.getMenuItemValues().indexOf(this.getValue());this.setSelectedIndex(t,!1,!0)},e.prototype.handleMenuOpened=function(){if(0!==this.adapter.getMenuItemValues().length){var t=this.getSelectedIndex(),e=t>=0?t:0;this.adapter.focusMenuItemAtIndex(e)}},e.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},e.prototype.handleMenuClosed=function(){this.adapter.removeClass(rr.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},e.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue()),this.adapter.hasClass(rr.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.handleMenuItemAction=function(t){this.setSelectedIndex(t,!0)},e.prototype.handleFocus=function(){this.adapter.addClass(rr.FOCUSED),this.layout(),this.adapter.activateBottomLine()},e.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},e.prototype.handleClick=function(t){this.disabled||this.recentlyClicked||(this.setClickDebounceTimeout(),this.isMenuOpen?this.adapter.closeMenu():(this.adapter.setRippleCenter(t),this.openMenu()))},e.prototype.handleKeydown=function(t){if(!this.isMenuOpen&&this.adapter.hasClass(rr.FOCUSED)){var e=on(t)===Le,n=on(t)===De,r=on(t)===Fe,i=on(t)===Be;if(!n&&t.key&&1===t.key.length||n&&this.adapter.isTypeaheadInProgress()){var o=n?" ":t.key,a=this.adapter.typeaheadMatchItem(o,this.getSelectedIndex());return a>=0&&this.setSelectedIndex(a),void t.preventDefault()}(e||n||r||i)&&(r&&this.getSelectedIndex()>0?this.setSelectedIndex(this.getSelectedIndex()-1):i&&this.getSelectedIndex()<this.adapter.getMenuItemCount()-1&&this.setSelectedIndex(this.getSelectedIndex()+1),this.openMenu(),t.preventDefault())}},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()){var e=this.adapter.hasClass(rr.FOCUSED);if(t){var n=or.LABEL_SCALE,r=this.adapter.getLabelWidth()*n;this.adapter.notchOutline(r)}else e||this.adapter.closeOutline()}},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setUseDefaultValidation=function(t){this.useDefaultValidation=t},e.prototype.setValid=function(t){this.useDefaultValidation||(this.customValidity=t),this.adapter.setSelectAnchorAttr("aria-invalid",(!t).toString()),t?(this.adapter.removeClass(rr.INVALID),this.adapter.removeMenuClass(rr.MENU_INVALID)):(this.adapter.addClass(rr.INVALID),this.adapter.addMenuClass(rr.MENU_INVALID)),this.syncHelperTextValidity(t)},e.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(rr.REQUIRED)&&!this.adapter.hasClass(rr.DISABLED)?this.getSelectedIndex()!==or.UNSET_INDEX&&(0!==this.getSelectedIndex()||Boolean(this.getValue())):this.customValidity},e.prototype.setRequired=function(t){t?this.adapter.addClass(rr.REQUIRED):this.adapter.removeClass(rr.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",t.toString()),this.adapter.setLabelRequired(t)},e.prototype.getRequired=function(){return"true"===this.adapter.getSelectAnchorAttr("aria-required")},e.prototype.init=function(){var t=this.adapter.getAnchorElement();t&&(this.adapter.setMenuAnchorElement(t),this.adapter.setMenuAnchorCorner(vn.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(rr.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(rr.INVALID)),this.layout(),this.layoutOptions()},e.prototype.blur=function(){this.adapter.removeClass(rr.FOCUSED),this.layout(),this.adapter.deactivateBottomLine(),this.adapter.hasClass(rr.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.syncHelperTextValidity=function(t){if(this.helperText){this.helperText.setValidity(t);var e=this.helperText.isVisible(),n=this.helperText.getId();e&&n?this.adapter.setSelectAnchorAttr(ir.ARIA_DESCRIBEDBY,n):this.adapter.removeSelectAnchorAttr(ir.ARIA_DESCRIBEDBY)}},e.prototype.setClickDebounceTimeout=function(){var t=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout((function(){t.recentlyClicked=!1}),or.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},e}(v);var sr={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},ur={HELPER_TEXT_VALIDATION_MSG:"mdc-select-helper-text--validation-msg",HELPER_TEXT_VALIDATION_MSG_PERSISTENT:"mdc-select-helper-text--validation-msg-persistent"},cr=function(t){function e(n){return t.call(this,nr(nr({},e.defaultAdapter),n))||this}return er(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ur},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return sr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},getAttr:function(){return null},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(sr.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.setValidation=function(t){t?this.adapter.addClass(ur.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ur.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidationMsgPersistent=function(t){t?this.adapter.addClass(ur.HELPER_TEXT_VALIDATION_MSG_PERSISTENT):this.adapter.removeClass(ur.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},e.prototype.setValidity=function(t){if(this.adapter.hasClass(ur.HELPER_TEXT_VALIDATION_MSG)){var e=this.adapter.hasClass(ur.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);if(!t||e)return this.showToScreenReader(),void(t?this.adapter.removeAttr(sr.ROLE):this.adapter.setAttr(sr.ROLE,"alert"));this.adapter.removeAttr(sr.ROLE),this.hide()}},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(sr.ARIA_HIDDEN)},e.prototype.hide=function(){this.adapter.setAttr(sr.ARIA_HIDDEN,"true")},e}(v);var lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new cr({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}})},e}(_),dr={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"},hr=["click","keydown"],fr=function(t){function e(n){var r=t.call(this,nr(nr({},e.defaultAdapter),n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(t){return r.handleInteraction(t)},r}return er(e,t),Object.defineProperty(e,"strings",{get:function(){return dr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this;this.savedTabIndex_=this.adapter.getAttr("tabindex"),hr.forEach((function(e){t.adapter.registerInteractionHandler(e,t.interactionHandler_)}))},e.prototype.destroy=function(){var t=this;hr.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.interactionHandler_)}))},e.prototype.setDisabled=function(t){this.savedTabIndex_&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex_),this.adapter.setAttr("role",dr.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&this.adapter.notifyIconAction()},e}(v);var pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new fr({getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(fr.strings.ICON_EVENT,{},!0)}})},e}(_),mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o){if(void 0===t&&(t=function(t){return new V(t)}),void 0===e&&(e=function(t){return new X(t)}),void 0===n&&(n=function(t){return new et(t)}),void 0===r&&(r=function(t){return new Ln(t)}),void 0===i&&(i=function(t){return new pr(t)}),void 0===o&&(o=function(t){return new lr(t)}),this.selectAnchor=this.root.querySelector(ir.SELECT_ANCHOR_SELECTOR),this.selectedText=this.root.querySelector(ir.SELECTED_TEXT_SELECTOR),this.hiddenInput=this.root.querySelector(ir.HIDDEN_INPUT_SELECTOR),!this.selectedText)throw new Error("MDCSelect: Missing required element: The following selector must be present: '"+ir.SELECTED_TEXT_SELECTOR+"'");if(this.selectAnchor.hasAttribute(ir.ARIA_CONTROLS)){var a=document.getElementById(this.selectAnchor.getAttribute(ir.ARIA_CONTROLS));a&&(this.helperText=o(a))}this.menuSetup(r);var s=this.root.querySelector(ir.LABEL_SELECTOR);this.label=s?t(s):null;var u=this.root.querySelector(ir.LINE_RIPPLE_SELECTOR);this.lineRipple=u?e(u):null;var c=this.root.querySelector(ir.OUTLINE_SELECTOR);this.outline=c?n(c):null;var l=this.root.querySelector(ir.LEADING_ICON_SELECTOR);l&&(this.leadingIcon=i(l)),this.root.classList.contains(rr.OUTLINED)||(this.ripple=this.createRipple())},e.prototype.initialSyncWithDOM=function(){var t=this;if(this.handleFocus=function(){t.foundation.handleFocus()},this.handleBlur=function(){t.foundation.handleBlur()},this.handleClick=function(e){t.selectAnchor.focus(),t.foundation.handleClick(t.getNormalizedXCoordinate(e))},this.handleKeydown=function(e){t.foundation.handleKeydown(e)},this.handleMenuItemAction=function(e){t.foundation.handleMenuItemAction(e.detail.index)},this.handleMenuOpened=function(){t.foundation.handleMenuOpened()},this.handleMenuClosed=function(){t.foundation.handleMenuClosed()},this.handleMenuClosing=function(){t.foundation.handleMenuClosing()},this.selectAnchor.addEventListener("focus",this.handleFocus),this.selectAnchor.addEventListener("blur",this.handleBlur),this.selectAnchor.addEventListener("click",this.handleClick),this.selectAnchor.addEventListener("keydown",this.handleKeydown),this.menu.listen(Tn.CLOSED_EVENT,this.handleMenuClosed),this.menu.listen(Tn.CLOSING_EVENT,this.handleMenuClosing),this.menu.listen(Tn.OPENED_EVENT,this.handleMenuOpened),this.menu.listen(Sn.SELECTED_EVENT,this.handleMenuItemAction),this.hiddenInput){if(this.hiddenInput.value)return this.foundation.setValue(this.hiddenInput.value,!0),void this.foundation.layout();this.hiddenInput.value=this.value}},e.prototype.destroy=function(){this.selectAnchor.removeEventListener("focus",this.handleFocus),this.selectAnchor.removeEventListener("blur",this.handleBlur),this.selectAnchor.removeEventListener("keydown",this.handleKeydown),this.selectAnchor.removeEventListener("click",this.handleClick),this.menu.unlisten(Tn.CLOSED_EVENT,this.handleMenuClosed),this.menu.unlisten(Tn.OPENED_EVENT,this.handleMenuOpened),this.menu.unlisten(Sn.SELECTED_EVENT,this.handleMenuItemAction),this.menu.destroy(),this.ripple&&this.ripple.destroy(),this.outline&&this.outline.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.helperText&&this.helperText.destroy(),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.getDisabled()},set:function(t){this.foundation.setDisabled(t),this.hiddenInput&&(this.hiddenInput.disabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultValidation",{set:function(t){this.foundation.setUseDefaultValidation(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.foundation.getRequired()},set:function(t){this.foundation.setRequired(t)},enumerable:!0,configurable:!0}),e.prototype.layout=function(){this.foundation.layout()},e.prototype.layoutOptions=function(){this.foundation.layoutOptions(),this.menu.layout(),this.menuItemValues=this.menu.items.map((function(t){return t.getAttribute(ir.VALUE_ATTR)||""})),this.hiddenInput&&(this.hiddenInput.value=this.value)},e.prototype.getDefaultFoundation=function(){var t=nr(nr(nr(nr({},this.getSelectAdapterMethods()),this.getCommonAdapterMethods()),this.getOutlineAdapterMethods()),this.getLabelAdapterMethods());return new ar(t,this.getFoundationMap())},e.prototype.menuSetup=function(t){this.menuElement=this.root.querySelector(ir.MENU_SELECTOR),this.menu=t(this.menuElement),this.menu.hasTypeahead=!0,this.menu.singleSelection=!0,this.menuItemValues=this.menu.items.map((function(t){return t.getAttribute(ir.VALUE_ATTR)||""}))},e.prototype.createRipple=function(){var t=this,e=nr(nr({},x.createAdapter({root:this.selectAnchor})),{registerInteractionHandler:function(e,n){t.selectAnchor.addEventListener(e,n)},deregisterInteractionHandler:function(e,n){t.selectAnchor.removeEventListener(e,n)}});return new x(this.selectAnchor,new D(e))},e.prototype.getSelectAdapterMethods=function(){var t=this;return{getMenuItemAttr:function(t,e){return t.getAttribute(e)},setSelectedText:function(e){t.selectedText.textContent=e},isSelectAnchorFocused:function(){return document.activeElement===t.selectAnchor},getSelectAnchorAttr:function(e){return t.selectAnchor.getAttribute(e)},setSelectAnchorAttr:function(e,n){t.selectAnchor.setAttribute(e,n)},removeSelectAnchorAttr:function(e){t.selectAnchor.removeAttribute(e)},addMenuClass:function(e){t.menuElement.classList.add(e)},removeMenuClass:function(e){t.menuElement.classList.remove(e)},openMenu:function(){t.menu.open=!0},closeMenu:function(){t.menu.open=!1},getAnchorElement:function(){return t.root.querySelector(ir.SELECT_ANCHOR_SELECTOR)},setMenuAnchorElement:function(e){t.menu.setAnchorElement(e)},setMenuAnchorCorner:function(e){t.menu.setAnchorCorner(e)},setMenuWrapFocus:function(e){t.menu.wrapFocus=e},getSelectedIndex:function(){var e=t.menu.selectedIndex;return e instanceof Array?e[0]:e},setSelectedIndex:function(e){t.menu.selectedIndex=e},focusMenuItemAtIndex:function(e){t.menu.items[e].focus()},getMenuItemCount:function(){return t.menu.items.length},getMenuItemValues:function(){return t.menuItemValues},getMenuItemTextAtIndex:function(e){return t.menu.getPrimaryTextAtIndex(e)},isTypeaheadInProgress:function(){return t.menu.typeaheadInProgress},typeaheadMatchItem:function(e,n){return t.menu.typeaheadMatchItem(e,n)}}},e.prototype.getCommonAdapterMethods=function(){var t=this;return{addClass:function(e){t.root.classList.add(e)},removeClass:function(e){t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setRippleCenter:function(e){t.lineRipple&&t.lineRipple.setRippleCenter(e)},activateBottomLine:function(){t.lineRipple&&t.lineRipple.activate()},deactivateBottomLine:function(){t.lineRipple&&t.lineRipple.deactivate()},notifyChange:function(e){var n=t.selectedIndex;t.emit(ir.CHANGE_EVENT,{value:e,index:n},!0),t.hiddenInput&&(t.hiddenInput.value=e)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{hasOutline:function(){return Boolean(t.outline)},notchOutline:function(e){t.outline&&t.outline.notch(e)},closeOutline:function(){t.outline&&t.outline.closeNotch()}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{hasLabel:function(){return!!t.label},floatLabel:function(e){t.label&&t.label.float(e)},getLabelWidth:function(){return t.label?t.label.getWidth():0},setLabelRequired:function(e){t.label&&t.label.setRequired(e)}}},e.prototype.getNormalizedXCoordinate=function(t){var e=t.target.getBoundingClientRect();return(this.isTouchEvent(t)?t.touches[0].clientX:t.clientX)-e.left},e.prototype.isTouchEvent=function(t){return Boolean(t.touches)},e.prototype.getFoundationMap=function(){return{helperText:this.helperText?this.helperText.foundationForSelect:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForSelect:void 0}},e}(_),Er=function(t,e){return(Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function yr(t,e){function n(){this.constructor=t}Er(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gr,vr=function(){return(vr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}!function(t){t.RICH="mdc-tooltip--rich",t.SHOWN="mdc-tooltip--shown",t.SHOWING="mdc-tooltip--showing",t.SHOWING_TRANSITION="mdc-tooltip--showing-transition",t.HIDE="mdc-tooltip--hide",t.HIDE_TRANSITION="mdc-tooltip--hide-transition",t.MULTILINE_TOOLTIP="mdc-tooltip--multiline",t.SURFACE="mdc-tooltip__surface"}(gr||(gr={}));var Tr,Ir,br,Ar=4,Cr=8,Or=8,Sr=600,Rr=500,wr=24,Lr=200,Dr="aria-expanded",xr="aria-haspopup",Pr="data-mdc-tooltip-persistent",Nr="MDCTooltip:hidden";!function(t){t[t.DETECTED=0]="DETECTED",t[t.START=1]="START",t[t.CENTER=2]="CENTER",t[t.END=3]="END"}(Tr||(Tr={})),function(t){t[t.DETECTED=0]="DETECTED",t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW"}(Ir||(Ir={})),function(t){t[t.BOUNDED=0]="BOUNDED",t[t.UNBOUNDED=1]="UNBOUNDED"}(br||(br={}));var Mr,kr="left",Fr="right",Hr="center",Br="top",Gr="bottom",Vr=gr.RICH,Ur=gr.SHOWN,jr=gr.SHOWING,qr=gr.SHOWING_TRANSITION,Wr=gr.HIDE,zr=gr.HIDE_TRANSITION,Xr=gr.MULTILINE_TOOLTIP;!function(t){t.POLL_ANCHOR="poll_anchor"}(Mr||(Mr={}));var Yr="undefined"!=typeof window,Kr=function(t){function e(n){var r=t.call(this,vr(vr({},e.defaultAdapter),n))||this;return r.tooltipShown=!1,r.anchorGap=Ar,r.xTooltipPos=Tr.DETECTED,r.yTooltipPos=Ir.DETECTED,r.minViewportTooltipThreshold=Or,r.hideDelayMs=Sr,r.showDelayMs=Rr,r.anchorRect=null,r.parentRect=null,r.frameId=null,r.hideTimeout=null,r.showTimeout=null,r.animFrame=new Xn,r.documentClickHandler=function(t){r.handleDocumentClick(t)},r.documentKeydownHandler=function(t){r.handleKeydown(t)},r.richTooltipMouseEnterHandler=function(){r.handleRichTooltipMouseEnter()},r.richTooltipMouseLeaveHandler=function(){r.handleRichTooltipMouseLeave()},r.richTooltipFocusOutHandler=function(t){r.handleRichTooltipFocusOut(t)},r.windowScrollHandler=function(){r.handleWindowChangeEvent()},r.windowResizeHandler=function(){r.handleWindowChangeEvent()},r}return yr(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttribute:function(){return null},setAttribute:function(){},addClass:function(){},hasClass:function(){return!1},removeClass:function(){},getComputedStyleProperty:function(){return""},setStyleProperty:function(){},setSurfaceStyleProperty:function(){},getViewportWidth:function(){return 0},getViewportHeight:function(){return 0},getTooltipSize:function(){return{width:0,height:0}},getAnchorBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getParentBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getAnchorAttribute:function(){return null},setAnchorAttribute:function(){return null},isRTL:function(){return!1},anchorContainsElement:function(){return!1},tooltipContainsElement:function(){return!1},focusAnchorElement:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){},registerDocumentEventHandler:function(){},deregisterDocumentEventHandler:function(){},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){},notifyHidden:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.richTooltip=this.adapter.hasClass(Vr),this.persistentTooltip="true"===this.adapter.getAttribute(Pr),this.interactiveTooltip=!!this.adapter.getAnchorAttribute(Dr)&&"dialog"===this.adapter.getAnchorAttribute(xr)},e.prototype.isShown=function(){return this.tooltipShown},e.prototype.isRich=function(){return this.richTooltip},e.prototype.isPersistent=function(){return this.persistentTooltip},e.prototype.handleAnchorMouseEnter=function(){var t=this;this.tooltipShown?this.show():(this.clearHideTimeout(),this.showTimeout=setTimeout((function(){t.show()}),this.showDelayMs))},e.prototype.handleAnchorFocus=function(t){var e=this,n=t.relatedTarget;n instanceof HTMLElement&&this.adapter.tooltipContainsElement(n)||(this.showTimeout=setTimeout((function(){e.show()}),this.showDelayMs))},e.prototype.handleAnchorMouseLeave=function(){var t=this;this.clearShowTimeout(),this.hideTimeout=setTimeout((function(){t.hide()}),this.hideDelayMs)},e.prototype.handleAnchorBlur=function(t){if(this.richTooltip&&(t.relatedTarget instanceof HTMLElement&&this.adapter.tooltipContainsElement(t.relatedTarget)))return;this.hide()},e.prototype.handleAnchorClick=function(){this.tooltipShown?this.hide():this.show()},e.prototype.handleDocumentClick=function(t){var e=t.target instanceof HTMLElement&&(this.adapter.anchorContainsElement(t.target)||this.adapter.tooltipContainsElement(t.target));this.richTooltip&&this.persistentTooltip&&e||this.hide()},e.prototype.handleKeydown=function(t){on(t)===Ve&&(document.activeElement instanceof HTMLElement&&this.adapter.tooltipContainsElement(document.activeElement)&&this.adapter.focusAnchorElement(),this.hide())},e.prototype.handleRichTooltipMouseEnter=function(){this.show()},e.prototype.handleRichTooltipMouseLeave=function(){var t=this;this.clearShowTimeout(),this.hideTimeout=setTimeout((function(){t.hide()}),this.hideDelayMs)},e.prototype.handleRichTooltipFocusOut=function(t){t.relatedTarget instanceof HTMLElement&&(this.adapter.anchorContainsElement(t.relatedTarget)||this.adapter.tooltipContainsElement(t.relatedTarget))||this.hide()},e.prototype.handleWindowChangeEvent=function(){var t=this;this.animFrame.request(Mr.POLL_ANCHOR,(function(){t.repositionTooltipOnAnchorMove()}))},e.prototype.show=function(){var t=this;(this.clearHideTimeout(),this.clearShowTimeout(),this.tooltipShown)||(this.tooltipShown=!0,this.parseShowTooltipOptions().hideFromScreenreader||this.adapter.setAttribute("aria-hidden","false"),this.richTooltip&&(this.interactiveTooltip&&this.adapter.setAnchorAttribute("aria-expanded","true"),this.adapter.registerEventHandler("focusout",this.richTooltipFocusOutHandler),this.persistentTooltip||(this.adapter.registerEventHandler("mouseenter",this.richTooltipMouseEnterHandler),this.adapter.registerEventHandler("mouseleave",this.richTooltipMouseLeaveHandler))),this.adapter.removeClass(Wr),this.adapter.addClass(jr),this.isTooltipMultiline()&&!this.richTooltip&&this.adapter.addClass(Xr),this.anchorRect=this.adapter.getAnchorBoundingRect(),this.parentRect=this.adapter.getParentBoundingRect(),this.richTooltip?this.positionRichTooltip():this.positionPlainTooltip(),this.adapter.registerDocumentEventHandler("click",this.documentClickHandler),this.adapter.registerDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.registerWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.frameId=requestAnimationFrame((function(){t.clearAllAnimationClasses(),t.adapter.addClass(Ur),t.adapter.addClass(qr)})))},e.prototype.hide=function(){this.clearHideTimeout(),this.clearShowTimeout(),this.tooltipShown&&(this.frameId&&cancelAnimationFrame(this.frameId),this.tooltipShown=!1,this.adapter.setAttribute("aria-hidden","true"),this.adapter.deregisterEventHandler("focusout",this.richTooltipFocusOutHandler),this.richTooltip&&(this.interactiveTooltip&&this.adapter.setAnchorAttribute("aria-expanded","false"),this.persistentTooltip||(this.adapter.deregisterEventHandler("mouseenter",this.richTooltipMouseEnterHandler),this.adapter.deregisterEventHandler("mouseleave",this.richTooltipMouseLeaveHandler))),this.clearAllAnimationClasses(),this.adapter.addClass(Wr),this.adapter.addClass(zr),this.adapter.removeClass(Ur),this.adapter.deregisterDocumentEventHandler("click",this.documentClickHandler),this.adapter.deregisterDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.deregisterWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler))},e.prototype.handleTransitionEnd=function(){var t=this.adapter.hasClass(Wr);this.adapter.removeClass(jr),this.adapter.removeClass(qr),this.adapter.removeClass(Wr),this.adapter.removeClass(zr),t&&this.adapter.notifyHidden()},e.prototype.clearAllAnimationClasses=function(){this.adapter.removeClass(qr),this.adapter.removeClass(zr)},e.prototype.setTooltipPosition=function(t){var e=t.xPos,n=t.yPos;e&&(this.xTooltipPos=e),n&&(this.yTooltipPos=n)},e.prototype.setAnchorBoundaryType=function(t){t===br.UNBOUNDED?this.anchorGap=Cr:this.anchorGap=Ar},e.prototype.parseShowTooltipOptions=function(){return{hideFromScreenreader:Boolean(this.adapter.getAnchorAttribute("data-tooltip-id"))}},e.prototype.isTooltipMultiline=function(){var t=this.adapter.getTooltipSize();return t.height>wr&&t.width>=Lr},e.prototype.positionPlainTooltip=function(){var t=this.calculateTooltipStyles(this.anchorRect),e=t.top,n=t.yTransformOrigin,r=t.left,i=t.xTransformOrigin,o=Yr?Ht(window,"transform"):"transform";this.adapter.setSurfaceStyleProperty(o+"-origin",n+" "+i),this.adapter.setStyleProperty("top",e+"px"),this.adapter.setStyleProperty("left",r+"px")},e.prototype.positionRichTooltip=function(){var t,e,n,r,i=this.adapter.getComputedStyleProperty("width");this.adapter.setStyleProperty("width",i);var o=this.calculateTooltipStyles(this.anchorRect),a=o.top,s=o.yTransformOrigin,u=o.left,c=o.xTransformOrigin,l=Yr?Ht(window,"transform"):"transform";this.adapter.setSurfaceStyleProperty(l+"-origin",s+" "+c);var d=u-(null!==(e=null===(t=this.parentRect)||void 0===t?void 0:t.left)&&void 0!==e?e:0),h=a-(null!==(r=null===(n=this.parentRect)||void 0===n?void 0:n.top)&&void 0!==r?r:0);this.adapter.setStyleProperty("top",h+"px"),this.adapter.setStyleProperty("left",d+"px")},e.prototype.calculateTooltipStyles=function(t){if(!t)return{top:0,left:0};var e=this.adapter.getTooltipSize(),n=this.calculateYTooltipDistance(t,e.height),r=this.calculateXTooltipDistance(t,e.width);return{top:n.distance,yTransformOrigin:n.yTransformOrigin,left:r.distance,xTransformOrigin:r.xTransformOrigin}},e.prototype.calculateXTooltipDistance=function(t,e){var n,r,i,o,a,s=!this.adapter.isRTL();this.richTooltip?(n=s?t.left-e:t.right,r=s?t.right:t.left-e,o=s?Fr:kr,a=s?kr:Fr):(n=s?t.left:t.right-e,r=s?t.right-e:t.left,i=t.left+(t.width-e)/2,o=s?kr:Fr,a=s?Fr:kr);var u=this.richTooltip?this.determineValidPositionOptions(n,r):this.determineValidPositionOptions(i,n,r);if(this.xTooltipPos===Tr.START&&u.has(n))return{distance:n,xTransformOrigin:o};if(this.xTooltipPos===Tr.END&&u.has(r))return{distance:r,xTransformOrigin:a};if(this.xTooltipPos===Tr.CENTER&&u.has(i))return{distance:i,xTransformOrigin:Hr};var c=(this.richTooltip?[{distance:r,xTransformOrigin:a},{distance:n,xTransformOrigin:o}]:[{distance:i,xTransformOrigin:Hr},{distance:n,xTransformOrigin:o},{distance:r,xTransformOrigin:a}]).find((function(t){var e=t.distance;return u.has(e)}));return c||(t.left<0?{distance:this.minViewportTooltipThreshold,xTransformOrigin:kr}:{distance:this.adapter.getViewportWidth()-(e+this.minViewportTooltipThreshold),xTransformOrigin:Fr})},e.prototype.determineValidPositionOptions=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=new Set,o=new Set;try{for(var a=_r(n),s=a.next();!s.done;s=a.next()){var u=s.value;this.positionHonorsViewportThreshold(u)?i.add(u):this.positionDoesntCollideWithViewport(u)&&o.add(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i.size?i:o},e.prototype.positionHonorsViewportThreshold=function(t){var e=this.adapter.getViewportWidth();return t+this.adapter.getTooltipSize().width<=e-this.minViewportTooltipThreshold&&t>=this.minViewportTooltipThreshold},e.prototype.positionDoesntCollideWithViewport=function(t){var e=this.adapter.getViewportWidth();return t+this.adapter.getTooltipSize().width<=e&&t>=0},e.prototype.calculateYTooltipDistance=function(t,e){var n=t.bottom+this.anchorGap,r=t.top-(this.anchorGap+e),i=this.determineValidYPositionOptions(r,n);return this.yTooltipPos===Ir.ABOVE&&i.has(r)?{distance:r,yTransformOrigin:Gr}:this.yTooltipPos===Ir.BELOW&&i.has(n)||i.has(n)?{distance:n,yTransformOrigin:Br}:i.has(r)?{distance:r,yTransformOrigin:Gr}:{distance:n,yTransformOrigin:Br}},e.prototype.determineValidYPositionOptions=function(t,e){var n=new Set,r=new Set;return this.yPositionHonorsViewportThreshold(t)?n.add(t):this.yPositionDoesntCollideWithViewport(t)&&r.add(t),this.yPositionHonorsViewportThreshold(e)?n.add(e):this.yPositionDoesntCollideWithViewport(e)&&r.add(e),n.size?n:r},e.prototype.yPositionHonorsViewportThreshold=function(t){var e=this.adapter.getViewportHeight();return t+this.adapter.getTooltipSize().height+this.minViewportTooltipThreshold<=e&&t>=this.minViewportTooltipThreshold},e.prototype.yPositionDoesntCollideWithViewport=function(t){var e=this.adapter.getViewportHeight();return t+this.adapter.getTooltipSize().height<=e&&t>=0},e.prototype.repositionTooltipOnAnchorMove=function(){var t=this.adapter.getAnchorBoundingRect();t&&this.anchorRect&&(t.top===this.anchorRect.top&&t.left===this.anchorRect.left&&t.height===this.anchorRect.height&&t.width===this.anchorRect.width||(this.anchorRect=t,this.parentRect=this.adapter.getParentBoundingRect(),this.richTooltip?this.positionRichTooltip():this.positionPlainTooltip()))},e.prototype.clearShowTimeout=function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},e.prototype.clearHideTimeout=function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)},e.prototype.destroy=function(){this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.clearHideTimeout(),this.clearShowTimeout(),this.adapter.removeClass(Ur),this.adapter.removeClass(qr),this.adapter.removeClass(jr),this.adapter.removeClass(Wr),this.adapter.removeClass(zr),this.richTooltip&&(this.adapter.deregisterEventHandler("focusout",this.richTooltipFocusOutHandler),this.persistentTooltip||(this.adapter.deregisterEventHandler("mouseenter",this.richTooltipMouseEnterHandler),this.adapter.deregisterEventHandler("mouseleave",this.richTooltipMouseLeaveHandler))),this.adapter.deregisterDocumentEventHandler("click",this.documentClickHandler),this.adapter.deregisterDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.deregisterWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.animFrame.cancelAll()},e}(v);var Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yr(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(){var t=this.root.getAttribute("id");if(!t)throw new Error("MDCTooltip: Tooltip component must have an id.");var e=document.querySelector('[aria-describedby="'+t+'"]')||document.querySelector('[data-tooltip-id="'+t+'"]');if(!e)throw new Error("MDCTooltip: Tooltip component requires an anchor element annotated with [aria-describedby] or [data-tooltip-id] anchor element.");this.anchorElem=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.isTooltipRich=this.foundation.isRich(),this.isTooltipPersistent=this.foundation.isPersistent(),this.handleMouseEnter=function(){t.foundation.handleAnchorMouseEnter()},this.handleFocus=function(e){t.foundation.handleAnchorFocus(e)},this.handleMouseLeave=function(){t.foundation.handleAnchorMouseLeave()},this.handleBlur=function(e){t.foundation.handleAnchorBlur(e)},this.handleTransitionEnd=function(){t.foundation.handleTransitionEnd()},this.handleClick=function(){t.foundation.handleAnchorClick()},this.anchorElem.addEventListener("blur",this.handleBlur),this.isTooltipRich&&this.isTooltipPersistent?this.anchorElem.addEventListener("click",this.handleClick):(this.anchorElem.addEventListener("mouseenter",this.handleMouseEnter),this.anchorElem.addEventListener("focus",this.handleFocus),this.anchorElem.addEventListener("mouseleave",this.handleMouseLeave)),this.listen("transitionend",this.handleTransitionEnd)},e.prototype.destroy=function(){this.anchorElem&&(this.anchorElem.removeEventListener("blur",this.handleBlur),this.isTooltipRich&&this.isTooltipPersistent?this.anchorElem.removeEventListener("click",this.handleClick):(this.anchorElem.removeEventListener("mouseenter",this.handleMouseEnter),this.anchorElem.removeEventListener("focus",this.handleFocus),this.anchorElem.removeEventListener("mouseleave",this.handleMouseLeave))),this.unlisten("transitionend",this.handleTransitionEnd),t.prototype.destroy.call(this)},e.prototype.setTooltipPosition=function(t){this.foundation.setTooltipPosition(t)},e.prototype.setAnchorBoundaryType=function(t){this.foundation.setAnchorBoundaryType(t)},e.prototype.hide=function(){this.foundation.hide()},e.prototype.isShown=function(){this.foundation.isShown()},e.prototype.getDefaultFoundation=function(){var t=this;return new Kr({getAttribute:function(e){return t.root.getAttribute(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},addClass:function(e){t.root.classList.add(e)},hasClass:function(e){return t.root.classList.contains(e)},removeClass:function(e){t.root.classList.remove(e)},getComputedStyleProperty:function(e){return window.getComputedStyle(t.root).getPropertyValue(e)},setStyleProperty:function(e,n){t.root.style.setProperty(e,n)},setSurfaceStyleProperty:function(e,n){var r=t.root.querySelector("."+gr.SURFACE);null==r||r.style.setProperty(e,n)},getViewportWidth:function(){return window.innerWidth},getViewportHeight:function(){return window.innerHeight},getTooltipSize:function(){return{width:t.root.offsetWidth,height:t.root.offsetHeight}},getAnchorBoundingRect:function(){return t.anchorElem?t.anchorElem.getBoundingClientRect():null},getParentBoundingRect:function(){var e,n;return null!==(n=null===(e=t.root.parentElement)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==n?n:null},getAnchorAttribute:function(e){return t.anchorElem?t.anchorElem.getAttribute(e):null},setAnchorAttribute:function(e,n){var r;null===(r=t.anchorElem)||void 0===r||r.setAttribute(e,n)},isRTL:function(){return"rtl"===getComputedStyle(t.root).direction},anchorContainsElement:function(e){var n;return!!(null===(n=t.anchorElem)||void 0===n?void 0:n.contains(e))},tooltipContainsElement:function(e){return t.root.contains(e)},focusAnchorElement:function(){var e;null===(e=t.anchorElem)||void 0===e||e.focus()},registerEventHandler:function(e,n){t.root instanceof HTMLElement&&t.root.addEventListener(e,n)},deregisterEventHandler:function(e,n){t.root instanceof HTMLElement&&t.root.removeEventListener(e,n)},registerDocumentEventHandler:function(t,e){document.body.addEventListener(t,e)},deregisterDocumentEventHandler:function(t,e){document.body.removeEventListener(t,e)},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)},notifyHidden:function(){t.emit(Nr,{})}})},e}(_),Jr=function(t,e){return(Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Zr(t,e){function n(){this.constructor=t}Jr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $r=function(){return($r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var ti={NATIVE_CONTROL_SELECTOR:".mdc-radio__native-control"},ei={DISABLED:"mdc-radio--disabled",ROOT:"mdc-radio"},ni=function(t){function e(n){return t.call(this,$r($r({},e.defaultAdapter),n))||this}return Zr(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ei},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return ti},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(t){var n=e.cssClasses.DISABLED;this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(n):this.adapter.removeClass(n)},e}(v);var ri=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ripple_=e.createRipple_(),e}return Zr(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(t){this.nativeControl_.checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeControl_.value},set:function(t){this.nativeControl_.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.ripple_.destroy(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new ni({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNativeControlDisabled:function(e){return t.nativeControl_.disabled=e}})},e.prototype.createRipple_=function(){var t=this,e=$r($r({},x.createAdapter(this)),{registerInteractionHandler:function(e,n){return t.nativeControl_.addEventListener(e,n,T())},deregisterInteractionHandler:function(e,n){return t.nativeControl_.removeEventListener(e,n,T())},isSurfaceActive:function(){return!1},isUnbounded:function(){return!0}});return new x(this.root,new D(e))},Object.defineProperty(e.prototype,"nativeControl_",{get:function(){var t=ni.strings.NATIVE_CONTROL_SELECTOR,e=this.root.querySelector(t);if(!e)throw new Error("Radio component requires a "+t+" element");return e},enumerable:!0,configurable:!0}),e}(_),ii=function(t,e){return(ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function oi(t,e){function n(){this.constructor=t}ii(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ai=function(){return(ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function si(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function ui(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ci(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var li=function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function di(t,e){function n(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var hi=function(){return(hi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function fi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var pi={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},mi={ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},Ei=.8367142,yi=2.00611057,gi=.37651913,vi=.84386165,_i=1.60277782,Ti=function(t){function e(n){var r=t.call(this,hi(hi({},e.defaultAdapter),n))||this;return r.observer=null,r}return di(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return pi},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return mi},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this;this.isDeterminate=!this.adapter.hasClass(pi.INDETERMINATE_CLASS),this.adapter.addClass(pi.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver((function(e){var n,r;if(!t.isDeterminate)try{for(var i=fi(e),o=i.next();!o.done;o=i.next()){var a=o.value;a.contentRect&&t.calculateAndSetDimensions(a.contentRect.width)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})),!this.isDeterminate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},e.prototype.setDeterminate=function(t){if(this.isDeterminate=t,this.isDeterminate)return this.adapter.removeClass(pi.INDETERMINATE_CLASS),this.adapter.setAttribute(mi.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(mi.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(mi.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(pi.INDETERMINATE_CLASS),this.adapter.removeAttribute(mi.ARIA_VALUENOW),this.adapter.removeAttribute(mi.ARIA_VALUEMAX),this.adapter.removeAttribute(mi.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},e.prototype.getDeterminate=function(){return this.isDeterminate},e.prototype.setProgress=function(t){this.progress=t,this.isDeterminate&&(this.setPrimaryBarProgress(t),this.adapter.setAttribute(mi.ARIA_VALUENOW,t.toString()))},e.prototype.getProgress=function(){return this.progress},e.prototype.setBuffer=function(t){this.buffer=t,this.isDeterminate&&this.setBufferBarProgress(t)},e.prototype.open=function(){this.adapter.removeClass(pi.CLOSED_CLASS),this.adapter.removeClass(pi.CLOSED_ANIMATION_OFF_CLASS)},e.prototype.close=function(){this.adapter.addClass(pi.CLOSED_CLASS)},e.prototype.handleTransitionEnd=function(){this.adapter.hasClass(pi.CLOSED_CLASS)&&this.adapter.addClass(pi.CLOSED_ANIMATION_OFF_CLASS)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},e.prototype.restartAnimation=function(){this.adapter.removeClass(pi.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(pi.ANIMATION_READY_CLASS)},e.prototype.setPrimaryBarProgress=function(t){var e="scaleX("+t+")",n="undefined"!=typeof window?Ht(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,e)},e.prototype.setBufferBarProgress=function(t){var e=100*t+"%";this.adapter.setBufferBarStyle(mi.FLEX_BASIS,e)},e.prototype.calculateAndSetDimensions=function(t){var e=t*Ei,n=t*yi,r=t*gi,i=t*vi,o=t*_i;this.adapter.setStyle("--mdc-linear-progress-primary-half",e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-o+"px"),this.restartAnimation()},e}(v);var Ii,bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return di(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"determinate",{set:function(t){this.foundation.setDeterminate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progress",{set:function(t){this.foundation.setProgress(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{set:function(t){this.foundation.setBuffer(t)},enumerable:!0,configurable:!0}),e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(){this.foundation.close()},e.prototype.initialSyncWithDOM=function(){var t=this;this.root.addEventListener("transitionend",(function(){t.foundation.handleTransitionEnd()}))},e.prototype.getDefaultFoundation=function(){var t=this;return new Ti({addClass:function(e){t.root.classList.add(e)},forceLayout:function(){t.root.getBoundingClientRect()},setBufferBarStyle:function(e,n){var r=t.root.querySelector(Ti.strings.BUFFER_BAR_SELECTOR);r&&r.style.setProperty(e,n)},setPrimaryBarStyle:function(e,n){var r=t.root.querySelector(Ti.strings.PRIMARY_BAR_SELECTOR);r&&r.style.setProperty(e,n)},hasClass:function(e){return t.root.classList.contains(e)},removeAttribute:function(e){t.root.removeAttribute(e)},removeClass:function(e){t.root.classList.remove(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},setStyle:function(e,n){t.root.style.setProperty(e,n)},attachResizeObserver:function(e){var n=window.ResizeObserver;if(n){var r=new n(e);return r.observe(t.root),r}return null},getWidth:function(){return t.root.offsetWidth}})},e}(_),Ai="mdc-data-table__content",Ci="mdc-data-table__header-cell--sorted",Oi="mdc-data-table__header-cell--sorted-descending",Si="mdc-data-table__header-row",Ri="mdc-data-table--in-progress",wi="mdc-data-table__linear-progress",Li="mdc-data-table__row--selected",Di="mdc-data-table__table-container",xi="data-column-id",Pi="data-row-id",Ni={CONTENT:"."+Ai,HEADER_CELL:"."+"mdc-data-table__header-cell",HEADER_CELL_WITH_SORT:"."+"mdc-data-table__header-cell--with-sort",HEADER_ROW:"."+Si,HEADER_ROW_CHECKBOX:"."+"mdc-data-table__header-row-checkbox",PROGRESS_INDICATOR:"."+"mdc-data-table__progress-indicator",ROW:"."+"mdc-data-table__row",ROW_CHECKBOX:"."+"mdc-data-table__row-checkbox",ROW_SELECTED:"."+Li,SORT_ICON_BUTTON:"."+"mdc-data-table__sort-icon-button",SORT_STATUS_LABEL:"."+"mdc-data-table__sort-status-label"},Mi="Sorted in descending order",ki="Sorted in ascending order",Fi={ARIA_SELECTED:"aria-selected",ARIA_SORT:"aria-sort",DATA_ROW_ID_ATTR:Pi,HEADER_ROW_CHECKBOX_SELECTOR:Ni.HEADER_ROW_CHECKBOX,ROW_CHECKBOX_SELECTOR:Ni.ROW_CHECKBOX,ROW_SELECTED_SELECTOR:Ni.ROW_SELECTED,ROW_SELECTOR:Ni.ROW};!function(t){t.ASCENDING="ascending",t.DESCENDING="descending",t.NONE="none",t.OTHER="other"}(Ii||(Ii={}));var Hi="MDCDataTable:rowSelectionChanged",Bi="MDCDataTable:selectedAll",Gi="MDCDataTable:unselectedAll",Vi="MDCDataTable:sorted",Ui=function(t){function e(n){return t.call(this,ai(ai({},e.defaultAdapter),n))||this}return oi(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},addClassAtRowIndex:function(){},getAttributeByHeaderCellIndex:function(){return""},getHeaderCellCount:function(){return 0},getHeaderCellElements:function(){return[]},getRowCount:function(){return 0},getRowElements:function(){return[]},getRowIdAtIndex:function(){return""},getRowIndexByChildElement:function(){return 0},getSelectedRowCount:function(){return 0},getTableContainerHeight:function(){return 0},getTableHeaderHeight:function(){return 0},isCheckboxAtRowIndexChecked:function(){return!1},isHeaderRowCheckboxChecked:function(){return!1},isRowsSelectable:function(){return!1},notifyRowSelectionChanged:function(){},notifySelectedAll:function(){},notifySortAction:function(){},notifyUnselectedAll:function(){},registerHeaderRowCheckbox:function(){},registerRowCheckboxes:function(){},removeClass:function(){},removeClassAtRowIndex:function(){},removeClassNameByHeaderCellIndex:function(){},setAttributeAtRowIndex:function(){},setAttributeByHeaderCellIndex:function(){},setClassNameByHeaderCellIndex:function(){},setHeaderRowCheckboxChecked:function(){},setHeaderRowCheckboxIndeterminate:function(){},setProgressIndicatorStyles:function(){},setRowCheckboxCheckedAtIndex:function(){},setSortStatusLabelByHeaderCellIndex:function(){}}},enumerable:!0,configurable:!0}),e.prototype.layout=function(){this.adapter.isRowsSelectable()&&(this.adapter.registerHeaderRowCheckbox(),this.adapter.registerRowCheckboxes(),this.setHeaderRowCheckboxState())},e.prototype.layoutAsync=function(){return si(this,void 0,void 0,(function(){return ui(this,(function(t){switch(t.label){case 0:return this.adapter.isRowsSelectable()?[4,this.adapter.registerHeaderRowCheckbox()]:[3,3];case 1:return t.sent(),[4,this.adapter.registerRowCheckboxes()];case 2:t.sent(),this.setHeaderRowCheckboxState(),t.label=3;case 3:return[2]}}))}))},e.prototype.getRows=function(){return this.adapter.getRowElements()},e.prototype.getHeaderCells=function(){return this.adapter.getHeaderCellElements()},e.prototype.setSelectedRowIds=function(t){for(var e=0;e<this.adapter.getRowCount();e++){var n=this.adapter.getRowIdAtIndex(e),r=!1;n&&t.indexOf(n)>=0&&(r=!0),this.adapter.setRowCheckboxCheckedAtIndex(e,r),this.selectRowAtIndex(e,r)}this.setHeaderRowCheckboxState()},e.prototype.getRowIds=function(){for(var t=[],e=0;e<this.adapter.getRowCount();e++)t.push(this.adapter.getRowIdAtIndex(e));return t},e.prototype.getSelectedRowIds=function(){for(var t=[],e=0;e<this.adapter.getRowCount();e++)this.adapter.isCheckboxAtRowIndexChecked(e)&&t.push(this.adapter.getRowIdAtIndex(e));return t},e.prototype.handleHeaderRowCheckboxChange=function(){for(var t=this.adapter.isHeaderRowCheckboxChecked(),e=0;e<this.adapter.getRowCount();e++)this.adapter.setRowCheckboxCheckedAtIndex(e,t),this.selectRowAtIndex(e,t);t?this.adapter.notifySelectedAll():this.adapter.notifyUnselectedAll()},e.prototype.handleRowCheckboxChange=function(t){var e=this.adapter.getRowIndexByChildElement(t.target);if(-1!==e){var n=this.adapter.isCheckboxAtRowIndexChecked(e);this.selectRowAtIndex(e,n),this.setHeaderRowCheckboxState();var r=this.adapter.getRowIdAtIndex(e);this.adapter.notifyRowSelectionChanged({rowId:r,rowIndex:e,selected:n})}},e.prototype.handleSortAction=function(t){for(var e=t.columnId,n=t.columnIndex,r=t.headerCell,i=0;i<this.adapter.getHeaderCellCount();i++)i!==n&&(this.adapter.removeClassNameByHeaderCellIndex(i,Ci),this.adapter.removeClassNameByHeaderCellIndex(i,Oi),this.adapter.setAttributeByHeaderCellIndex(i,Fi.ARIA_SORT,Ii.NONE),this.adapter.setSortStatusLabelByHeaderCellIndex(i,Ii.NONE));this.adapter.setClassNameByHeaderCellIndex(n,Ci);var o=this.adapter.getAttributeByHeaderCellIndex(n,Fi.ARIA_SORT),a=Ii.NONE;o===Ii.ASCENDING?(this.adapter.setClassNameByHeaderCellIndex(n,Oi),this.adapter.setAttributeByHeaderCellIndex(n,Fi.ARIA_SORT,Ii.DESCENDING),a=Ii.DESCENDING):o===Ii.DESCENDING?(this.adapter.removeClassNameByHeaderCellIndex(n,Oi),this.adapter.setAttributeByHeaderCellIndex(n,Fi.ARIA_SORT,Ii.ASCENDING),a=Ii.ASCENDING):(this.adapter.setAttributeByHeaderCellIndex(n,Fi.ARIA_SORT,Ii.ASCENDING),a=Ii.ASCENDING),this.adapter.setSortStatusLabelByHeaderCellIndex(n,a),this.adapter.notifySortAction({columnId:e,columnIndex:n,headerCell:r,sortValue:a})},e.prototype.showProgress=function(){var t=this.adapter.getTableHeaderHeight(),e=this.adapter.getTableContainerHeight()-t,n=t;this.adapter.setProgressIndicatorStyles({height:e+"px",top:n+"px"}),this.adapter.addClass(Ri)},e.prototype.hideProgress=function(){this.adapter.removeClass(Ri)},e.prototype.setHeaderRowCheckboxState=function(){0===this.adapter.getSelectedRowCount()?(this.adapter.setHeaderRowCheckboxChecked(!1),this.adapter.setHeaderRowCheckboxIndeterminate(!1)):this.adapter.getSelectedRowCount()===this.adapter.getRowCount()?(this.adapter.setHeaderRowCheckboxChecked(!0),this.adapter.setHeaderRowCheckboxIndeterminate(!1)):(this.adapter.setHeaderRowCheckboxIndeterminate(!0),this.adapter.setHeaderRowCheckboxChecked(!1))},e.prototype.selectRowAtIndex=function(t,e){e?(this.adapter.addClassAtRowIndex(t,Li),this.adapter.setAttributeAtRowIndex(t,Fi.ARIA_SELECTED,"true")):(this.adapter.removeClassAtRowIndex(t,Li),this.adapter.setAttributeAtRowIndex(t,Fi.ARIA_SELECTED,"false"))},e}(v),ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(t){return new Wt(t)}),this.checkboxFactory=t},e.prototype.initialSyncWithDOM=function(){var t=this;this.headerRow=this.root.querySelector("."+Si),this.handleHeaderRowCheckboxChange=function(){t.foundation.handleHeaderRowCheckboxChange()},this.headerRow.addEventListener("change",this.handleHeaderRowCheckboxChange),this.headerRowClickListener=function(e){t.handleHeaderRowClick(e)},this.headerRow.addEventListener("click",this.headerRowClickListener),this.content=this.root.querySelector("."+Ai),this.handleRowCheckboxChange=function(e){t.foundation.handleRowCheckboxChange(e)},this.content.addEventListener("change",this.handleRowCheckboxChange),this.layout()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getHeaderCells=function(){return[].slice.call(this.root.querySelectorAll(Ni.HEADER_CELL))},e.prototype.getRows=function(){return this.foundation.getRows()},e.prototype.getSelectedRowIds=function(){return this.foundation.getSelectedRowIds()},e.prototype.setSelectedRowIds=function(t){this.foundation.setSelectedRowIds(t)},e.prototype.showProgress=function(){this.getLinearProgress().open(),this.foundation.showProgress()},e.prototype.hideProgress=function(){this.foundation.hideProgress(),this.getLinearProgress().close()},e.prototype.destroy=function(){var t,e;if(this.handleHeaderRowCheckboxChange&&this.headerRow.removeEventListener("change",this.handleHeaderRowCheckboxChange),this.headerRowClickListener&&this.headerRow.removeEventListener("click",this.headerRowClickListener),this.handleRowCheckboxChange&&this.content.removeEventListener("change",this.handleRowCheckboxChange),this.headerRowCheckbox&&this.headerRowCheckbox.destroy(),this.rowCheckboxList)try{for(var n=ci(this.rowCheckboxList),r=n.next();!r.done;r=n.next()){r.value.destroy()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.getDefaultFoundation=function(){var t=this;return new Ui({addClass:function(e){t.root.classList.add(e)},removeClass:function(e){t.root.classList.remove(e)},getHeaderCellElements:function(){return t.getHeaderCells()},getHeaderCellCount:function(){return t.getHeaderCells().length},getAttributeByHeaderCellIndex:function(e,n){return t.getHeaderCells()[e].getAttribute(n)},setAttributeByHeaderCellIndex:function(e,n,r){t.getHeaderCells()[e].setAttribute(n,r)},setClassNameByHeaderCellIndex:function(e,n){t.getHeaderCells()[e].classList.add(n)},removeClassNameByHeaderCellIndex:function(e,n){t.getHeaderCells()[e].classList.remove(n)},notifySortAction:function(e){t.emit(Vi,e,!0)},getTableContainerHeight:function(){var e=t.root.querySelector("."+Di);if(!e)throw new Error("MDCDataTable: Table container element not found.");return e.getBoundingClientRect().height},getTableHeaderHeight:function(){var e=t.root.querySelector(Ni.HEADER_ROW);if(!e)throw new Error("MDCDataTable: Table header element not found.");return e.getBoundingClientRect().height},setProgressIndicatorStyles:function(e){var n=t.root.querySelector(Ni.PROGRESS_INDICATOR);if(!n)throw new Error("MDCDataTable: Progress indicator element not found.");n.style.setProperty("height",e.height),n.style.setProperty("top",e.top)},addClassAtRowIndex:function(e,n){t.getRows()[e].classList.add(n)},getRowCount:function(){return t.getRows().length},getRowElements:function(){return[].slice.call(t.root.querySelectorAll(Ni.ROW))},getRowIdAtIndex:function(e){return t.getRows()[e].getAttribute(Pi)},getRowIndexByChildElement:function(e){return t.getRows().indexOf(I(e,Ni.ROW))},getSelectedRowCount:function(){return t.root.querySelectorAll(Ni.ROW_SELECTED).length},isCheckboxAtRowIndexChecked:function(e){return t.rowCheckboxList[e].checked},isHeaderRowCheckboxChecked:function(){return t.headerRowCheckbox.checked},isRowsSelectable:function(){return!!t.root.querySelector(Ni.ROW_CHECKBOX)||!!t.root.querySelector(Ni.HEADER_ROW_CHECKBOX)},notifyRowSelectionChanged:function(e){t.emit(Hi,{row:t.getRowByIndex(e.rowIndex),rowId:t.getRowIdByIndex(e.rowIndex),rowIndex:e.rowIndex,selected:e.selected},!0)},notifySelectedAll:function(){t.emit(Bi,{},!0)},notifyUnselectedAll:function(){t.emit(Gi,{},!0)},registerHeaderRowCheckbox:function(){t.headerRowCheckbox&&t.headerRowCheckbox.destroy();var e=t.root.querySelector(Ni.HEADER_ROW_CHECKBOX);t.headerRowCheckbox=t.checkboxFactory(e)},registerRowCheckboxes:function(){t.rowCheckboxList&&t.rowCheckboxList.forEach((function(t){t.destroy()})),t.rowCheckboxList=[],t.getRows().forEach((function(e){var n=t.checkboxFactory(e.querySelector(Ni.ROW_CHECKBOX));t.rowCheckboxList.push(n)}))},removeClassAtRowIndex:function(e,n){t.getRows()[e].classList.remove(n)},setAttributeAtRowIndex:function(e,n,r){t.getRows()[e].setAttribute(n,r)},setHeaderRowCheckboxChecked:function(e){t.headerRowCheckbox.checked=e},setHeaderRowCheckboxIndeterminate:function(e){t.headerRowCheckbox.indeterminate=e},setRowCheckboxCheckedAtIndex:function(e,n){t.rowCheckboxList[e].checked=n},setSortStatusLabelByHeaderCellIndex:function(e,n){var r=t.getHeaderCells()[e].querySelector(Ni.SORT_STATUS_LABEL);r&&(r.textContent=t.getSortStatusMessageBySortValue(n))}})},e.prototype.getRowByIndex=function(t){return this.getRows()[t]},e.prototype.getRowIdByIndex=function(t){return this.getRowByIndex(t).getAttribute(Pi)},e.prototype.handleHeaderRowClick=function(t){var e=I(t.target,Ni.HEADER_CELL_WITH_SORT);if(e){var n=e.getAttribute(xi),r=this.getHeaderCells().indexOf(e);-1!==r&&this.foundation.handleSortAction({columnId:n,columnIndex:r,headerCell:e})}},e.prototype.getSortStatusMessageBySortValue=function(t){switch(t){case Ii.ASCENDING:return ki;case Ii.DESCENDING:return Mi;default:return""}},e.prototype.getLinearProgressElement=function(){var t=this.root.querySelector("."+wi);if(!t)throw new Error("MDCDataTable: linear progress element is not found.");return t},e.prototype.getLinearProgress=function(){if(!this.linearProgress){var t=this.getLinearProgressElement();this.linearProgress=new bi(t)}return this.linearProgress},e}(_),qi=function(t,e){return(qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Wi(t,e){function n(){this.constructor=t}qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zi=function(){return(zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var Xi,Yi="mdc-banner--closing",Ki="mdc-banner--open",Qi="mdc-banner--opening",Ji=250,Zi=300,$i="MDCBanner:closed",to="MDCBanner:closing",eo="MDCBanner:opened",no="MDCBanner:opening",ro=".mdc-banner__content",oo=".mdc-banner__primary-action",ao=".mdc-banner__secondary-action",so=".mdc-banner__text";!function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY",t[t.UNSPECIFIED=2]="UNSPECIFIED"}(Xi||(Xi={}));var uo=Qi,co=Ki,lo=Yi,ho=function(t){function e(n){var r=t.call(this,zi(zi({},e.defaultAdapter),n))||this;return r.isOpened=!1,r.animationFrame=0,r.animationTimer=0,r}return Wi(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},getContentHeight:function(){return 0},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){},setStyleProperty:function(){}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0},e.prototype.open=function(){var t=this;this.isOpened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(lo),this.adapter.addClass(uo);var e=this.adapter.getContentHeight();this.animationFrame=requestAnimationFrame((function(){t.adapter.addClass(co),t.adapter.setStyleProperty("height",e+"px"),t.animationTimer=setTimeout((function(){t.handleAnimationTimerEnd(),t.adapter.notifyOpened()}),Zi)}))},e.prototype.close=function(t){var e=this;this.isOpened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.isOpened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(lo),this.adapter.setStyleProperty("height","0"),this.adapter.removeClass(co),this.adapter.removeClass(uo),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Ji))},e.prototype.isOpen=function(){return this.isOpened},e.prototype.handlePrimaryActionClick=function(){this.close(Xi.PRIMARY)},e.prototype.handleSecondaryActionClick=function(){this.close(Xi.SECONDARY)},e.prototype.layout=function(){var t=this.adapter.getContentHeight();this.adapter.setStyleProperty("height",t+"px")},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(uo),this.adapter.removeClass(lo)},e}(v),fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(){var t=this;this.contentEl=this.root.querySelector(ro),this.textEl=this.root.querySelector(so),this.primaryActionEl=this.root.querySelector(oo),this.secondaryActionEl=this.root.querySelector(ao),this.handleContentClick=function(e){var n=e.target;I(n,oo)?t.foundation.handlePrimaryActionClick():I(n,ao)&&t.foundation.handleSecondaryActionClick()}},e.prototype.initialSyncWithDOM=function(){this.registerContentClickHandler(this.handleContentClick)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterContentClickHandler(this.handleContentClick)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new ho({addClass:function(e){t.root.classList.add(e)},getContentHeight:function(){return t.contentEl.offsetHeight},notifyClosed:function(e){t.emit($i,{reason:e})},notifyClosing:function(e){t.emit(to,{reason:e})},notifyOpened:function(){t.emit(eo,{})},notifyOpening:function(){t.emit(no,{})},removeClass:function(e){t.root.classList.remove(e)},setStyleProperty:function(e,n){t.root.style.setProperty(e,n)}})},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this.textEl.textContent||""},e.prototype.setText=function(t){this.textEl.textContent=t},e.prototype.getPrimaryActionText=function(){return this.primaryActionEl.textContent||""},e.prototype.setPrimaryActionText=function(t){this.primaryActionEl.textContent=t},e.prototype.getSecondaryActionText=function(){return this.secondaryActionEl?this.secondaryActionEl.textContent||"":null},e.prototype.setSecondaryActionText=function(t){this.secondaryActionEl&&(this.secondaryActionEl.textContent=t)},e.prototype.registerContentClickHandler=function(t){this.contentEl.addEventListener("click",t)},e.prototype.deregisterContentClickHandler=function(t){this.contentEl.removeEventListener("click",t)},e}(_);function po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eo(t,e,n){return e&&mo(t.prototype,e),n&&mo(t,n),t}function yo(){return(yo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function go(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function To(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vo(t);if(e){var i=vo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return To(this,n)}}var bo=function(){function t(e){po(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return Eo(t,[{key:"setOptions",value:function(t){return this.options=yo(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}},{key:"csrfToken",value:function(){var t;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),Ao=function(){function t(){po(this,t)}return Eo(t,[{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,e){return this.stopListening(".client-"+t,e)}}]),t}(),Co=function(){function t(e){po(this,t),this.setNamespace(e)}return Eo(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),Oo=function(t){go(n,t);var e=Io(n);function n(t,r,i){var o;return po(this,n),(o=e.call(this)).name=r,o.pusher=t,o.options=i,o.eventFormatter=new Co(o.options.namespace),o.subscribe(),o}return Eo(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t,e){return e?this.subscription.unbind(this.eventFormatter.format(t),e):this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"subscribed",value:function(t){return this.on("pusher:subscription_succeeded",(function(){t()})),this}},{key:"error",value:function(t){return this.on("pusher:subscription_error",(function(e){t(e)})),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),n}(Ao),So=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Oo),Ro=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Oo),wo=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",(function(e){t(Object.keys(e.members).map((function(t){return e.members[t]})))})),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",(function(e){t(e.info)})),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",(function(e){t(e.info)})),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Oo),Lo=function(t){go(n,t);var e=Io(n);function n(t,r,i){var o;return po(this,n),(o=e.call(this)).events={},o.listeners={},o.name=r,o.socket=t,o.options=i,o.eventFormatter=new Co(o.options.namespace),o.subscribe(),o}return Eo(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t,e){return this.unbindEvent(this.eventFormatter.format(t),e),this}},{key:"subscribed",value:function(t){return this.on("connect",(function(e){t(e)})),this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=function(e,r){n.name===e&&n.listeners[t]&&n.listeners[t].forEach((function(t){return t(r)}))},this.socket.on(t,this.events[t])),this.listeners[t].push(e),this}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach((function(e){t.unbindEvent(e)}))}},{key:"unbindEvent",value:function(t,e){this.listeners[t]=this.listeners[t]||[],e&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))),e&&0!==this.listeners[t].length||(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}]),n}(Ao),Do=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:e}),this}}]),n}(Lo),xo=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"here",value:function(t){return this.on("presence:subscribed",(function(e){t(e.map((function(t){return t.user_info})))})),this}},{key:"joining",value:function(t){return this.on("presence:joining",(function(e){return t(e.user_info)})),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",(function(e){return t(e.user_info)})),this}}]),n}(Do),Po=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,e){return this}},{key:"stopListening",value:function(t,e){return this}},{key:"subscribed",value:function(t){return this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){return this}}]),n}(Ao),No=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"whisper",value:function(t,e){return this}}]),n}(Po),Mo=function(t){go(n,t);var e=Io(n);function n(){return po(this,n),e.apply(this,arguments)}return Eo(n,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"leaving",value:function(t){return this}},{key:"whisper",value:function(t,e){return this}}]),n}(Po),ko=function(t){go(n,t);var e=Io(n);function n(){var t;return po(this,n),(t=e.apply(this,arguments)).channels={},t}return Eo(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new Oo(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new So(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"encryptedPrivateChannel",value:function(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new Ro(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new wo(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t,n){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(bo),Fo=function(t){go(n,t);var e=Io(n);function n(){var t;return po(this,n),(t=e.apply(this,arguments)).channels={},t}return Eo(n,[{key:"connect",value:function(){var t=this,e=this.getSocketIO();return this.socket=e(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(t.channels).forEach((function(t){t.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new Lo(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Do(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new xo(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(bo),Ho=function(t){go(n,t);var e=Io(n);function n(){var t;return po(this,n),(t=e.apply(this,arguments)).channels={},t}return Eo(n,[{key:"connect",value:function(){}},{key:"listen",value:function(t,e,n){return new Po}},{key:"channel",value:function(t){return new Po}},{key:"privateChannel",value:function(t){return new No}},{key:"presenceChannel",value:function(t){return new Mo}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(bo);const Bo=function(){function t(e){po(this,t),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Eo(t,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new ko(this.options):"socket.io"==this.options.broadcaster?this.connector=new Fo(this.options):"null"==this.options.broadcaster?this.connector=new Ho(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push((function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use((function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e}))}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(e,n,r){t.socketId()&&r.setRequestHeader("X-Socket-Id",t.socketId())}))}}]),t}();window.FilePond=r,window.FilePondPluginImageCrop=o(),window.FilePondPluginImagePreview=s(),window.FilePondPluginFileValidateType=c(),window.FilePondPluginImageTransform=d(),window.FilePondPluginImageOverlay=f(),window.Pusher=n(606),window.Echo=new Bo({broadcaster:"pusher",key:"efd32c229d03ddfc0b40",cluster:"mt1",forceTLS:!0});var Go=n(566);window.bodyScroll=Go;var Vo=[];[].map.call(document.querySelectorAll(".mdc-switch"),(function(t){return new Bn(t)})),[].map.call(document.querySelectorAll(".mdc-button"),(function(t){return new x(t)})),[].map.call(document.querySelectorAll(".mdc-button-ripple"),(function(t){return new x(t)})),[].map.call(document.querySelectorAll(".mdc-text-field"),(function(t){return new bt(t)}));window.initTextField=function(t){null!==document.getElementById(t)&&(Vo[t]=new bt(document.getElementById(t)))};[].map.call(document.querySelectorAll(".mdc-select"),(function(t){return new mr(t)})),[].map.call(document.querySelectorAll(".icontoggle"),(function(t){return new Dt(t)})),[].map.call(document.querySelectorAll(".mdc-ripple-surface"),(function(t){return new x(t)})),[].map.call(document.querySelectorAll(".mdc-radio"),(function(t){return new ri(t)}));if(null!==document.getElementById("confirm-dialog")){var Uo=new $n(document.querySelector(".confirm-dialog"));window.delDialog=function(){Uo.open()},window.confDialog=Uo}if(null!==document.getElementById("unsub-dialog")){var jo=new $n(document.querySelector(".unsub-dialog"));window.unsubDialog=function(){jo.open()}}[].forEach.call(document.querySelectorAll(".mdc-icon-button"),(function(t){new x(t).unbounded=!0})),[].map.call(document.querySelectorAll(".mdc-checkbox"),(function(t){new Wt(t)})),Vo=[].map.call(document.querySelectorAll(".mdc-tooltip"),(function(t){return new Qr(t)})),[].map.call(document.querySelectorAll(".mdc-list"),(function(t){var e=new fn(t);e.listElements.map((function(t){return new x(t)}));return e}));if(window.initTooltip=function(t){null!==document.getElementById(t)&&(Vo[t]=new Qr(document.getElementById(t)))},null!==document.querySelector(".mdc-banner")){var qo=new fo(document.querySelector(".mdc-banner"));window.offlineBanner=qo}[].map.call(document.querySelectorAll(".mdc-data-table"),(function(t){return new ji(t)}));if(null!==document.getElementById("snackbar")){var Wo=new Ee(document.querySelector(".snackbar"));window.snack=function(t){Wo.labelText=t,Wo.open()},window.snackbar=Wo}if(null!==document.getElementById("refreshpwa")){var zo=new Ee(document.querySelector(".refreshpwa"));window.showRefresh=function(){zo.open()},window.pwaSnackbar=zo}if(null!==document.querySelector(".edit-more-menu")){var Xo=new Ln(document.querySelector(".edit-more-menu"));window.moreMenu=Xo}if(null!==document.querySelector(".delete-assignment-conf")){var Yo=new $n(document.querySelector(".delete-assignment-conf"));window.deleteAssignmentDialog=Yo,window.openAssignmentDialog=function(){Yo.open()}}if(null!==document.querySelector(".suggestions-menu")){var Ko=new Ln(document.querySelector(".suggestions-menu"));window.suggestionsMenu=Ko}if(null!==document.querySelector(".manage-reminders-dialog")){var Qo=new $n(document.querySelector(".manage-reminders-dialog"));Qo.scrimClickAction="",document.getElementById("reminder-button").addEventListener("click",(function(){Qo.open()}))}},566:function(t){var e;e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e){var n,r,i;r=document.scrollingElement||document.documentElement,i=null,n=null,t.exports={toggle:function(){return i?disable():enable()},disable:function(){return i=r.scrollTop,n=document.body.style.cssText,document.body.style.cssText=";overflow: hidden; position: fixed; height:   100%; width:    100%; top:      "+-i+"px; "},enable:function(){return document.body.style.cssText=n,r.scrollTop=i}}}])},t.exports=e()},521:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isString,o=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,u=n.getFilenameFromURL,c=function(t,e){return(/^[^/]+/.exec(t)||[]).pop()===e.slice(0,-2)},l=function(t,e){return t.some((function(t){return/\*$/.test(t)?c(e,t):t===e}))},d=function(t){var e="";if(i(t)){var n=u(t),r=s(n);r&&(e=a(r))}else e=t.type;return e},h=function(t,e,n){if(0===e.length)return!0;var r=d(t);return n?new Promise((function(i,o){n(t,r).then((function(t){l(e,t)?i():o()})).catch(o)})):l(e,r)},f=function(t){return function(e){return null!==t[e]&&(t[e]||e)}};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(function(t){return Object.assign(t,{accept:"acceptedFileTypes"})})),e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||h(t,n("GET_ACCEPTED_FILE_TYPES"))})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var i=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=h(t,i,a),u=function(){var t=i.map(f(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(t){return!1!==t}));r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if("boolean"==typeof s)return s?e(t):u();s.then((function(){e(t)})).catch(u)}else e(t)}))})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},180:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.isFile,a=r.getNumericAspectRatioFromString,s=function(e,n){return!(!t(e.file)||!n("GET_ALLOW_IMAGE_CROP"))},u=function(t){return"object"==typeof t},c=function(t){return"number"==typeof t},l=function(t,e){return t.setMetadata("crop",Object.assign({},t.getMetadata("crop"),e))};return n("DID_CREATE_ITEM",(function(t,e){var n=e.query;t.extend("setImageCrop",(function(e){if(s(t,n)&&u(center))return t.setMetadata("crop",e),e})),t.extend("setImageCropCenter",(function(e){if(s(t,n)&&u(e))return l(t,{center:e})})),t.extend("setImageCropZoom",(function(e){if(s(t,n)&&c(e))return l(t,{zoom:Math.max(1,e)})})),t.extend("setImageCropRotation",(function(e){if(s(t,n)&&c(e))return l(t,{rotation:e})})),t.extend("setImageCropFlip",(function(e){if(s(t,n)&&u(e))return l(t,{flip:e})})),t.extend("setImageCropAspectRatio",(function(e){if(s(t,n)&&void 0!==e){var r=t.getMetadata("crop"),i=a(e),o={center:{x:.5,y:.5},flip:r?Object.assign({},r.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:i};return t.setMetadata("crop",o),o}}))})),n("DID_LOAD_ITEM",(function(e,n){var r=n.query;return new Promise((function(n,i){var s=e.file;if(!o(s)||!t(s)||!r("GET_ALLOW_IMAGE_CROP"))return n(e);if(e.getMetadata("crop"))return n(e);var u=r("GET_IMAGE_CROP_ASPECT_RATIO");e.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:u?a(u):null}),n(e)}))})),{options:{allowImageCrop:[!0,i.BOOLEAN],imageCropAspectRatio:[null,i.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},424:function(t){t.exports=function(){"use strict";const t=t=>/^image/.test(t.type),e=(t,e)=>{let n=new Image;n.onload=()=>{const t=n.naturalWidth,r=n.naturalHeight;n=null,e(t,r)},n.src=t},n=(t,e,n)=>{const o=e.querySelector(".filepond--file-info-main"),a=r(n);o.prepend(a),a.addEventListener("click",(()=>i(t))),window.setTimeout((()=>{const n=e.querySelector(".filepond--image-preview");n&&(n.classList.add("clickable"),n.addEventListener("click",(()=>i(t))))}),1e3)},r=t=>{let e=document.createElement("span");return e.className="filepond--magnify-icon",e.title=t,e},i=t=>{const e=document.createElement("div");e.className="filepond--fullsize-overlay";const n=document.createElement("div"),r=URL.createObjectURL(t.file);n.className="image-container",n.style.backgroundImage="url("+r+")",o(r,n);let i=document.getElementsByTagName("body")[0];e.appendChild(n),i.appendChild(e),e.addEventListener("click",(()=>e.remove()))},o=(t,n)=>{const r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);e(t,((t,e)=>{(t>r||e>i)&&(n.style.backgroundSize="contain")}))},a=e=>{const{addFilter:r,utils:i}=e,{Type:o,createRoute:a}=i;return r("CREATE_VIEW",(e=>{const{is:r,view:i,query:o}=e;if(!r("file"))return;const s=({root:e,props:r})=>{const{id:i}=r,a=o("GET_ITEM",i);if(!a||a.archived||!t(a.file))return;const s=e.query("GET_LABEL_BUTTON_IMAGE_OVERLAY");n(a,e.element,s),e.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:i})};i.registerWriter(a({DID_LOAD_ITEM:s},(({root:e,props:n})=>{const{id:r}=n,i=o("GET_ITEM",r);t(i.file)&&e.rect.element.hidden})))})),{options:{labelButtonImageOverlay:["Open image in overlay",o.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:a})),a}()},965:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)};function e(t){this.wrapped=t}function n(t){var n,r;function i(t,e){return new Promise((function(i,a){var s={key:t,arg:e,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(t,e))}))}function o(n,r){try{var i=t[n](r),s=i.value,u=s instanceof e;Promise.resolve(u?s.wrapped:s).then((function(t){u?o("next",t):a(i.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){a("throw",t)}}function a(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=i,"function"!=typeof t.return&&(this.return=void 0)}function r(t,e){return i(t)||o(t,e)||a()}function i(t){if(Array.isArray(t))return t}function o(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)};var s=function(t,e){return d(t.x*e,t.y*e)},u=function(t,e){return d(t.x+e.x,t.y+e.y)},c=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:d(t.x/e,t.y/e)},l=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=d(t.x-n.x,t.y-n.y);return d(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},d=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},f=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=h(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return h(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}},p=function(t){return null!=t},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=h(t.x,e,n,"width")||h(t.left,e,n,"width"),i=h(t.y,e,n,"height")||h(t.top,e,n,"height"),o=h(t.width,e,n,"width"),a=h(t.height,e,n,"height"),s=h(t.right,e,n,"width"),u=h(t.bottom,e,n,"height");return p(i)||(i=p(a)&&p(u)?e.height-a-u:u),p(r)||(r=p(o)&&p(s)?e.width-o-s:s),p(o)||(o=p(r)&&p(s)?e.width-r-s:0),p(a)||(a=p(i)&&p(u)?e.height-i-u:0),{x:r||0,y:i||0,width:o||0,height:a||0}},E=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},y=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},g="http://www.w3.org/2000/svg",v=function(t,e){var n=document.createElementNS(g,t);return e&&y(n,e),n},_=function(t){return y(t,Object.assign({},t.rect,t.styles))},T=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return y(t,Object.assign({cx:e,cy:n,rx:r,ry:i},t.styles))},I={contain:"xMidYMid meet",cover:"xMidYMid slice"},b=function(t,e){y(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:I[e.fit]||"none"}))},A={left:"start",center:"middle",right:"end"},C=function(t,e,n,r){var i=h(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=A[e.textAlign]||"start";y(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},O=function(t,e,n,r){y(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],d=t.rect,f={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(y(i,{x1:d.x,y1:d.y,x2:f.x,y2:f.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var p=c({x:f.x-d.x,y:f.y-d.y}),m=h(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var E=s(p,m),g=u(d,E),v=l(d,2,g),_=l(d,-2,g);y(o,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(d.x,",").concat(d.y," L").concat(_.x,",").concat(_.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var T=s(p,-m),I=u(f,T),b=l(f,2,I),A=l(f,-2,I);y(a,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(f.x,",").concat(f.y," L").concat(A.x,",").concat(A.y)})}}},S=function(t,e,n,r){y(t,Object.assign({},t.styles,{fill:"none",d:E(e.points.map((function(t){return{x:h(t.x,n,r,"width"),y:h(t.y,n,r,"height")}})))}))},R=function(t){return function(e){return v(t,{id:e.id})}},w=function(t){var e=v("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=v("line");e.appendChild(n);var r=v("path");e.appendChild(r);var i=v("path");return e.appendChild(i),e},L={image:function(t){var e=v("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:R("rect"),ellipse:R("ellipse"),text:R("text"),path:R("path"),line:w},D={rect:_,ellipse:T,image:b,text:C,path:S,line:O},x=function(t,e){return L[t](e)},P=function(t,e,n,r,i){"path"!==e&&(t.rect=m(n,r,i)),t.styles=f(n,r,i),D[e](t,n,r,i)},N=["x","y","left","top","right","bottom","width","height"],M=function(t){return"string"==typeof t&&/%/.test(t)?parseFloat(t)/100:t},k=function(t){var e=r(t,2),n=e[0],i=e[1],o=i.points?{}:N.reduce((function(t,e){return t[e]=M(i[e]),t}),{});return[n,Object.assign({zIndex:0},i,o)]},F=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},H=function(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(t){var e=t.root,n=t.props;if(n.dirty){var i=n.crop,o=n.resize,a=n.markup,s=n.width,u=n.height,c=i.width,l=i.height;if(o){var d=o.size,h=d&&d.width,f=d&&d.height,p=o.mode,m=o.upscale;h&&!f&&(f=h),f&&!h&&(h=f);var E=c<h&&l<f;if(!E||E&&m){var y,g=h/c,v=f/l;"force"===p?(c=h,l=f):("cover"===p?y=Math.max(g,v):"contain"===p&&(y=Math.min(g,v)),c*=y,l*=y)}}var _={width:s,height:u};e.element.setAttribute("width",_.width),e.element.setAttribute("height",_.height);var T=Math.min(s/c,u/l);e.element.innerHTML="";var I=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(I).map(k).sort(F).forEach((function(t){var n=r(t,2),i=n[0],o=n[1],a=x(i,o);P(a,i,o,_,T),e.element.appendChild(a)}))}}})},B=function(t,e){return{x:t,y:e}},G=function(t,e){return t.x*e.x+t.y*e.y},V=function(t,e){return B(t.x-e.x,t.y-e.y)},U=function(t,e){return G(V(t,e),V(t,e))},j=function(t,e){return Math.sqrt(U(t,e))},q=function(t,e){var n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,a=Math.sin(r),s=Math.sin(i),u=Math.sin(o),c=Math.cos(o),l=n/a;return B(c*(l*s),c*(l*u))},W=function(t,e){var n=t.width,r=t.height,i=q(n,e),o=q(r,e),a=B(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=B(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=B(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:j(a,s),height:j(a,u)}},z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var u=Math.max(i/a,o/s),c=t.width/(n*u*a);return{width:c,height:c*e}},X=function(t,e,n,r){var i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,u=W(e,n);return Math.max(u.width/a,u.height/s)},Y=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.zoom,r=e.rotation,i=e.center,o=e.aspectRatio;o||(o=t.height/t.width);var a=z(t,o,n),s={x:.5*a.width,y:.5*a.height},u={x:0,y:0,width:a.width,height:a.height,center:s},c=void 0===e.scaleToFit||e.scaleToFit,l=n*X(t,Y(u,o),r,c?i:{x:.5,y:.5});return{widthFloat:a.width/l,heightFloat:a.height/l,width:Math.round(a.width/l),height:Math.round(a.height/l)}},Q={type:"spring",stiffness:.5,damping:.45,mass:10},J=function(t){return t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(t){var e=t.root,n=t.props;e.appendChild(n.image)}})},Z=function(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Q,originY:Q,scaleX:Q,scaleY:Q,translateX:Q,translateY:Q,rotateZ:Q}},create:function(e){var n=e.root,r=e.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(J(t),{image:r.image}))},write:function(t){var e=t.root,n=t.props.crop.flip,r=e.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})},$=function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(t){var e=t.root,n=t.props;n.background&&(e.element.style.backgroundColor=n.background)},create:function(e){var n=e.root,r=e.props;n.ref.image=n.appendChildView(n.createChildView(Z(t),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(H(t),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var i=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(n.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=n.crop,o=n.markup,a=n.resize,s=n.dirty,u=n.width,c=n.height;e.ref.image.crop=i;var l={x:0,y:0,width:u,height:c,center:{x:.5*u,y:.5*c}},d={width:e.ref.image.width,height:e.ref.image.height},h={x:i.center.x*d.width,y:i.center.y*d.height},f={x:l.center.x-d.width*i.center.x,y:l.center.y-d.height*i.center.y},p=2*Math.PI+i.rotation%(2*Math.PI),m=i.aspectRatio||d.height/d.width,E=void 0===i.scaleToFit||i.scaleToFit,y=X(d,Y(l,m),p,E?i.center:{x:.5,y:.5}),g=i.zoom*y;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=u,e.ref.markup.height=c,e.ref.markup.resize=a,e.ref.markup.dirty=s,e.ref.markup.markup=o,e.ref.markup.crop=K(d,i)):e.ref.markup&&e.ref.destroyMarkup();var v=e.ref.image;if(r)return v.originX=null,v.originY=null,v.translateX=null,v.translateY=null,v.rotateZ=null,v.scaleX=null,void(v.scaleY=null);v.originX=h.x,v.originY=h.y,v.translateX=f.x,v.translateY=f.y,v.rotateZ=p,v.scaleX=g,v.scaleY=g}})},tt=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Q,scaleY:Q,translateY:Q,opacity:{type:"tween",duration:400}}},create:function(e){var n=e.root,r=e.props;n.ref.clip=n.appendChildView(n.createChildView($(t),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=e.ref.clip,o=n.image,a=n.crop,s=n.markup,u=n.resize,c=n.dirty;if(i.crop=a,i.markup=s,i.resize=u,i.dirty=c,i.opacity=r?0:1,!r&&!e.rect.element.hidden){var l=o.height/o.width,d=a.aspectRatio||l,h=e.rect.inner.width,f=e.rect.inner.height,p=e.query("GET_IMAGE_PREVIEW_HEIGHT"),m=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),E=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),y=e.query("GET_PANEL_ASPECT_RATIO"),g=e.query("GET_ALLOW_MULTIPLE");y&&!g&&(p=h*y,d=y);var v=null!==p?p:Math.max(m,Math.min(h*d,E)),_=v/d;_>h&&(v=(_=h)*d),v>f&&(v=f,_=f/d),i.width=_,i.height=v}}})},et='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',nt=!1,rt=0,it=function(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(t){var e=t.root,n=t.props;!nt&&document.querySelector("base")&&(et=et.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),nt=!0),rt++,e.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),e.element.innerHTML=et.replace(/__UID__/g,rt)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},ot=function(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then((function(e){self.postMessage({id:t.data.id,message:e},[e])}))}},at=function(){self.onmessage=function(t){for(var e=t.data.message.imageData,n=t.data.message.colorMatrix,r=e.data,i=r.length,o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5],d=n[6],h=n[7],f=n[8],p=n[9],m=n[10],E=n[11],y=n[12],g=n[13],v=n[14],_=n[15],T=n[16],I=n[17],b=n[18],A=n[19],C=0,O=0,S=0,R=0,w=0;C<i;C+=4)O=r[C]/255,S=r[C+1]/255,R=r[C+2]/255,w=r[C+3]/255,r[C]=Math.max(0,Math.min(255*(O*o+S*a+R*s+w*u+c),255)),r[C+1]=Math.max(0,Math.min(255*(O*l+S*d+R*h+w*f+p),255)),r[C+2]=Math.max(0,Math.min(255*(O*m+S*E+R*y+w*g+v),255)),r[C+3]=Math.max(0,Math.min(255*(O*_+S*T+R*I+w*b+A),255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},st=function(t,e){var n=new Image;n.onload=function(){var t=n.naturalWidth,r=n.naturalHeight;n=null,e(t,r)},n.src=t},ut={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},ct=function(t,e,n,r){-1!==r&&t.transform.apply(t,ut[r](e,n))},lt=function(t,e,n,r){e=Math.round(e),n=Math.round(n);var i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");if(r>=5&&r<=8){var a=[n,e];e=a[0],n=a[1]}return ct(o,e,n,r),o.drawImage(t,0,0,e,n),i},dt=function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},ht=10,ft=10,pt=function(t){var e=Math.min(ht/t.width,ft/t.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(t.width*e),o=n.height=Math.ceil(t.height*e);r.drawImage(t,0,0,i,o);var a=null;try{a=r.getImageData(0,0,i,o).data}catch(t){return null}for(var s=a.length,u=0,c=0,l=0,d=0;d<s;d+=4)u+=a[d]*a[d],c+=a[d+1]*a[d+1],l+=a[d+2]*a[d+2];return{r:u=mt(u,s),g:c=mt(c,s),b:l=mt(l,s)}},mt=function(t,e){return Math.floor(Math.sqrt(t/(e/4)))},Et=function(t,e){return(e=e||document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},yt=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},gt=function(t){return new Promise((function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},vt=function(t){var e=it(t),n=tt(t),r=t.utils.createWorker,i=function(t,e,n){return new Promise((function(i){t.ref.imageData||(t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=yt(t.ref.imageData);if(!e||20!==e.length)return n.getContext("2d").putImageData(o,0,0),i();var a=r(at);a.post({imageData:o,colorMatrix:e},(function(t){n.getContext("2d").putImageData(t,0,0),a.terminate(),i()}),[o.data.buffer])}))},o=function(t,e){t.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()},a=function(t){var e=t.root,n=e.ref.images.shift();return n.opacity=0,n.translateY=-15,e.ref.imageViewBin.push(n),n},s=function(t){var e=t.root,r=t.props,i=t.image,o=r.id,a=e.query("GET_ITEM",{id:o});if(a){var s,u,c=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},l=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),d=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],u=a.getMetadata("resize"),d=!0);var h=e.appendChildView(e.createChildView(n,{id:o,image:i,crop:c,resize:u,markup:s,dirty:d,background:l,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(h),h.opacity=1,h.scaleX=1,h.scaleY=1,h.translateY=0,setTimeout((function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},u=function(t){var e=t.root,n=t.props,r=e.query("GET_ITEM",{id:n.id});if(r){var i=e.ref.images[e.ref.images.length-1];i.crop=r.getMetadata("crop"),i.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(i.dirty=!0,i.resize=r.getMetadata("resize"),i.markup=r.getMetadata("markup"))}},c=function(t){var e=t.root,n=t.props,r=t.action;if(/crop|filter|markup|resize/.test(r.change.key)&&e.ref.images.length){var o=e.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(r.change.key)){var c=e.ref.images[e.ref.images.length-1];i(e,r.change.value,c.image)}else if(/crop|markup|resize/.test(r.change.key)){var l=o.getMetadata("crop"),d=e.ref.images[e.ref.images.length-1];if(Math.abs(l.aspectRatio-d.crop.aspectRatio)>1e-5){var h=a({root:e});s({root:e,props:n,image:Et(h.image)})}else u({root:e,props:n})}}},l=function(t){var e=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((e?parseInt(e[1]):null)<=58)&&"createImageBitmap"in window&&dt(t)},d=function(t){var e=t.root,n=t.props.id,r=e.query("GET_ITEM",n);if(r){var i=URL.createObjectURL(r.file);st(i,(function(t,r){e.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:t,height:r})}))}},h=function(t){var e=t.root,n=t.props,o=n.id,a=e.query("GET_ITEM",o);if(a){var u=URL.createObjectURL(a.file),c=function(){gt(u).then(d)},d=function(t){URL.revokeObjectURL(u);var r=(a.getMetadata("exif")||{}).orientation||-1,o=t.width,c=t.height;if(o&&c){if(r>=5&&r<=8){var l=[c,o];o=l[0],c=l[1]}var d=Math.max(1,.75*window.devicePixelRatio),h=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,f=c/o,p=e.rect.element.width,m=e.rect.element.height,E=p,y=E*f;f>1?y=(E=Math.min(o,p*h))*f:E=(y=Math.min(c,m*h))/f;var g=lt(t,E,y,r),v=function(){var r=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?pt(data):null;a.setMetadata("color",r,!0),"close"in t&&t.close(),e.ref.overlayShadow.opacity=1,s({root:e,props:n,image:g})},_=a.getMetadata("filter");_?i(e,_,g).then(v):v()}};if(l(a.file)){var h=r(ot);h.post({file:a.file},(function(t){h.terminate(),t?d(t):c()}))}else c()}},f=function(t){var e=t.root,n=e.ref.images[e.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},p=function(t){var e=t.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},m=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1},E=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},y=function(t){var n=t.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(e,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(e,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:function(t){t.root.ref.images.forEach((function(t){t.image.width=1,t.image.height=1}))},didWriteView:function(t){t.root.ref.images.forEach((function(t){t.dirty=!1}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:f,DID_IMAGE_PREVIEW_CONTAINER_CREATE:d,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:c,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:E,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},(function(t){var e=t.root,n=e.ref.imageViewBin.filter((function(t){return 0===t.opacity}));e.ref.imageViewBin=e.ref.imageViewBin.filter((function(t){return t.opacity>0})),n.forEach((function(t){return o(e,t)})),n.length=0}))})},_t=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.createRoute,a=r.isFile,s=vt(e);return n("CREATE_VIEW",(function(e){var n=e.is,r=e.view,i=e.query;if(n("file")&&i("GET_ALLOW_IMAGE_PREVIEW")){var u=function(e){var n=e.root,o=e.props.id,u=i("GET_ITEM",o);if(u&&a(u.file)&&!u.archived){var c=u.file;if(t(c)&&i("GET_IMAGE_PREVIEW_FILTER_ITEM")(u)){var l="createImageBitmap"in(window||{}),d=i("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!l&&d&&c.size>d)){n.ref.imagePreview=r.appendChildView(r.createChildView(s,{id:o}));var h=n.query("GET_IMAGE_PREVIEW_HEIGHT");h&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:u.id,height:h});var f=!l&&c.size>i("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},f)}}}},c=function(t,e){if(t.ref.imagePreview){var n=e.id,r=t.query("GET_ITEM",{id:n});if(r){var i=t.query("GET_PANEL_ASPECT_RATIO"),o=t.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(i||o||a)){var s=t.ref,u=s.imageWidth,c=s.imageHeight;if(u&&c){var l=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),h=(r.getMetadata("exif")||{}).orientation||-1;if(h>=5&&h<=8){var f=[c,u];u=f[0],c=f[1]}if(!dt(r.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/u;u*=p,c*=p}var m=c/u,E=(r.getMetadata("crop")||{}).aspectRatio||m,y=Math.max(l,Math.min(c,d)),g=t.rect.element.width,v=Math.min(g*E,y);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:v})}}}}},l=function(t){t.root.ref.shouldRescale=!0},d=function(t){var e=t.root;"crop"===t.action.change.key&&(e.ref.shouldRescale=!0)},h=function(t){var e=t.root,n=t.action;e.ref.imageWidth=n.width,e.ref.imageHeight=n.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")};r.registerWriter(o({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:u,DID_IMAGE_PREVIEW_CALCULATE_SIZE:h,DID_UPDATE_ITEM_METADATA:d},(function(t){var e=t.root,n=t.props;e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(c(e,n),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame((function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),e.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[function(){return!0},i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:_t})),_t}()},863:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(t){return t.substr(0,t.lastIndexOf("."))||t},n={jpeg:"jpg","svg+xml":"svg"},r=function(t,r){var i=e(t),o=r.split("/")[1],a=n[o]||o;return"".concat(i,".").concat(a)},i=function(t){return/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg"},o=function(t){return/^image/.test(t.type)},a={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},s=function(t,e,n){return-1===n&&(n=1),a[n](t,e)},u=function(t,e){return{x:t,y:e}},c=function(t,e){return t.x*e.x+t.y*e.y},l=function(t,e){return u(t.x-e.x,t.y-e.y)},d=function(t,e){return c(l(t,e),l(t,e))},h=function(t,e){return Math.sqrt(d(t,e))},f=function(t,e){var n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,a=Math.sin(r),s=Math.sin(i),c=Math.sin(o),l=Math.cos(o),d=n/a;return u(l*(d*s),l*(d*c))},p=function(t,e){var n=t.width,r=t.height,i=f(n,e),o=f(r,e),a=u(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=u(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),c=u(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:h(a,s),height:h(a,c)}},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,u=p(e,n);return Math.max(u.width/a,u.height/s)},E=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var u=Math.max(i/a,o/s),c=t.width/(n*u*a);return{width:c,height:c*e}},g=function(t){t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},v=function(t){return t&&(t.horizontal||t.vertical)},_=function(t,e,n){if(e<=1&&!v(n))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;var r=document.createElement("canvas"),i=t.naturalWidth,o=t.naturalHeight,a=e>=5&&e<=8;a?(r.width=o,r.height=i):(r.width=i,r.height=o);var u=r.getContext("2d");if(e&&u.transform.apply(u,s(i,o,e)),v(n)){var c=[1,0,0,1,0,0];(!a&&n.horizontal||a&n.vertical)&&(c[0]=-1,c[4]=i),(!a&&n.vertical||a&&n.horizontal)&&(c[3]=-1,c[5]=o),u.transform.apply(u,c)}return u.drawImage(t,0,0,i,o),r},T=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.canvasMemoryLimit,o=r.background,a=void 0===o?null:o,s=n.zoom||1,u=_(t,e,n.flip),c={width:u.width,height:u.height},l=n.aspectRatio||c.height/c.width,d=y(c,l,s);if(i){var h=d.width*d.height;if(h>i){var f=Math.sqrt(i)/Math.sqrt(h);c.width=Math.floor(c.width*f),c.height=Math.floor(c.height*f),d=y(c,l,s)}}var p=document.createElement("canvas"),v={x:.5*d.width,y:.5*d.height},T={x:0,y:0,width:d.width,height:d.height,center:v},I=void 0===n.scaleToFit||n.scaleToFit,b=s*m(c,E(T,l),n.rotation,I?n.center:{x:.5,y:.5});p.width=Math.round(d.width/b),p.height=Math.round(d.height/b),v.x/=b,v.y/=b;var A={x:v.x-c.width*(n.center?n.center.x:.5),y:v.y-c.height*(n.center?n.center.y:.5)},C=p.getContext("2d");a&&(C.fillStyle=a,C.fillRect(0,0,p.width,p.height)),C.translate(v.x,v.y),C.rotate(n.rotation||0),C.drawImage(u,A.x-v.x,A.y-v.y,c.width,c.height);var O=C.getImageData(0,0,p.width,p.height);return g(p),O};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this.toDataURL(e,n).split(",")[1];setTimeout((function(){for(var n=atob(r),i=n.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=n.charCodeAt(a);t(new Blob([o],{type:e||"image/png"}))}))}}));var I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){var i=n?n(t):t;Promise.resolve(i).then((function(t){t.toBlob(r,e.type,e.quality)}))}))},b=function(t,e){return S(t.x*e,t.y*e)},A=function(t,e){return S(t.x+e.x,t.y+e.y)},C=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:S(t.x/e,t.y/e)},O=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=S(t.x-n.x,t.y-n.y);return S(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},S=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},R=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},w=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=R(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return R(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}},L=function(t){return null!=t},D=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=R(t.x,e,n,"width")||R(t.left,e,n,"width"),i=R(t.y,e,n,"height")||R(t.top,e,n,"height"),o=R(t.width,e,n,"width"),a=R(t.height,e,n,"height"),s=R(t.right,e,n,"width"),u=R(t.bottom,e,n,"height");return L(i)||(i=L(a)&&L(u)?e.height-a-u:u),L(r)||(r=L(o)&&L(s)?e.width-o-s:s),L(o)||(o=L(r)&&L(s)?e.width-r-s:0),L(a)||(a=L(i)&&L(u)?e.height-i-u:0),{x:r||0,y:i||0,width:o||0,height:a||0}},x=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},P=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},N="http://www.w3.org/2000/svg",M=function(t,e){var n=document.createElementNS(N,t);return e&&P(n,e),n},k=function(t){return P(t,Object.assign({},t.rect,t.styles))},F=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return P(t,Object.assign({cx:e,cy:n,rx:r,ry:i},t.styles))},H={contain:"xMidYMid meet",cover:"xMidYMid slice"},B=function(t,e){P(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:H[e.fit]||"none"}))},G={left:"start",center:"middle",right:"end"},V=function(t,e,n,r){var i=R(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=G[e.textAlign]||"start";P(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},U=function(t,e,n,r){P(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],s=t.rect,u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(P(i,{x1:s.x,y1:s.y,x2:u.x,y2:u.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var c=C({x:u.x-s.x,y:u.y-s.y}),l=R(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var d=b(c,l),h=A(s,d),f=O(s,2,h),p=O(s,-2,h);P(o,{style:"display:block;",d:"M".concat(f.x,",").concat(f.y," L").concat(s.x,",").concat(s.y," L").concat(p.x,",").concat(p.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var m=b(c,-l),E=A(u,m),y=O(u,2,E),g=O(u,-2,E);P(a,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(u.x,",").concat(u.y," L").concat(g.x,",").concat(g.y)})}}},j=function(t,e,n,r){P(t,Object.assign({},t.styles,{fill:"none",d:x(e.points.map((function(t){return{x:R(t.x,n,r,"width"),y:R(t.y,n,r,"height")}})))}))},q=function(t){return function(e){return M(t,{id:e.id})}},W=function(t){var e=M("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=M("line");e.appendChild(n);var r=M("path");e.appendChild(r);var i=M("path");return e.appendChild(i),e},z={image:function(t){var e=M("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:q("rect"),ellipse:q("ellipse"),text:q("text"),path:q("path"),line:W},X={rect:k,ellipse:F,image:B,text:V,path:j,line:U},Y=function(t,e){return z[t](e)},K=function(t,e,n,r,i){"path"!==e&&(t.rect=D(n,r,i)),t.styles=w(n,r,i),X[e](t,n,r,i)},Q=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise((function(i){var o=r.background,a=void 0===o?null:o,s=new FileReader;s.onloadend=function(){var t=s.result,r=document.createElement("div");r.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",r.innerHTML=t;var o=r.querySelector("svg");document.body.appendChild(r);var u=o.getBBox();r.parentNode.removeChild(r);var c=r.querySelector("title"),l=o.getAttribute("viewBox")||"",d=o.getAttribute("width")||"",h=o.getAttribute("height")||"",f=parseFloat(d)||null,p=parseFloat(h)||null,y=(d.match(/[a-z]+/)||[])[0]||"",g=(h.match(/[a-z]+/)||[])[0]||"",v=l.split(" ").map(parseFloat),_=v.length?{x:v[0],y:v[1],width:v[2],height:v[3]}:u,T=null!=f?f:_.width,I=null!=p?p:_.height;o.style.overflow="visible",o.setAttribute("width",T),o.setAttribute("height",I);var b="";if(n&&n.length){var A={width:T,height:I};b=n.sort(Q).reduce((function(t,e){var n=Y(e[0],e[1]);return K(n,e[0],e[1],A),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),t+"\n"+n.outerHTML+"\n"}),""),b="\n\n<g>".concat(b.replace(/&nbsp;/g," "),"</g>\n\n")}var C=e.aspectRatio||I/T,O=T,S=O*C,R=void 0===e.scaleToFit||e.scaleToFit,w=e.center?e.center.x:.5,L=e.center?e.center.y:.5,D=m({width:T,height:I},E({width:O,height:S},C),e.rotation,R?{x:w,y:L}:{x:.5,y:.5}),x=e.zoom*D,P=e.rotation*(180/Math.PI),N={x:.5*O,y:.5*S},M={x:N.x-T*w,y:N.y-I*L},k=["rotate(".concat(P," ").concat(N.x," ").concat(N.y,")"),"translate(".concat(N.x," ").concat(N.y,")"),"scale(".concat(x,")"),"translate(".concat(-N.x," ").concat(-N.y,")"),"translate(".concat(M.x," ").concat(M.y,")")],F=e.flip&&e.flip.horizontal,H=e.flip&&e.flip.vertical,B=["scale(".concat(F?-1:1," ").concat(H?-1:1,")"),"translate(".concat(F?-T:0," ").concat(H?-I:0,")")],G='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(O).concat(y,'" height="').concat(S).concat(g,'" \nviewBox="0 0 ').concat(O," ").concat(S,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(c?c.textContent:"",'</title>\n<g transform="').concat(k.join(" "),'">\n<g transform="').concat(B.join(" "),'">\n').concat(o.outerHTML).concat(b,"\n</g>\n</g>\n</svg>");i(G)},s.readAsText(t)}))},Z=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},$=function(){var t={resize:l,filter:c},e=function(e,n){return e.forEach((function(e){n=t[e.type](n,e.data)})),n},n=function(t,n){var r=t.transforms,i=null;if(r.forEach((function(t){"filter"===t.type&&(i=t)})),i){var o=null;r.forEach((function(t){"resize"===t.type&&(o=t)})),o&&(o.data.matrix=i.data,r=r.filter((function(t){return"filter"!==t.type})))}n(e(r,t.imageData))};self.onmessage=function(t){n(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e},[e.data.buffer])}))};var r=1,i=1,o=1;function a(t,e,n){var a=e[t]/255,s=e[t+1]/255,u=e[t+2]/255,c=e[t+3]/255,l=a*n[0]+s*n[1]+u*n[2]+c*n[3]+n[4],d=a*n[5]+s*n[6]+u*n[7]+c*n[8]+n[9],h=a*n[10]+s*n[11]+u*n[12]+c*n[13]+n[14],f=a*n[15]+s*n[16]+u*n[17]+c*n[18]+n[19],p=Math.max(0,l*f)+r*(1-f),m=Math.max(0,d*f)+i*(1-f),E=Math.max(0,h*f)+o*(1-f);e[t]=255*Math.max(0,Math.min(1,p)),e[t+1]=255*Math.max(0,Math.min(1,m)),e[t+2]=255*Math.max(0,Math.min(1,E))}var s=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function u(t){return self.JSON.stringify(t||[])===s}function c(t,e){if(!e||u(e))return t;for(var n=t.data,a=n.length,s=e[0],c=e[1],l=e[2],d=e[3],h=e[4],f=e[5],p=e[6],m=e[7],E=e[8],y=e[9],g=e[10],v=e[11],_=e[12],T=e[13],I=e[14],b=e[15],A=e[16],C=e[17],O=e[18],S=e[19],R=0,w=0,L=0,D=0,x=0,P=0,N=0,M=0,k=0,F=0,H=0,B=0;R<a;R+=4)P=(w=n[R]/255)*s+(L=n[R+1]/255)*c+(D=n[R+2]/255)*l+(x=n[R+3]/255)*d+h,N=w*f+L*p+D*m+x*E+y,M=w*g+L*v+D*_+x*T+I,k=w*b+L*A+D*C+x*O+S,F=Math.max(0,P*k)+r*(1-k),H=Math.max(0,N*k)+i*(1-k),B=Math.max(0,M*k)+o*(1-k),n[R]=255*Math.max(0,Math.min(1,F)),n[R+1]=255*Math.max(0,Math.min(1,H)),n[R+2]=255*Math.max(0,Math.min(1,B));return t}function l(t,e){var n=e.mode,r=void 0===n?"contain":n,i=e.upscale,o=void 0!==i&&i,s=e.width,l=e.height,d=e.matrix;if(d=!d||u(d)?null:d,!s&&!l)return c(t,d);if(null===s?s=l:null===l&&(l=s),"force"!==r){var h=s/t.width,f=l/t.height,p=1;if("cover"===r?p=Math.max(h,f):"contain"===r&&(p=Math.min(h,f)),p>1&&!1===o)return c(t,d);s=t.width*p,l=t.height*p}for(var m=t.width,E=t.height,y=Math.round(s),g=Math.round(l),v=t.data,_=new Uint8ClampedArray(y*g*4),T=m/y,I=E/g,b=Math.ceil(.5*T),A=Math.ceil(.5*I),C=0;C<g;C++)for(var O=0;O<y;O++){for(var S=4*(O+C*y),R=0,w=0,L=0,D=0,x=0,P=0,N=0,M=(C+.5)*I,k=Math.floor(C*I);k<(C+1)*I;k++)for(var F=Math.abs(M-(k+.5))/A,H=(O+.5)*T,B=F*F,G=Math.floor(O*T);G<(O+1)*T;G++){var V=Math.abs(H-(G+.5))/b,U=Math.sqrt(B+V*V);if(U>=-1&&U<=1&&(R=2*U*U*U-3*U*U+1)>0){var j=v[3+(V=4*(G+k*m))];N+=R*j,L+=R,j<255&&(R=R*j/250),D+=R*v[V],x+=R*v[V+1],P+=R*v[V+2],w+=R}}_[S]=D/w,_[S+1]=x/w,_[S+2]=P/w,_[S+3]=N/L,d&&a(S,_,d)}return{data:_,width:y,height:g}}},tt=function(t,e){if(1165519206===t.getUint32(e+4,!1)){e+=4;var n=18761===t.getUint16(e+=6,!1);e+=t.getUint32(e+4,n);var r=t.getUint16(e,n);e+=2;for(var i=0;i<r;i++)if(274===t.getUint16(e+12*i,n))return t.setUint16(e+12*i+8,1,n),!0;return!1}},et=function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return null;for(var n,r,i=2,o=!1;i<e.byteLength&&(n=e.getUint16(i,!1),r=e.getUint16(i+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=tt(e,i,r)),!(i+r>e.byteLength));)i+=r;return t.slice(0,i)},nt=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(et(n.result)||null)},n.readAsArrayBuffer(t.slice(0,262144))}))},rt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},it=function(t,e){var n=rt();if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},ot=function(){return Math.random().toString(36).substr(2,9)},at=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n),i=[];return{transfer:function(){},post:function(t,e,n){var o=ot();i[o]=e,r.onmessage=function(t){var e=i[t.data.id];e&&(e(t.data.message),delete i[t.data.id])},r.postMessage({id:o,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},st=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},ut=function(t){return t.reduce((function(t,e){return t.then((function(t){return e().then(Array.prototype.concat.bind(t))}))}),Promise.resolve([]))},ct=function(t,e){return new Promise((function(n){var r={width:t.width,height:t.height},i=t.getContext("2d"),o=e.sort(Q).map((function(t){return function(){return new Promise((function(e){ht[t[0]](i,r,t[1],e)&&e()}))}}));ut(o).then((function(){return n(t)}))}))},lt=function(t,e){t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},dt=function(t){t.fill(),t.stroke(),t.globalAlpha=1},ht={rect:function(t,e,n){var r=D(n,e),i=w(n,e);return lt(t,i),t.rect(r.x,r.y,r.width,r.height),dt(t,i),!0},ellipse:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i);var o=r.x,a=r.y,s=r.width,u=r.height,c=.5522848,l=s/2*c,d=u/2*c,h=o+s,f=a+u,p=o+s/2,m=a+u/2;return t.moveTo(o,m),t.bezierCurveTo(o,m-d,p-l,a,p,a),t.bezierCurveTo(p+l,a,h,m-d,h,m),t.bezierCurveTo(h,m+d,p+l,f,p,f),t.bezierCurveTo(p-l,f,o,m+d,o,m),dt(t,i),!0},image:function(t,e,n,r){var i=D(n,e),o=w(n,e);lt(t,o);var a=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(a.crossOrigin=""),a.onload=function(){if("cover"===n.fit){var e=i.width/i.height,s=e>1?a.width:a.height*e,u=e>1?a.width/e:a.height,c=.5*a.width-.5*s,l=.5*a.height-.5*u;t.drawImage(a,c,l,s,u,i.x,i.y,i.width,i.height)}else if("contain"===n.fit){var d=Math.min(i.width/a.width,i.height/a.height),h=d*a.width,f=d*a.height,p=i.x+.5*i.width-.5*h,m=i.y+.5*i.height-.5*f;t.drawImage(a,0,0,a.width,a.height,p,m,h,f)}else t.drawImage(a,0,0,a.width,a.height,i.x,i.y,i.width,i.height);dt(t,o),r()},a.src=n.src},text:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i);var o=R(n.fontSize,e),a=n.fontFamily||"sans-serif",s=n.fontWeight||"normal",u=n.textAlign||"left";return t.font="".concat(s," ").concat(o,"px ").concat(a),t.textAlign=u,t.fillText(n.text,r.x,r.y),dt(t,i),!0},line:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i),t.beginPath();var o={x:r.x,y:r.y},a={x:r.x+r.width,y:r.y+r.height};t.moveTo(o.x,o.y),t.lineTo(a.x,a.y);var s=C({x:a.x-o.x,y:a.y-o.y}),u=.04*Math.min(e.width,e.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var c=b(s,u),l=A(o,c),d=O(o,2,l),h=O(o,-2,l);t.moveTo(d.x,d.y),t.lineTo(o.x,o.y),t.lineTo(h.x,h.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var f=b(s,-u),p=A(a,f),m=O(a,2,p),E=O(a,-2,p);t.moveTo(m.x,m.y),t.lineTo(a.x,a.y),t.lineTo(E.x,E.y)}return dt(t,i),!0},path:function(t,e,n){var r=w(n,e);lt(t,r),t.beginPath();var i=n.points.map((function(t){return{x:R(t.x,e,1,"width"),y:R(t.y,e,1,"height")}}));t.moveTo(i[0].x,i[0].y);for(var o=i.length,a=1;a<o;a++)t.lineTo(i[a].x,i[a].y);return dt(t,r),!0}},ft=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e},pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){if(!t||!o(t))return i({status:"not an image file",file:t});var a=n.stripImageHead,s=n.beforeCreateBlob,u=n.afterCreateBlob,c=n.canvasMemoryLimit,l=e.crop,d=e.size,h=e.filter,f=e.markup,p=e.output,m=e.image&&e.image.orientation?Math.max(1,Math.min(8,e.image.orientation)):null,E=p&&p.quality,y=null===E?null:E/100,v=p&&p.type||null,_=p&&p.background||null,b=[];!d||"number"!=typeof d.width&&"number"!=typeof d.height||b.push({type:"resize",data:d}),h&&20===h.length&&b.push({type:"filter",data:h});var A=function(t){var e=u?u(t):t;Promise.resolve(e).then(r)},C=function(e,n){var r=ft(e),o=f.length?ct(r,f):r;Promise.resolve(o).then((function(e){I(e,n,s).then((function(n){if(g(e),a)return A(n);nt(t).then((function(t){null!==t&&(n=new Blob([t,n.slice(20)],{type:n.type})),A(n)}))})).catch(i)}))};if(/svg/.test(t.type)&&null===v)return J(t,l,f,{background:_}).then((function(t){r(it(t,"image/svg+xml"))}));var O=URL.createObjectURL(t);st(O).then((function(e){URL.revokeObjectURL(O);var n=T(e,m,l,{canvasMemoryLimit:c,background:_}),r={quality:y,type:v||t.type};if(!b.length)return C(n,r);var i=at($);i.post({transforms:b,imageData:n},(function(t){C(Z(t),r),i.terminate()}),[n.data.buffer])})).catch(i)}))};function mt(t){this.wrapped=t}function Et(t){var e,n;function r(t,r){return new Promise((function(o,a){var s={key:t,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,i(t,r))}))}function i(e,n){try{var r=t[e](n),a=r.value,s=a instanceof mt;Promise.resolve(s?a.wrapped:a).then((function(t){s?i("next",t):o(r.done?"return":"normal",t)}),(function(t){i("throw",t)}))}catch(t){o("throw",t)}}function o(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}function yt(t,e){return gt(t)||vt(t,e)||_t()}function gt(t){if(Array.isArray(t))return t}function vt(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function _t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Et.prototype[Symbol.asyncIterator]=function(){return this}),Et.prototype.next=function(t){return this._invoke("next",t)},Et.prototype.throw=function(t){return this._invoke("throw",t)},Et.prototype.return=function(t){return this._invoke("return",t)};var Tt=["x","y","left","top","right","bottom","width","height"],It=function(t){return"string"==typeof t&&/%/.test(t)?parseFloat(t)/100:t},bt=function(t){var e=yt(t,2),n=e[0],r=e[1],i=r.points?{}:Tt.reduce((function(t,e){return t[e]=It(r[e]),t}),{});return[n,Object.assign({zIndex:0},r,i)]},At=function(t){return new Promise((function(e,n){var r=new Image;r.src=URL.createObjectURL(t);var i=function(){var t=r.naturalWidth,n=r.naturalHeight;t&&n&&(URL.revokeObjectURL(r.src),clearInterval(o),e({width:t,height:n}))};r.onerror=function(t){URL.revokeObjectURL(r.src),clearInterval(o),n(t)};var o=setInterval(i,1);i()}))};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this;setTimeout((function(){for(var i=r.toDataURL(e,n).split(",")[1],o=atob(i),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);t(new Blob([s],{type:e||"image/png"}))}))}}));var Ct="undefined"!=typeof window&&void 0!==window.document,Ot=Ct&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,St=function(e){var n=e.addFilter,o=e.utils,a=o.Type,s=o.forin,u=o.getFileFromBlob,c=o.isFile,l=["crop","resize","filter","markup","output"],d=function(t){return function(e,n,r){return e(n,t?t(r):r)}},h=function(t){return null===t.aspectRatio&&0===t.rotation&&1===t.zoom&&t.center&&.5===t.center.x&&.5===t.center.y&&t.flip&&!1===t.flip.horizontal&&!1===t.flip.vertical};n("SHOULD_PREPARE_OUTPUT",(function(t,e){var n=e.query;return new Promise((function(t){t(!n("IS_ASYNC"))}))}));var f=function(e,n,r){return new Promise((function(i){if(!e("GET_ALLOW_IMAGE_TRANSFORM")||r.archived||!c(n)||!t(n))return i(!1);At(n).then((function(){var t=e("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(t){var r=t(n);if(null==r)return handleRevert(!0);if("boolean"==typeof r)return i(r);if("function"==typeof r.then)return r.then(i)}i(!0)})).catch((function(t){i(!1)}))}))};return n("PREPARE_OUTPUT",(function(t,e){var n=e.query,o=e.item;return new Promise((function(e){f(n,t,o).then((function(a){if(!a)return e(t);var c=[];n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&c.push((function(){return new Promise((function(e){e({name:n("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:t})}))})),n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&c.push((function(t,e,r){return new Promise((function(i){t(e,r).then((function(t){return i({name:n("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:t})}))}))}));var f=n("GET_IMAGE_TRANSFORM_VARIANTS")||{};s(f,(function(t,e){var n=d(e);c.push((function(e,r,i){return new Promise((function(o){n(e,r,i).then((function(e){return o({name:t,file:e})}))}))}))}));var p=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),m=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),E=null===p?null:p/100,y=n("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),g=n("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||l;o.setMetadata("output",{type:y,quality:E,client:g},!0);var v=function(t,e){return new Promise((function(o,a){var s=Object.assign({},e);Object.keys(s).filter((function(t){return"exif"!==t})).forEach((function(t){-1===g.indexOf(t)&&delete s[t]}));var c=s.resize,l=s.exif,d=s.output,f=s.crop,p=s.filter,E=s.markup,y={image:{orientation:l?l.orientation:null},output:d&&(d.type||"number"==typeof d.quality||d.background)?{type:d.type,quality:"number"==typeof d.quality?100*d.quality:null,background:d.background||n("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:c&&(c.size.width||c.size.height)?Object.assign({mode:c.mode,upscale:c.upscale},c.size):void 0,crop:f&&!h(f)?Object.assign({},f):void 0,markup:E&&E.length?E.map(bt):[],filter:p};if(y.output){var v=!!d.type&&d.type!==t.type,_=/\/jpe?g$/.test(t.type),T=null!==d.quality&&_&&"always"===m;if(!(y.size||y.crop||y.filter||v||T))return o(t)}var I={beforeCreateBlob:n("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:n("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:n("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:n("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};pt(t,y,I).then((function(e){var n=u(e,r(t.name,i(e.type)));o(n)})).catch(a)}))},_=c.map((function(e){return e(v,t,o.getMetadata())}));Promise.all(_).then((function(t){e(1===t.length&&null===t[0].name?t[0].file:t)}))}))}))})),{options:{allowImageTransform:[!0,a.BOOLEAN],imageTransformImageFilter:[null,a.FUNCTION],imageTransformOutputMimeType:[null,a.STRING],imageTransformOutputQuality:[null,a.INT],imageTransformOutputStripImageHead:[!0,a.BOOLEAN],imageTransformClientTransforms:[null,a.ARRAY],imageTransformOutputQualityMode:["always",a.STRING],imageTransformVariants:[null,a.OBJECT],imageTransformVariantsIncludeDefault:[!0,a.BOOLEAN],imageTransformVariantsDefaultName:[null,a.STRING],imageTransformVariantsIncludeOriginal:[!1,a.BOOLEAN],imageTransformVariantsOriginalName:["original_",a.STRING],imageTransformBeforeCreateBlob:[null,a.FUNCTION],imageTransformAfterCreateBlob:[null,a.FUNCTION],imageTransformCanvasMemoryLimit:[Ct&&Ot?16777216:null,a.INT],imageTransformCanvasBackgroundColor:[null,a.STRING]}}};return Ct&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:St})),St}()},136:function(t,e){!function(t){"use strict";var e=function(t){return t instanceof HTMLElement},n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},t),i=[],o=[],a=function(){var t=[].concat(o);o.length=0,t.forEach((function(t){var e=t.type,n=t.data;s(e,n)}))},s=function(t,e,n){!n||document.hidden?(d[t]&&d[t](e),i.push({type:t,data:e})):o.push({type:t,data:e})},u=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l[t]?(e=l)[t].apply(e,r):null},c={getState:function(){return Object.assign({},r)},processActionQueue:function(){var t=[].concat(i);return i.length=0,t},processDispatchQueue:a,dispatch:s,query:u},l={};e.forEach((function(t){l=Object.assign({},t(r),{},l)}));var d={};return n.forEach((function(t){d=Object.assign({},t(s,u,r),{},d)})),c},r=function(t,e,n){"function"!=typeof n?Object.defineProperty(t,e,Object.assign({},n)):t[e]=n},i=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},o=function(t){var e={};return i(t,(function(n){r(e,n,t[n])})),e},a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},s="http://www.w3.org/2000/svg",u=["svg","path"],c=function(t){return u.includes(t)},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(n=e,e=null);var r=c(t)?document.createElementNS(s,t):document.createElement(t);return e&&(c(t)?a(r,"class",e):r.className=e),i(n,(function(t,e){a(r,t,e)})),r},d=function(t){return function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}},h=function(t,e){return function(t,n){return void 0!==n?e.splice(n,0,t):e.push(t),t}},f=function(t,e){return function(n){return e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n}},p="undefined"!=typeof window&&void 0!==window.document,m=function(){return p},E="children"in(m()?l("svg"):{})?function(t){return t.children.length}:function(t){return t.childNodes.length},y=function(t,e,n,r){var i=n[0]||t.left,o=n[1]||t.top,a=i+t.width,s=o+t.height*(r[1]||1),u={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:o,right:a,bottom:s}};return e.filter((function(t){return!t.isRectIgnored()})).map((function(t){return t.rect})).forEach((function(t){g(u.inner,Object.assign({},t.inner)),g(u.outer,Object.assign({},t.outer))})),v(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,v(u.outer),u},g=function(t,e){e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},v=function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},_=function(t){return"number"==typeof t},T=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-e)<r&&Math.abs(n)<r},I=function(t){return t<.5?2*t*t:(4-2*t)*t-1},b={spring:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiffness,n=void 0===e?.5:e,r=t.damping,i=void 0===r?.75:r,a=t.mass,s=void 0===a?10:a,u=null,c=null,l=0,d=!1,h=o({interpolate:function(t,e){if(!d){if(!_(u)||!_(c))return d=!0,void(l=0);T(c+=l+=-(c-u)*n/s,u,l*=i)||e?(c=u,l=0,d=!0,h.onupdate(c),h.oncomplete(c)):h.onupdate(c)}},target:{set:function(t){if(_(t)&&!_(c)&&(c=t),null===u&&(u=t,c=t),c===(u=t)||void 0===u)return d=!0,l=0,h.onupdate(c),void h.oncomplete(c);d=!1},get:function(){return u}},resting:{get:function(){return d}},onupdate:function(t){},oncomplete:function(t){}});return h},tween:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,i=void 0===r?500:r,a=n.easing,s=void 0===a?I:a,u=n.delay,c=void 0===u?0:u,l=null,d=!0,h=!1,f=null,p=o({interpolate:function(n,r){d||null===f||(null===l&&(l=n),n-l<c||((t=n-l-c)>=i||r?(t=1,e=h?0:1,p.onupdate(e*f),p.oncomplete(e*f),d=!0):(e=t/i,p.onupdate((t>=0?s(h?1-e:e):0)*f))))},target:{get:function(){return h?0:f},set:function(t){if(null===f)return f=t,p.onupdate(t),void p.oncomplete(t);t<f?(f=1,h=!0):(h=!1,f=t),d=!1,l=null}},resting:{get:function(){return d}},onupdate:function(t){},oncomplete:function(t){}});return p}},A=function(t,e,n){var r=t[e]&&"object"==typeof t[e][n]?t[e][n]:t[e]||t,i="string"==typeof r?r:r.type,o="object"==typeof r?Object.assign({},r):{};return b[i]?b[i](o):null},C=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach((function(e){t.forEach((function(t){var i=t,o=function(){return n[t]},a=function(e){return n[t]=e};"object"==typeof t&&(i=t.key,o=t.getter||o,a=t.setter||a),e[i]&&!r||(e[i]={get:o,set:a})}))}))},O=function(t){return function(e,n){t.addEventListener(e,n)}},S=function(t){return function(e,n){t.removeEventListener(e,n)}},R=function(t){return null!=t},w={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},L=function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,o=t.view,a=Object.assign({},n),s={};C(e,[r,i],n);var u=function(){return[n.translateX||0,n.translateY||0]},c=function(){return[n.scaleX||0,n.scaleY||0]},l=function(){return o.rect?y(o.rect,o.childViews,u(),c()):null};return r.rect={get:l},i.rect={get:l},e.forEach((function(t){n[t]=void 0===a[t]?w[t]:a[t]})),{write:function(){if(D(s,n))return x(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},D=function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},x=function(t,e){var n=e.opacity,r=e.perspective,i=e.translateX,o=e.translateY,a=e.scaleX,s=e.scaleY,u=e.rotateX,c=e.rotateY,l=e.rotateZ,d=e.originX,h=e.originY,f=e.width,p=e.height,m="",E="";(R(d)||R(h))&&(E+="transform-origin: "+(d||0)+"px "+(h||0)+"px;"),R(r)&&(m+="perspective("+r+"px) "),(R(i)||R(o))&&(m+="translate3d("+(i||0)+"px, "+(o||0)+"px, 0) "),(R(a)||R(s))&&(m+="scale3d("+(R(a)?a:1)+", "+(R(s)?s:1)+", 1) "),R(l)&&(m+="rotateZ("+l+"rad) "),R(u)&&(m+="rotateX("+u+"rad) "),R(c)&&(m+="rotateY("+c+"rad) "),m.length&&(E+="transform:"+m+";"),R(n)&&(E+="opacity:"+n+";",0===n&&(E+="visibility:hidden;"),n<1&&(E+="pointer-events:none;")),R(p)&&(E+="height:"+p+"px;"),R(f)&&(E+="width:"+f+"px;");var y=t.elementCurrentStyle||"";E.length===y.length&&E===y||(t.style.cssText=E,t.elementCurrentStyle=E)},P={styles:L,listeners:function(t){t.mixinConfig,t.viewProps,t.viewInternalAPI;var e=t.viewExternalAPI,n=(t.viewState,t.view),r=[],i=O(n.element),o=S(n.element);return e.on=function(t,e){r.push({type:t,fn:e}),i(t,e)},e.off=function(t,e){r.splice(r.findIndex((function(n){return n.type===t&&n.fn===e})),1),o(t,e)},{write:function(){return!0},destroy:function(){r.forEach((function(t){o(t.type,t.fn)}))}}},animations:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,o=t.viewExternalAPI,a=Object.assign({},n),s=[];return i(e,(function(t,e){var i=A(e);i&&(i.onupdate=function(e){n[t]=e},i.target=a[t],C([{key:t,setter:function(t){i.target!==t&&(i.target=t)},getter:function(){return n[t]}}],[r,o],n,!0),s.push(i))})),{write:function(t){var e=document.hidden,n=!0;return s.forEach((function(r){r.resting||(n=!1),r.interpolate(t,e)})),n},destroy:function(){}}},apis:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewExternalAPI;C(e,r,n)}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=null===e.offsetParent,t},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tag,n=void 0===e?"div":e,r=t.name,i=void 0===r?null:r,a=t.attributes,s=void 0===a?{}:a,u=t.read,c=void 0===u?function(){}:u,p=t.write,m=void 0===p?function(){}:p,g=t.create,v=void 0===g?function(){}:g,_=t.destroy,T=void 0===_?function(){}:_,I=t.filterFrameActionsForChild,b=void 0===I?function(t,e){return e}:I,A=t.didCreateView,C=void 0===A?function(){}:A,O=t.didWriteView,S=void 0===O?function(){}:O,R=t.ignoreRect,w=void 0!==R&&R,L=t.ignoreRectUpdate,D=void 0!==L&&L,x=t.mixins,M=void 0===x?[]:x;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l(n,"filepond--"+i,s),a=window.getComputedStyle(r,null),u=N(),p=null,g=!1,_=[],I=[],A={},O={},R=[m],L=[c],x=[T],k=function(){return r},F=function(){return _.concat()},H=function(){return A},B=function(t){return function(e,n){return e(t,n)}},G=function(){return p||(p=y(u,_,[0,0],[1,1]))},V=function(){p=null,_.forEach((function(t){return t._read()})),!(D&&u.width&&u.height)&&N(u,r,a);var t={root:Y,props:e,rect:u};L.forEach((function(e){return e(t)}))},U=function(t,n,r){var i=0===n.length;return R.forEach((function(o){!1===o({props:e,root:Y,actions:n,timestamp:t,shouldOptimize:r})&&(i=!1)})),I.forEach((function(e){!1===e.write(t)&&(i=!1)})),_.filter((function(t){return!!t.element.parentNode})).forEach((function(e){e._write(t,b(e,n),r)||(i=!1)})),_.forEach((function(e,o){e.element.parentNode||(Y.appendChild(e.element,o),e._read(),e._write(t,b(e,n),r),i=!1)})),g=i,S({props:e,root:Y,actions:n,timestamp:t}),i},j=function(){I.forEach((function(t){return t.destroy()})),x.forEach((function(t){t({root:Y,props:e})})),_.forEach((function(t){return t._destroy()}))},q={element:{get:k},style:{get:function(){return a}},childViews:{get:F}},W=Object.assign({},q,{rect:{get:G},ref:{get:H},is:function(t){return i===t},appendChild:d(r),createChildView:B(t),linkView:function(t){return _.push(t),t},unlinkView:function(t){_.splice(_.indexOf(t),1)},appendChildView:h(r,_),removeChildView:f(r,_),registerWriter:function(t){return R.push(t)},registerReader:function(t){return L.push(t)},registerDestroyer:function(t){return x.push(t)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:t.dispatch,query:t.query}),z={element:{get:k},childViews:{get:F},rect:{get:G},resting:{get:function(){return g}},isRectIgnored:function(){return w},_read:V,_write:U,_destroy:j},X=Object.assign({},q,{rect:{get:function(){return u}}});Object.keys(M).sort((function(t,e){return"styles"===t?1:"styles"===e?-1:0})).forEach((function(t){var n=P[t]({mixinConfig:M[t],viewProps:e,viewState:O,viewInternalAPI:W,viewExternalAPI:z,view:o(X)});n&&I.push(n)}));var Y=o(W);v({root:Y,props:e});var K=E(r);return _.forEach((function(t,e){Y.appendChild(t.element,K+e)})),C(Y),o(z)}},k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(t),void window[r].writers.push(e);window[r]={readers:[t],writers:[e]};var i=window[r],o=1e3/n,a=null,s=null,u=null,c=null,l=function(){document.hidden?(u=function(){return window.setTimeout((function(){return d(performance.now())}),o)},c=function(){return window.clearTimeout(s)}):(u=function(){return window.requestAnimationFrame(d)},c=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){c&&c(),l(),d(performance.now())}));var d=function t(e){s=u(t),a||(a=e);var n=e-a;n<=o||(a=e-n%o,i.readers.forEach((function(t){return t()})),i.writers.forEach((function(t){return t(e)})))};return l(),d(performance.now()),{pause:function(){c(s)}}},F=function(t,e){return function(n){var r=n.root,i=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,u=n.shouldOptimize;a.filter((function(e){return t[e.type]})).forEach((function(e){return t[e.type]({root:r,props:i,action:e.data,timestamp:s,shouldOptimize:u})})),e&&e({root:r,props:i,actions:a,timestamp:s,shouldOptimize:u})}},H=function(t,e){return e.parentNode.insertBefore(t,e)},B=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},G=function(t){return Array.isArray(t)},V=function(t){return null==t},U=function(t){return t.trim()},j=function(t){return""+t},q=function(t){return"boolean"==typeof t},W=function(t){return q(t)?t:"true"===t},z=function(t){return"string"==typeof t},X=function(t){return _(t)?t:z(t)?j(t).replace(/[a-z]+/gi,""):0},Y=function(t){return parseInt(X(t),10)},K=function(t){return parseFloat(X(t))},Q=function(t){return _(t)&&isFinite(t)&&Math.floor(t)===t},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Q(t))return t;var n=j(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Y(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Y(n)*e):Y(n)},Z=function(t){return"function"==typeof t},$=function(t){for(var e=self,n=t.split("."),r=null;r=n.shift();)if(!(e=e[r]))return null;return e},tt={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},et=function(t){var e={};return e.url=z(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},i(tt,(function(n){e[n]=nt(n,t[n],tt[n],e.timeout,e.headers)})),e.remove=t.remove||null,delete e.headers,e},nt=function(t,e,n,r,i){if(null===e)return null;if("function"==typeof e)return e;var o={url:"GET"===n||"PATCH"===n?"?"+t+"=":"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(z(e))return o.url=e,o;if(Object.assign(o,e),z(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=W(o.withCredentials),o},rt=function(t){return null===t},it=function(t){return"object"==typeof t&&null!==t},ot=function(t){return it(t)&&z(t.url)&&it(t.process)&&it(t.revert)&&it(t.restore)&&it(t.fetch)},at=function(t){return G(t)?"array":rt(t)?"null":Q(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":ot(t)?"api":typeof t},st=function(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},ut={array:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return V(t)?[]:G(t)?t:j(t).split(e).map(U).filter((function(t){return t.length}))},boolean:W,int:function(t){return"bytes"===at(t)?J(t):Y(t)},number:K,float:K,bytes:J,string:function(t){return Z(t)?t:j(t)},function:function(t){return $(t)},serverapi:function(t){return et(t)},object:function(t){try{return JSON.parse(st(t))}catch(t){return null}}},ct=function(t,e){return ut[e](t)},lt=function(t,e,n){if(t===e)return t;var r=at(t);if(r!==n){var i=ct(t,n);if(r=at(i),null===i)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';t=i}return t},dt=function(t,e){var n=t;return{enumerable:!0,get:function(){return n},set:function(r){n=lt(r,t,e)}}},ht=function(t){var e={};return i(t,(function(n){var r=t[n];e[n]=dt(r[0],r[1])})),o(e)},ft=function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ht(t)}},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map((function(t){return t.toLowerCase()})).join(e)},mt=function(t,e){var n={};return i(e,(function(e){n[e]={get:function(){return t.getState().options[e]},set:function(n){t.dispatch("SET_"+pt(e,"_").toUpperCase(),{value:n})}}})),n},Et=function(t){return function(e,n,r){var o={};return i(t,(function(t){var n=pt(t,"_").toUpperCase();o["SET_"+n]=function(i){try{r.options[t]=i.value}catch(t){}e("DID_SET_"+n,{value:r.options[t]})}})),o}},yt=function(t){return function(e){var n={};return i(t,(function(t){n["GET_"+pt(t,"_").toUpperCase()]=function(n){return e.options[t]}})),n}},gt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},vt=function(){return Math.random().toString(36).substr(2,9)};function _t(t){this.wrapped=t}function Tt(t){var e,n;function r(t,r){return new Promise((function(o,a){var s={key:t,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,i(t,r))}))}function i(e,n){try{var r=t[e](n),a=r.value,s=a instanceof _t;Promise.resolve(s?a.wrapped:a).then((function(t){s?i("next",t):o(r.done?"return":"normal",t)}),(function(t){i("throw",t)}))}catch(t){o("throw",t)}}function o(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}function It(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function bt(t,e){if(null==t)return{};var n,r,i=It(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function At(t){return Ct(t)||Ot(t)||St()}function Ct(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Ot(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function St(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Tt.prototype[Symbol.asyncIterator]=function(){return this}),Tt.prototype.next=function(t){return this._invoke("next",t)},Tt.prototype.throw=function(t){return this._invoke("throw",t)},Tt.prototype.return=function(t){return this._invoke("return",t)};var Rt=function(t,e){return t.splice(e,1)},wt=function(t,e){e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},Lt=function(){var t=[],e=function(e,n){Rt(t,t.findIndex((function(t){return t.event===e&&(t.cb===n||!n)})))},n=function(e,n,r){t.filter((function(t){return t.event===e})).map((function(t){return t.cb})).forEach((function(t){return wt((function(){return t.apply(void 0,At(n))}),r)}))};return{fireSync:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!0)},fire:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!1)},on:function(e,n){t.push({event:e,cb:n})},onOnce:function(n,r){t.push({event:n,cb:function(){e(n,r),r.apply(void 0,arguments)}})},off:e}},Dt=function(t,e,n){Object.getOwnPropertyNames(t).filter((function(t){return!n.includes(t)})).forEach((function(n){return Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))},xt=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Pt=function(t){var e={};return Dt(t,e,xt),e},Nt=function(t){t.forEach((function(e,n){e.released&&Rt(t,n)}))},Mt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},kt={INPUT:1,LIMBO:2,LOCAL:3},Ft=function(t){return/[^0-9]+/.exec(t)},Ht=function(){return Ft(1.1.toLocaleString())[0]},Bt=function(){var t=Ht(),e=1e3.toLocaleString();return e!==1e3.toString()?Ft(e)[0]:"."===t?",":"."},Gt={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Vt=[],Ut=function(t,e,n){return new Promise((function(r,i){var o=Vt.filter((function(e){return e.key===t})).map((function(t){return t.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(t,e){return t.then((function(t){return e(t,n)}))}),a(e,n)).then((function(t){return r(t)})).catch((function(t){return i(t)}))}else r(e)}))},jt=function(t,e,n){return Vt.filter((function(e){return e.key===t})).map((function(t){return t.cb(e,n)}))},qt=function(t,e){return Vt.push({key:t,cb:e})},Wt=function(t){return Object.assign(Yt,t)},zt=function(){return Object.assign({},Yt)},Xt=function(t){i(t,(function(t,e){Yt[t]&&(Yt[t][0]=lt(e,Yt[t][0],Yt[t][1]))}))},Yt={id:[null,Gt.STRING],name:["filepond",Gt.STRING],disabled:[!1,Gt.BOOLEAN],className:[null,Gt.STRING],required:[!1,Gt.BOOLEAN],captureMethod:[null,Gt.STRING],allowSyncAcceptAttribute:[!0,Gt.BOOLEAN],allowDrop:[!0,Gt.BOOLEAN],allowBrowse:[!0,Gt.BOOLEAN],allowPaste:[!0,Gt.BOOLEAN],allowMultiple:[!1,Gt.BOOLEAN],allowReplace:[!0,Gt.BOOLEAN],allowRevert:[!0,Gt.BOOLEAN],allowRemove:[!0,Gt.BOOLEAN],allowProcess:[!0,Gt.BOOLEAN],allowReorder:[!1,Gt.BOOLEAN],allowDirectoriesOnly:[!1,Gt.BOOLEAN],forceRevert:[!1,Gt.BOOLEAN],maxFiles:[null,Gt.INT],checkValidity:[!1,Gt.BOOLEAN],itemInsertLocationFreedom:[!0,Gt.BOOLEAN],itemInsertLocation:["before",Gt.STRING],itemInsertInterval:[75,Gt.INT],dropOnPage:[!1,Gt.BOOLEAN],dropOnElement:[!0,Gt.BOOLEAN],dropValidation:[!1,Gt.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Gt.ARRAY],instantUpload:[!0,Gt.BOOLEAN],maxParallelUploads:[2,Gt.INT],allowMinimumUploadDuration:[!0,Gt.BOOLEAN],chunkUploads:[!1,Gt.BOOLEAN],chunkForce:[!1,Gt.BOOLEAN],chunkSize:[5e6,Gt.INT],chunkRetryDelays:[[500,1e3,3e3],Gt.ARRAY],server:[null,Gt.SERVER_API],fileSizeBase:[1e3,Gt.INT],labelDecimalSeparator:[Ht(),Gt.STRING],labelThousandsSeparator:[Bt(),Gt.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Gt.STRING],labelInvalidField:["Field contains invalid files",Gt.STRING],labelFileWaitingForSize:["Waiting for size",Gt.STRING],labelFileSizeNotAvailable:["Size not available",Gt.STRING],labelFileCountSingular:["file in list",Gt.STRING],labelFileCountPlural:["files in list",Gt.STRING],labelFileLoading:["Loading",Gt.STRING],labelFileAdded:["Added",Gt.STRING],labelFileLoadError:["Error during load",Gt.STRING],labelFileRemoved:["Removed",Gt.STRING],labelFileRemoveError:["Error during remove",Gt.STRING],labelFileProcessing:["Uploading",Gt.STRING],labelFileProcessingComplete:["Upload complete",Gt.STRING],labelFileProcessingAborted:["Upload cancelled",Gt.STRING],labelFileProcessingError:["Error during upload",Gt.STRING],labelFileProcessingRevertError:["Error during revert",Gt.STRING],labelTapToCancel:["tap to cancel",Gt.STRING],labelTapToRetry:["tap to retry",Gt.STRING],labelTapToUndo:["tap to undo",Gt.STRING],labelButtonRemoveItem:["Remove",Gt.STRING],labelButtonAbortItemLoad:["Abort",Gt.STRING],labelButtonRetryItemLoad:["Retry",Gt.STRING],labelButtonAbortItemProcessing:["Cancel",Gt.STRING],labelButtonUndoItemProcessing:["Undo",Gt.STRING],labelButtonRetryItemProcessing:["Retry",Gt.STRING],labelButtonProcessItem:["Upload",Gt.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Gt.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Gt.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Gt.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Gt.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Gt.STRING],oninit:[null,Gt.FUNCTION],onwarning:[null,Gt.FUNCTION],onerror:[null,Gt.FUNCTION],onactivatefile:[null,Gt.FUNCTION],oninitfile:[null,Gt.FUNCTION],onaddfilestart:[null,Gt.FUNCTION],onaddfileprogress:[null,Gt.FUNCTION],onaddfile:[null,Gt.FUNCTION],onprocessfilestart:[null,Gt.FUNCTION],onprocessfileprogress:[null,Gt.FUNCTION],onprocessfileabort:[null,Gt.FUNCTION],onprocessfilerevert:[null,Gt.FUNCTION],onprocessfile:[null,Gt.FUNCTION],onprocessfiles:[null,Gt.FUNCTION],onremovefile:[null,Gt.FUNCTION],onpreparefile:[null,Gt.FUNCTION],onupdatefiles:[null,Gt.FUNCTION],onreorderfiles:[null,Gt.FUNCTION],beforeDropFile:[null,Gt.FUNCTION],beforeAddFile:[null,Gt.FUNCTION],beforeRemoveFile:[null,Gt.FUNCTION],beforePrepareFile:[null,Gt.FUNCTION],stylePanelLayout:[null,Gt.STRING],stylePanelAspectRatio:[null,Gt.STRING],styleItemPanelAspectRatio:[null,Gt.STRING],styleButtonRemoveItemPosition:["left",Gt.STRING],styleButtonProcessItemPosition:["right",Gt.STRING],styleLoadIndicatorPosition:["right",Gt.STRING],styleProgressIndicatorPosition:["right",Gt.STRING],styleButtonRemoveItemAlign:[!1,Gt.BOOLEAN],files:[[],Gt.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Gt.ARRAY]},Kt=function(t,e){return V(e)?t[0]||null:Q(e)?t[e]||null:("object"==typeof e&&(e=e.id),t.find((function(t){return t.id===e}))||null)},Qt=function(t){if(V(t))return t;if(/:/.test(t)){var e=t.split(":");return e[1]/e[0]}return parseFloat(t)},Jt=function(t){return t.filter((function(t){return!t.archived}))},Zt={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},$t=[Mt.LOAD_ERROR,Mt.PROCESSING_ERROR,Mt.PROCESSING_REVERT_ERROR],te=[Mt.LOADING,Mt.PROCESSING,Mt.PROCESSING_QUEUED,Mt.INIT],ee=[Mt.PROCESSING_COMPLETE],ne=function(t){return $t.includes(t.status)},re=function(t){return te.includes(t.status)},ie=function(t){return ee.includes(t.status)},oe=function(t){return{GET_STATUS:function(){var e=Jt(t.items),n=Zt.EMPTY,r=Zt.ERROR,i=Zt.BUSY,o=Zt.IDLE,a=Zt.READY;return 0===e.length?n:e.some(ne)?r:e.some(re)?i:e.some(ie)?a:o},GET_ITEM:function(e){return Kt(t.items,e)},GET_ACTIVE_ITEM:function(e){return Kt(Jt(t.items),e)},GET_ACTIVE_ITEMS:function(){return Jt(t.items)},GET_ITEMS:function(){return t.items},GET_ITEM_NAME:function(e){var n=Kt(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:function(e){var n=Kt(t.items,e);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(t.options).filter((function(t){return/^style/.test(t)})).map((function(e){return{name:e,value:t.options[e]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(t.options.stylePanelLayout)?1:Qt(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return Jt(t.items).filter((function(t){return t.status===e}))},GET_TOTAL_ITEMS:function(){return Jt(t.items).length},IS_ASYNC:function(){return it(t.options.server)&&(it(t.options.server.process)||Z(t.options.server.process))}}},ae=function(t){var e=Jt(t.items).length;if(!t.options.allowMultiple)return 0===e;var n=t.options.maxFiles;return null===n||e<n},se=function(t,e,n){return Math.max(Math.min(n,t),e)},ue=function(t,e,n){return t.splice(e,0,n)},ce=function(t,e,n){return V(e)?null:void 0===n?(t.push(e),e):(n=se(n,0,t.length),ue(t,n,e),e)},le=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},de=function(t){return t.split("/").pop().split("?").shift()},he=function(t){return t.split(".").pop()},fe=function(t){if("string"!=typeof t)return"";var e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""},pe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},me=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"-"+pe(t.getMonth()+1,"00")+"-"+pe(t.getDate(),"00")+"_"+pe(t.getHours(),"00")+"-"+pe(t.getMinutes(),"00")+"-"+pe(t.getSeconds(),"00")},Ee=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="string"==typeof n?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return i.lastModifiedDate=new Date,t._relativePath&&(i._relativePath=t._relativePath),z(e)||(e=me()),e&&null===r&&he(e)?i.name=e:(r=r||fe(i.type),i.name=e+(r?"."+r:"")),i},ye=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},ge=function(t,e){var n=ye();if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},ve=function(t,e){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return ge(n,e)},_e=function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},Te=function(t){return t.split(",")[1].replace(/\s/g,"")},Ie=function(t){return atob(Te(t))},be=function(t){var e=_e(t),n=Ie(t);return ve(n,e)},Ae=function(t,e,n){return Ee(be(t),e,null,n)},Ce=function(t){if(!/^content-disposition:/i.test(t))return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},Oe=function(t){if(/content-length:/i.test(t)){var e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Se=function(t){return/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null},Re=function(t){var e={source:null,name:null,size:null},n=t.split("\n"),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=Ce(u);if(c)e.name=c;else{var l=Oe(u);if(l)e.size=l;else{var d=Se(u);d&&(e.source=d)}}}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e},we=function(t){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return e.progress},r=function(){e.request&&e.request.abort&&e.request.abort()},i=function(){var t=e.source;a.fire("init",t),t instanceof File?a.fire("load",t):t instanceof Blob?a.fire("load",Ee(t,t.name)):le(t)?a.fire("load",Ae(t)):o(t)},o=function(n){t?(e.timestamp=Date.now(),e.request=t(n,(function(t){e.duration=Date.now()-e.timestamp,e.complete=!0,t instanceof Blob&&(t=Ee(t,t.name||de(n))),a.fire("load",t instanceof Blob?t:t?t.body:null)}),(function(t){a.fire("error","string"==typeof t?{type:"error",code:0,body:t}:t)}),(function(t,n,r){r&&(e.size=r),e.duration=Date.now()-e.timestamp,t?(e.progress=n/r,a.fire("progress",e.progress)):e.progress=null}),(function(){a.fire("abort")}),(function(t){var n=Re("string"==typeof t?t:t.headers);a.fire("meta",{size:e.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},Lt(),{setSource:function(t){return e.source=t},getProgress:n,abort:r,load:i});return a},Le=function(t){return/GET|HEAD/.test(t)},De=function(t,e,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){i=!0,a.abort()}},i=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),e=encodeURI(e),Le(n.method)&&t&&(e=""+e+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));var a=new XMLHttpRequest;return(Le(n.method)?a:a.upload).onprogress=function(t){i||r.onprogress(t.lengthComputable,t.loaded,t.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){i=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,e,!0),Q(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(t){var e=unescape(encodeURIComponent(n.headers[t]));a.setRequestHeader(t,e)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(t),r},xe=function(t,e,n,r){return{type:t,code:e,body:n,headers:r}},Pe=function(t){return function(e){t(xe("error",0,"Timeout",e.getAllResponseHeaders()))}},Ne=function(t){return/\?/.test(t)},Me=function(){for(var t="",e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t+=Ne(t)&&Ne(e)?e.replace(/\?/,"&"):e})),t},ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!z(e.url))return null;var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a,s,u,c){var l=De(i,Me(t,e.url),Object.assign({},e,{responseType:"blob"}));return l.onload=function(t){var r=t.getAllResponseHeaders(),a=Re(r).name||de(i);o(xe("load",t.status,"HEAD"===e.method?null:Ee(n(t.response),a),r))},l.onerror=function(t){a(xe("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},l.onheaders=function(t){c(xe("headers",t.status,null,t.getAllResponseHeaders()))},l.ontimeout=Pe(a),l.onprogress=s,l.onabort=u,l}},Fe={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},He=function(t,e,n,r,i,o,a,s,u,c,l){for(var d=[],h=l.chunkTransferId,f=l.chunkServer,p=l.chunkSize,m=l.chunkRetryDelays,E={serverId:h,aborted:!1},y=e.ondata||function(t){return t},g=e.onload||function(t,e){return"HEAD"===e?t.getResponseHeader("Upload-Offset"):t.response},v=e.onerror||function(t){return null},_=function(o){var s=new FormData;it(i)&&s.append(n,JSON.stringify(i));var u="function"==typeof e.headers?e.headers(r,i):Object.assign({},e.headers,{"Upload-Length":r.size}),c=Object.assign({},e,{headers:u}),l=De(y(s),Me(t,e.url),c);l.onload=function(t){return o(g(t,c.method))},l.onerror=function(t){return a(xe("error",t.status,v(t.response)||t.statusText,t.getAllResponseHeaders()))},l.ontimeout=Pe(a)},T=function(n){var r=Me(t,f.url,E.serverId),i={headers:"function"==typeof e.headers?e.headers(E.serverId):Object.assign({},e.headers),method:"HEAD"},o=De(null,r,i);o.onload=function(t){return n(g(t,i.method))},o.onerror=function(t){return a(xe("error",t.status,v(t.response)||t.statusText,t.getAllResponseHeaders()))},o.ontimeout=Pe(a)},I=Math.floor(r.size/p),b=0;b<=I;b++){var A=b*p,C=r.slice(A,A+p,"application/offset+octet-stream");d[b]={index:b,size:C.size,offset:A,data:C,file:r,progress:0,retries:At(m),status:Fe.QUEUED,error:null,request:null,timeout:null}}var O=function(){return o(E.serverId)},S=function(t){return t.status===Fe.QUEUED||t.status===Fe.ERROR},R=function(e){if(!E.aborted)if(e=e||d.find(S)){e.status=Fe.PROCESSING,e.progress=null;var n=f.ondata||function(t){return t},i=f.onerror||function(t){return null},o=Me(t,f.url,E.serverId),s="function"==typeof f.headers?f.headers(e):Object.assign({},f.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":e.offset,"Upload-Length":r.size,"Upload-Name":r.name}),c=e.request=De(n(e.data),o,Object.assign({},f,{headers:s}));c.onload=function(){e.status=Fe.COMPLETE,e.request=null,D()},c.onprogress=function(t,n,r){e.progress=t?n:null,L()},c.onerror=function(t){e.status=Fe.ERROR,e.request=null,e.error=i(t.response)||t.statusText,w(e)||a(xe("error",t.status,i(t.response)||t.statusText,t.getAllResponseHeaders()))},c.ontimeout=function(t){e.status=Fe.ERROR,e.request=null,w(e)||Pe(a)(t)},c.onabort=function(){e.status=Fe.QUEUED,e.request=null,u()}}else d.every((function(t){return t.status===Fe.COMPLETE}))&&O()},w=function(t){return 0!==t.retries.length&&(t.status=Fe.WAITING,clearTimeout(t.timeout),t.timeout=setTimeout((function(){R(t)}),t.retries.shift()),!0)},L=function(){var t=d.reduce((function(t,e){return null===t||null===e.progress?null:t+e.progress}),0);if(null===t)return s(!1,0,0);var e=d.reduce((function(t,e){return t+e.size}),0);s(!0,t,e)},D=function(){d.filter((function(t){return t.status===Fe.PROCESSING})).length>=1||R()},x=function(){d.forEach((function(t){clearTimeout(t.timeout),t.request&&t.request.abort()}))};return E.serverId?T((function(t){E.aborted||(d.filter((function(e){return e.offset<t})).forEach((function(t){t.status=Fe.COMPLETE,t.progress=t.size})),D())})):_((function(t){E.aborted||(c(t),E.serverId=t,D())})),{abort:function(){E.aborted=!0,x()}}},Be=function(t,e,n,r){return function(i,o,a,s,u,c,l){if(i){var d=r.chunkUploads,h=d&&i.size>r.chunkSize,f=d&&(h||r.chunkForce);if(i instanceof Blob&&f)return He(t,e,n,i,o,a,s,u,c,l,r);var p=e.ondata||function(t){return t},m=e.onload||function(t){return t},E=e.onerror||function(t){return null},y="function"==typeof e.headers?e.headers(i,o)||{}:Object.assign({},e.headers),g=Object.assign({},e,{headers:y}),v=new FormData;it(o)&&v.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach((function(t){v.append(n,t.file,null===t.name?t.file.name:""+t.name+t.file.name)}));var _=De(p(v),Me(t,e.url),g);return _.onload=function(t){a(xe("load",t.status,m(t.response),t.getAllResponseHeaders()))},_.onerror=function(t){s(xe("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},_.ontimeout=Pe(s),_.onprogress=u,_.onabort=c,_}}},Ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof e?function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(void 0,[n].concat(i,[r]))}:e&&z(e.url)?Be(t,e,n,r):null},Ve=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!z(e.url))return function(t,e){return e()};var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a){var s=De(i,t+e.url,e);return s.onload=function(t){o(xe("load",t.status,n(t.response),t.getAllResponseHeaders()))},s.onerror=function(t){a(xe("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},s.ontimeout=Pe(a),s}},Ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(e-t)},je=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,i=null,o=Date.now();return e>0&&function a(){var s=Date.now()-o,u=Ue(n,r);s+u>e&&(u=s+u-e);var c=s/e;c>=1||document.hidden?t(1):(t(c),i=setTimeout(a,u))}(),{clear:function(){clearTimeout(i)}}},qe=function(t,e){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=e.allowMinimumUploadDuration,i=function(e,i){var o=function(){0!==n.duration&&null!==n.progress&&c.fire("progress",c.getProgress())},a=function(){n.complete=!0,c.fire("load-perceived",n.response.body)};c.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=je((function(t){n.perceivedProgress=t,n.perceivedDuration=Date.now()-n.timestamp,o(),n.response&&1===n.perceivedProgress&&!n.complete&&a()}),r?Ue(750,1500):0),n.request=t(e,i,(function(t){n.response=it(t)?t:{type:"load",code:200,body:""+t,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,c.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&a()}),(function(t){n.perceivedPerformanceUpdater.clear(),c.fire("error",it(t)?t:{type:"error",code:0,body:""+t})}),(function(t,e,r){n.duration=Date.now()-n.timestamp,n.progress=t?e/r:null,o()}),(function(){n.perceivedPerformanceUpdater.clear(),c.fire("abort",n.response?n.response.body:null)}),(function(t){c.fire("transfer",t)}))},o=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},a=function(){o(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},s=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},u=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},c=Object.assign({},Lt(),{process:i,abort:o,getProgress:s,getDuration:u,reset:a});return c},We=function(t){return t.substr(0,t.lastIndexOf("."))||t},ze=function(t){var e=[t.name,t.size,t.type];return t instanceof Blob||le(t)?e[0]=t.name||me():le(t)?(e[1]=t.length,e[2]=_e(t)):z(t)&&(e[0]=de(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},Xe=function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Ye=function t(e){if(!it(e))return e;var n=G(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i&&it(i)?t(i):i}return n},Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=vt(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Mt.PROCESSING_COMPLETE:Mt.INIT,activeLoader:null,activeProcessor:null},a=null,s={},u=function(t){return i.status=t},c=function(t){if(!i.released&&!i.frozen){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];b.fire.apply(b,[t].concat(n))}},l=function(){return he(i.file.name)},d=function(){return i.file.type},h=function(){return i.file.size},f=function(){return i.file},p=function(e,n,r){i.source=e,b.fireSync("init"),i.file?b.fireSync("load-skip"):(i.file=ze(e),n.on("init",(function(){c("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=kt.LIMBO,i.serverFileReference=e.source,i.status=Mt.PROCESSING_COMPLETE),c("load-meta")})),n.on("progress",(function(t){u(Mt.LOADING),c("load-progress",t)})),n.on("error",(function(t){u(Mt.LOAD_ERROR),c("load-request-error",t)})),n.on("abort",(function(){u(Mt.INIT),c("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=Xe(e)?e:i.file,t===kt.LIMBO&&i.serverFileReference?u(Mt.PROCESSING_COMPLETE):u(Mt.IDLE),c("load")},o=function(t){i.file=e,c("load-meta"),u(Mt.LOAD_ERROR),c("load-file-error",t)};i.serverFileReference?n(e):r(e,n,o)})),n.setSource(e),i.activeLoader=n,n.load())},m=function(){i.activeLoader&&i.activeLoader.load()},E=function(){i.activeLoader?i.activeLoader.abort():(u(Mt.INIT),c("load-abort"))},y=function t(e,n){if(i.processingAborted)i.processingAborted=!1;else if(u(Mt.PROCESSING),a=null,i.file instanceof Blob){e.on("load",(function(t){i.transferId=null,i.serverFileReference=t})),e.on("transfer",(function(t){i.transferId=t})),e.on("load-perceived",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,u(Mt.PROCESSING_COMPLETE),c("process-complete",t)})),e.on("start",(function(){c("process-start")})),e.on("error",(function(t){i.activeProcessor=null,u(Mt.PROCESSING_ERROR),c("process-error",t)})),e.on("abort",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,u(Mt.IDLE),c("process-abort"),a&&a()})),e.on("progress",(function(t){c("process-progress",t)}));var r=function(t){i.archived||e.process(t,Object.assign({},s))},o=console.error;n(i.file,r,o),i.activeProcessor=e}else b.on("load",(function(){t(e,n)}))},g=function(){i.processingAborted=!1,u(Mt.PROCESSING_QUEUED)},v=function(){return new Promise((function(t){if(!i.activeProcessor)return i.processingAborted=!0,u(Mt.IDLE),c("process-abort"),void t();a=function(){t()},i.activeProcessor.abort()}))},_=function(t,e){return new Promise((function(n,r){null!==i.serverFileReference?(t(i.serverFileReference,(function(){i.serverFileReference=null,n()}),(function(t){e?(u(Mt.PROCESSING_REVERT_ERROR),c("process-revert-error"),r(t)):n()})),u(Mt.IDLE),c("process-revert")):n()}))},T=function(t,e,n){var r=t.split("."),i=r[0],o=r.pop(),a=s;r.forEach((function(t){return a=a[t]})),JSON.stringify(a[o])!==JSON.stringify(e)&&(a[o]=e,c("metadata-update",{key:i,value:s[i],silent:n}))},I=function(t){return Ye(t?s[t]:s)},b=Object.assign({id:{get:function(){return r}},origin:{get:function(){return t}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return We(i.file.name)}},fileExtension:{get:l},fileType:{get:d},fileSize:{get:h},file:{get:f},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:I,setMetadata:function(t,e,n){if(it(t)){var r=t;return Object.keys(r).forEach((function(t){T(t,r[t],e)})),t}return T(t,e,n),e},extend:function(t,e){return A[t]=e},abortLoad:E,retryLoad:m,requestProcessing:g,abortProcessing:v,load:p,process:y,revert:_},Lt(),{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),A=o(b);return A},Qe=function(t,e){return V(e)?0:z(e)?t.findIndex((function(t){return t.id===e})):-1},Je=function(t,e){var n=Qe(t,e);if(!(n<0))return t[n]||null},Ze=function(t,e,n,r,i,o){var a=De(null,t,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),i=Re(r).name||de(t);e(xe("load",n.status,Ee(n.response,i),r))},a.onerror=function(t){n(xe("error",t.status,t.statusText,t.getAllResponseHeaders()))},a.onheaders=function(t){o(xe("headers",t.status,null,t.getAllResponseHeaders()))},a.ontimeout=Pe(n),a.onprogress=r,a.onabort=i,a},$e=function(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},tn=function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&$e(location.href)!==$e(t)},en=function(t){return function(){return Z(t)?t.apply(void 0,arguments):t}},nn=function(t){return!Xe(t.file)},rn=function(t,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout((function(){t("DID_UPDATE_ITEMS",{items:Jt(e.items)})}),0)},on=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise((function(e){if(!t)return e(!0);var r=t.apply(void 0,n);return null==r?e(!0):"boolean"==typeof r?e(r):void("function"==typeof r.then&&r.then(e))}))},an=function(t,e){t.items.sort((function(t,n){return e(Pt(t),Pt(n))}))},sn=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,i=n.success,o=void 0===i?function(){}:i,a=n.failure,s=void 0===a?function(){}:a,u=bt(n,["query","success","failure"]),c=Kt(t.items,r);c?e(c,o,s,u||{}):s({error:xe("error",0,"Item not found"),file:null})}},un=function(t,e,n){return{ABORT_ALL:function(){Jt(n.items).forEach((function(t){t.freeze(),t.abortLoad(),t.abortProcessing()}))},DID_SET_FILES:function(e){var r=e.value,i=(void 0===r?[]:r).map((function(t){return{source:t.source?t.source:t,options:t.options}})),o=Jt(n.items);o.forEach((function(e){i.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),o=Jt(n.items),i.forEach((function(e,n){o.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Object.assign({},e,{interactionMethod:gt.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(r){var i=r.id,o=r.action,a=r.change;a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var r=Je(n.items,i);if(e("IS_ASYNC")){var s=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:i})}),32)},u=function(t){r.revert(Ve(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(t?s:function(){}).catch((function(){}))},c=function(t){r.abortProcessing().then(t?s:function(){})};return r.status===Mt.PROCESSING_COMPLETE?u(n.options.instantUpload):r.status===Mt.PROCESSING?c(n.options.instantUpload):void(n.options.instantUpload&&s())}Ut("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:e,action:o,change:a}).then((function(n){var o=e("GET_BEFORE_PREPARE_FILE");o&&(n=o(r,n)),n&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:r,success:function(e){t("DID_PREPARE_OUTPUT",{id:i,file:e})}},!0)}))}),0))},MOVE_ITEM:function(t){var e=t.query,r=t.index,i=Kt(n.items,e);if(i){var o=n.items.indexOf(i);o!==(r=se(r,0,n.items.length-1))&&n.items.splice(r,0,n.items.splice(o,1)[0])}},SORT:function(r){var i=r.compare;an(n,i),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,i=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,u=n.failure,c=void 0===u?function(){}:u,l=i;if(-1===i||void 0===i){var d=e("GET_ITEM_INSERT_LOCATION"),h=e("GET_TOTAL_ITEMS");l="before"===d?0:h}var f=e("GET_IGNORED_FILES"),p=function(t){return Xe(t)?!f.includes(t.name.toLowerCase()):!V(t)},m=r.filter(p).map((function(e){return new Promise((function(n,r){t("ADD_ITEM",{interactionMethod:o,source:e.source||e,success:n,failure:r,index:l++,options:e.options||{}})}))}));Promise.all(m).then(s).catch(c)},ADD_ITEM:function(r){var i=r.source,o=r.index,a=void 0===o?-1:o,s=r.interactionMethod,u=r.success,c=void 0===u?function(){}:u,l=r.failure,d=void 0===l?function(){}:l,h=r.options,f=void 0===h?{}:h;if(V(i))d({error:xe("error",0,"No source"),file:null});else if(!Xe(i)||!n.options.ignoredFiles.includes(i.name.toLowerCase())){if(!ae(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=xe("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:i,error:p}),void d({error:p,file:null})}var m=Jt(n.items)[0];if(m.status===Mt.PROCESSING_COMPLETE||m.status===Mt.PROCESSING_REVERT_ERROR){var E=e("GET_FORCE_REVERT");if(m.revert(Ve(n.options.server.url,n.options.server.revert),E).then((function(){E&&t("ADD_ITEM",{source:i,index:a,interactionMethod:s,success:c,failure:d,options:f})})).catch((function(){})),E)return}t("REMOVE_ITEM",{query:m.id})}var y="local"===f.type?kt.LOCAL:"limbo"===f.type?kt.LIMBO:kt.INPUT,g=Ke(y,y===kt.INPUT?null:i,f.file);Object.keys(f.metadata||{}).forEach((function(t){g.setMetadata(t,f.metadata[t])})),jt("DID_CREATE_ITEM",g,{query:e,dispatch:t});var v=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===v?-1:n.items.length),ce(n.items,g,a),Z(v)&&i&&an(n,v);var _=g.id;g.on("init",(function(){t("DID_INIT_ITEM",{id:_})})),g.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:_})})),g.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:_})})),g.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:e})})),g.on("load-request-error",(function(e){var r=en(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:_,error:e,status:{main:r,sub:e.code+" ("+e.body+")"}}),void d({error:e,file:Pt(g)});t("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:e,status:{main:r,sub:n.options.labelTapToRetry}})})),g.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:_,error:e.status,status:e.status}),d({error:e.status,file:Pt(g)})})),g.on("load-abort",(function(){t("REMOVE_ITEM",{query:_})})),g.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:_,item:g,data:{source:i,success:c}})})),g.on("load",(function(){var r=function(r){r?(g.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:_,change:e})})),Ut("SHOULD_PREPARE_OUTPUT",!1,{item:g,query:e}).then((function(r){var o=e("GET_BEFORE_PREPARE_FILE");o&&(r=o(g,r));var a=function(){t("COMPLETE_LOAD_ITEM",{query:_,item:g,data:{source:i,success:c}}),rn(t,n)};r?t("REQUEST_PREPARE_OUTPUT",{query:_,item:g,success:function(e){t("DID_PREPARE_OUTPUT",{id:_,file:e}),a()}},!0):a()}))):t("REMOVE_ITEM",{query:_})};Ut("DID_LOAD_ITEM",g,{query:e,dispatch:t}).then((function(){on(e("GET_BEFORE_ADD_FILE"),Pt(g)).then(r)})).catch((function(){r(!1)}))})),g.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:_})})),g.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:e})})),g.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:e,status:{main:en(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})})),g.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:e,status:{main:en(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})})),g.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:_,value:e})})),g.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:_})})),g.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:_}),t("DID_DEFINE_VALUE",{id:_,value:null})})),t("DID_ADD_ITEM",{id:_,index:a,interactionMethod:s}),rn(t,n);var T=n.options.server||{},I=T.url,b=T.load,A=T.restore,C=T.fetch;g.load(i,we(y===kt.INPUT?z(i)&&tn(i)&&C?ke(I,C):Ze:y===kt.LIMBO?ke(I,A):ke(I,b)),(function(t,n,r){Ut("LOAD_FILE",t,{query:e}).then(n).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(t){var n=t.item,r=t.success,i=t.failure,o=void 0===i?function(){}:i,a={error:xe("error",0,"Item not found"),file:null};if(n.archived)return o(a);Ut("PREPARE_OUTPUT",n.file,{query:e,item:n}).then((function(t){Ut("COMPLETE_PREPARE_OUTPUT",t,{query:e,item:n}).then((function(t){if(n.archived)return o(a);r(t)}))}))},COMPLETE_LOAD_ITEM:function(r){var i=r.item,o=r.data,a=o.success,s=o.source,u=e("GET_ITEM_INSERT_LOCATION");if(Z(u)&&s&&an(n,u),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===kt.INPUT?null:s}),a(Pt(i)),i.origin!==kt.LOCAL)return i.origin===kt.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:s}),void t("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||s})):void(e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id}));t("DID_LOAD_LOCAL_ITEM",{id:i.id})},RETRY_ITEM_LOAD:sn(n,(function(t){t.retryLoad()})),REQUEST_ITEM_PREPARE:sn(n,(function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:sn(n,(function(r,i,o){if(r.status===Mt.IDLE||r.status===Mt.PROCESSING_ERROR)r.status!==Mt.PROCESSING_QUEUED&&(r.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),t("PROCESS_ITEM",{query:r,success:i,failure:o},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o})},s=function(){return document.hidden?a():setTimeout(a,32)};r.status===Mt.PROCESSING_COMPLETE||r.status===Mt.PROCESSING_REVERT_ERROR?r.revert(Ve(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(s).catch((function(){})):r.status===Mt.PROCESSING&&r.abortProcessing().then(s)}})),PROCESS_ITEM:sn(n,(function(r,i,o){var a=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Mt.PROCESSING).length!==a){if(r.status!==Mt.PROCESSING){var s=function e(){var r=n.processingQueue.shift();if(r){var i=r.id,o=r.success,a=r.failure,s=Kt(n.items,i);s&&!s.archived?t("PROCESS_ITEM",{query:i,success:o,failure:a},!0):e()}};r.onOnce("process-complete",(function(){i(Pt(r)),s(),e("GET_ITEMS_BY_STATUS",Mt.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),r.onOnce("process-error",(function(t){o({error:t,file:Pt(r)}),s()}));var u=n.options;r.process(qe(Ge(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,i,o){Ut("PREPARE_OUTPUT",n,{query:e,item:r}).then((function(e){t("DID_PREPARE_OUTPUT",{id:r.id,file:e}),i(e)})).catch(o)}))}}else n.processingQueue.push({id:r.id,success:i,failure:o})})),RETRY_ITEM_PROCESSING:sn(n,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:sn(n,(function(n){on(e("GET_BEFORE_REMOVE_FILE"),Pt(n)).then((function(e){e&&t("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:sn(n,(function(t){t.release()})),REMOVE_ITEM:sn(n,(function(r,i,o,a){var s=function(){var e=r.id;Je(n.items,e).archive(),t("DID_REMOVE_ITEM",{error:null,id:e,item:r}),rn(t,n),i(Pt(r))},u=n.options.server;r.origin===kt.LOCAL&&u&&Z(u.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:r.id}),u.remove(r.source,(function(){return s()}),(function(e){t("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:xe("error",0,e,null),status:{main:en(n.options.labelFileRemoveError)(e),sub:n.options.labelTapToRetry}})}))):(a.revert&&r.origin!==kt.LOCAL&&null!==r.serverId&&r.revert(Ve(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:sn(n,(function(t){t.abortLoad()})),ABORT_ITEM_PROCESSING:sn(n,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){n.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:sn(n,(function(r){if(n.options.instantUpload){var i=function(e){e&&t("REVERT_ITEM_PROCESSING",{query:r})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);var a=o(Pt(r));return null==a?i(!0):"boolean"==typeof a?i(a):void("function"==typeof a.then&&a.then(i))}t("REVERT_ITEM_PROCESSING",{query:r})})),REVERT_ITEM_PROCESSING:sn(n,(function(r){r.revert(Ve(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||nn(r))&&t("REMOVE_ITEM",{query:r.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options;i(n,(function(e,n){t("SET_"+pt(e,"_").toUpperCase(),{value:n})}))}}},cn=function(t){return t},ln=function(t){return document.createElement(t)},dn=function(t,e){var n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},hn=function(t,e,n,r){var i=(r%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},fn=function(t,e,n,r,i,o){var a=hn(t,e,n,i),s=hn(t,e,n,r);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")},pn=function(t,e,n,r,i){var o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),fn(t,e,n,360*Math.min(.9999,r),360*Math.min(.9999,i),o)},mn=M({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(t){var e=t.root,n=t.props;n.spin=!1,n.progress=0,n.opacity=0;var r=l("svg");e.ref.path=l("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},write:function(t){var e=t.root,n=t.props;if(0!==n.opacity){n.align&&(e.element.dataset.align=n.align);var r=parseInt(a(e.ref.path,"stroke-width"),10),i=.5*e.rect.element.width,o=0,s=0;n.spin?(o=0,s=.5):(o=0,s=n.progress);var u=pn(i,i,i-r,o,s);a(e.ref.path,"d",u),a(e.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),En=M({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(t){var e=t.root,n=t.props;e.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(t){var e=t.root,n=t.props,r=n.isDisabled,i=e.query("GET_DISABLED")||0===n.opacity;i&&!r?(n.isDisabled=!0,a(e.element,"disabled","disabled")):!i&&r&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))}}),yn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=n,i=n*n,o=n*n*n;return(t=Math.round(Math.abs(t)))<r?t+" bytes":t<i?Math.floor(t/r)+" KB":t<o?gn(t/i,1,e)+" MB":gn(t/o,2,e)+" GB"},gn=function(t,e,n){return t.toFixed(e).split(".").filter((function(t){return"0"!==t})).join(n)},vn=function(t){var e=t.root,n=t.props,r=ln("span");r.className="filepond--file-info-main",a(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;var i=ln("span");i.className="filepond--file-info-sub",e.appendChild(i),e.ref.fileSize=i,dn(i,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),dn(r,cn(e.query("GET_ITEM_NAME",n.id)))},_n=function(t){var e=t.root,n=t.props;dn(e.ref.fileSize,yn(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"))),dn(e.ref.fileName,cn(e.query("GET_ITEM_NAME",n.id)))},Tn=function(t){var e=t.root,n=t.props;Q(e.query("GET_ITEM_SIZE",n.id))||dn(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},In=M({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:F({DID_LOAD_ITEM:_n,DID_UPDATE_ITEM_META:_n,DID_THROW_ITEM_LOAD_ERROR:Tn,DID_THROW_ITEM_INVALID:Tn}),didCreateView:function(t){jt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:vn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),bn=function(t){return Math.round(100*t)},An=function(t){var e=t.root,n=ln("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;var r=ln("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Cn({root:e,action:{progress:null}})},Cn=function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_LOADING"):e.query("GET_LABEL_FILE_LOADING")+" "+bn(n.progress)+"%";dn(e.ref.main,r),dn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},On=function(t){var e=t.root;dn(e.ref.main,""),dn(e.ref.sub,"")},Sn=function(t){var e=t.root,n=t.action;dn(e.ref.main,n.status.main),dn(e.ref.sub,n.status.sub)},Rn=M({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:F({DID_LOAD_ITEM:On,DID_REVERT_ITEM_PROCESSING:On,DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;dn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),dn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(t){var e=t.root;dn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),dn(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;dn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),dn(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_PROCESSING"):e.query("GET_LABEL_FILE_PROCESSING")+" "+bn(n.progress)+"%";dn(e.ref.main,r),dn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Cn,DID_THROW_ITEM_LOAD_ERROR:Sn,DID_THROW_ITEM_INVALID:Sn,DID_THROW_ITEM_PROCESSING_ERROR:Sn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Sn,DID_THROW_ITEM_REMOVE_ERROR:Sn}),didCreateView:function(t){jt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:An,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),wn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Ln=[];i(wn,(function(t){Ln.push(t)}));var Dn,xn=function(t){if("right"===kn(t))return 0;var e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Pn=function(t){return t.ref.buttonAbortItemLoad.rect.element.width},Nn=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},Mn=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},kn=function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Fn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Hn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:xn},status:{translateX:xn}},Bn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Gn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:xn},status:{translateX:xn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:xn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:kn},info:{translateX:xn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:kn},buttonRemoveItem:{opacity:1},info:{translateX:xn},status:{opacity:1,translateX:xn}},DID_LOAD_ITEM:Hn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:xn},status:{translateX:xn}},DID_START_ITEM_PROCESSING:Bn,DID_REQUEST_ITEM_PROCESSING:Bn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Bn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:xn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:xn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Hn},Vn=M({create:function(t){var e=t.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Un=function(t){var e,n=t.root,r=t.props,o=Object.keys(wn).reduce((function(t,e){return t[e]=Object.assign({},wn[e]),t}),{}),a=r.id,s=n.query("GET_ALLOW_REVERT"),u=n.query("GET_ALLOW_REMOVE"),c=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),d=n.query("IS_ASYNC"),h=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");d?c&&!s?e=function(t){return!/RevertItemProcessing/.test(t)}:!c&&s?e=function(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:c||s||(e=function(t){return!/Process/.test(t)}):e=function(t){return!/Process/.test(t)};var f=e?Ln.filter(e):Ln.concat();if(l&&s&&(o.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",o.RevertItemProcessing.icon="GET_ICON_REMOVE"),d&&!s){var p=Gn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Mn,p.info.translateY=Nn,p.status.translateY=Nn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(d&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(t){Gn[t].status.translateY=Nn})),Gn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Pn),h&&s){o.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var m=Gn.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=xn,m.status.translateY=Nn,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}u||(o.RemoveItem.disabled=!0),i(o,(function(t,e){var r=n.createChildView(En,{label:n.query(e.label),icon:n.query(e.icon),opacity:0});f.includes(t)&&n.appendChildView(r),e.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_"+e.align),r.element.classList.add(e.className),r.on("click",(function(t){t.stopPropagation(),e.disabled||n.dispatch(e.action,{query:a})})),n.ref["button"+t]=r})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Vn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(In,{id:a})),n.ref.status=n.appendChildView(n.createChildView(Rn,{id:a}));var E=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));E.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=E;var y=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));y.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=y,n.ref.activeStyles=[]},jn=function(t){var e=t.root,n=t.actions,r=t.props;qn({root:e,actions:n,props:r});var o=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return Gn[t.type]}));if(o){e.ref.activeStyles=[];var a=Gn[o.type];i(Fn,(function(t,n){var r=e.ref[t];i(n,(function(n,i){var o=a[t]&&void 0!==a[t][n]?a[t][n]:i;e.ref.activeStyles.push({control:r,key:n,value:o})}))}))}e.ref.activeStyles.forEach((function(t){var n=t.control,r=t.key,i=t.value;n[r]="function"==typeof i?i(e):i}))},qn=F({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(t){var e=t.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),Wn=M({create:Un,write:jn,didCreateView:function(t){jt("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),zn=M({create:function(t){var e=t.root,n=t.props;e.ref.fileName=ln("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Wn,{id:n.id})),e.ref.data=!1},ignoreRect:!0,write:F({DID_LOAD_ITEM:function(t){var e=t.root,n=t.props;dn(e.ref.fileName,cn(e.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(t){jt("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),Xn={type:"spring",damping:.6,mass:7},Yn=function(t){var e=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Xn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Xn},styles:["translateY"]}}].forEach((function(t){Kn(e,t,n.name)})),e.element.classList.add("filepond--"+n.name),e.ref.scalable=null},Kn=function(t,e,n){var r=M({name:"panel-"+e.name+" filepond--"+n,mixins:e.mixins,ignoreRectUpdate:!0}),i=t.createChildView(r,e.props);t.ref[e.name]=t.appendChildView(i)},Qn=M({name:"panel",read:function(t){var e=t.root;return t.props.heightCurrent=e.ref.bottom.translateY},write:function(t){var e=t.root,n=t.props;if(null!==e.ref.scalable&&n.scalable===e.ref.scalable||(e.ref.scalable=!q(n.scalable)||n.scalable,e.element.dataset.scalable=e.ref.scalable),n.height){var r=e.ref.top.rect.element,i=e.ref.bottom.rect.element,o=Math.max(r.height+i.height,n.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(o-r.height-i.height)/100,e.ref.bottom.translateY=o-i.height}},create:Yn,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Jn=function(t){var e=t.map((function(t){return t.id})),n=void 0;return{setIndex:function(t){n=t},getIndex:function(){return n},getItemIndex:function(t){return e.indexOf(t.id)}}},Zn={type:"spring",stiffness:.75,damping:.45,mass:10},$n="spring",tr={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},er=function(t){var e=t.root,n=t.props;if(e.ref.handleClick=function(t){return e.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},e.element.id="filepond--item-"+n.id,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(zn,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(Qn,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,e.query("GET_ALLOW_REORDER")){e.element.dataset.dragState="idle";var r=function(t){if(t.isPrimary){var r=!1,i={x:t.pageX,y:t.pageY};n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:t.offsetX,y:t.offsetY};var o=Jn(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var a=function(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),n.dragOffset={x:t.pageX-i.x,y:t.pageY-i.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o}))},s=function t(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",t),n.dragOffset={x:s.pageX-i.x,y:s.pageY-i.y},e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),r&&setTimeout((function(){return e.element.addEventListener("click",e.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",s)}};e.element.addEventListener("pointerdown",r)}},nr=F({DID_UPDATE_PANEL_HEIGHT:function(t){var e=t.root,n=t.action;e.height=n.height}}),rr=F({DID_GRAB_ITEM:function(t){var e=t.root;t.props.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:function(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(t){var e=t.root,n=t.props;n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},(function(t){var e=t.root,n=t.actions,r=t.props,i=t.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var o=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return tr[t.type]}));o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=tr[r.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?i||(e.height=e.rect.element.width*a):(nr({root:e,actions:n,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),i&&(e.ref.panel.height=null),e.ref.panel.height=e.height})),ir=M({create:er,write:rr,destroy:function(t){var e=t.root,n=t.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:$n,scaleY:$n,translateX:Zn,translateY:Zn,opacity:{type:"tween",duration:150}}}}),or=function(t,e){return Math.max(1,Math.floor((t+1)/e))},ar=function(t,e,n){if(n){var r=t.rect.element.width,i=e.length,o=null;if(0===i||n.top<e[0].rect.element.top)return-1;var a=e[0].rect.element,s=a.marginLeft+a.marginRight,u=a.width+s,c=or(r,u);if(1===c){for(var l=0;l<i;l++){var d=e[l],h=d.rect.outer.top+.5*d.rect.element.height;if(n.top<h)return l}return i}for(var f=a.marginTop+a.marginBottom,p=a.height+f,m=0;m<i;m++){var E=m%c*u,y=Math.floor(m/c)*p,g=y-a.marginTop,v=E+u,_=y+p+a.marginBottom;if(n.top<_&&n.top>g){if(n.left<v)return m;o=m!==i-1?m:null}}return null!==o?o:i}},sr={height:0,width:0,get getHeight(){return this.height},set setHeight(t){0!==this.height&&0!==t||(this.height=t)},get getWidth(){return this.width},set setWidth(t){0!==this.width&&0!==t||(this.width=t)},setDimensions:function(t,e){0!==this.height&&0!==t||(this.height=t),0!==this.width&&0!==e||(this.width=e)}},ur=function(t){var e=t.root;a(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},cr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(0===t.opacity&&lr(t,e,n,r,i),t.scaleX=1,t.scaleY=1,t.opacity=1))},lr=function(t,e,n,r,i){t.interactionMethod===gt.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===gt.DROP?(t.translateX=null,t.translateX=e-20*r,t.translateY=null,t.translateY=n-10*i,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===gt.BROWSE?(t.translateY=null,t.translateY=n-30):t.interactionMethod===gt.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},dr=function(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},hr=function(t){return t.rect.element.width+.5*t.rect.element.marginLeft+.5*t.rect.element.marginRight},fr=F({DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=n.id,i=n.index,o=n.interactionMethod;e.ref.addIndex=i;var a=Date.now(),s=a,u=1;if(o!==gt.NONE){u=0;var c=e.query("GET_ITEM_INSERT_INTERVAL"),l=a-e.ref.lastItemSpanwDate;s=l<c?a+(c-l):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(ir,{spawnDate:s,id:r,opacity:u,interactionMethod:o}),i)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action.id,r=e.childViews.find((function(t){return t.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},DID_DRAG_ITEM:function(t){var e=t.root,n=t.action,r=n.id,i=n.dragState,o=e.query("GET_ITEM",{id:r}),a=e.childViews.find((function(t){return t.id===r})),s=e.childViews.length,u=i.getItemIndex(o);if(a){var c={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},l=dr(a),d=hr(a),h=Math.floor(e.rect.outer.width/d);h>s&&(h=s);var f=Math.floor(s/h+1);sr.setHeight=l*f,sr.setWidth=d*h;var p={y:Math.floor(c.y/l),x:Math.floor(c.x/d),getGridIndex:function(){return c.y>sr.getHeight||c.y<0||c.x>sr.getWidth||c.x<0?u:this.y*h+this.x},getColIndex:function(){for(var t=e.query("GET_ACTIVE_ITEMS"),n=e.childViews.filter((function(t){return t.rect.element.height})),r=t.map((function(t){return n.find((function(e){return e.id===t.id}))})),i=r.findIndex((function(t){return t===a})),o=dr(a),s=r.length,u=s,l=0,d=0,h=0;h<s;h++)if(l=(d=l)+dr(r[h]),c.y<l){if(i>h){if(c.y<d+o){u=h;break}continue}u=h;break}return u}},m=h>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:m});var E=i.getIndex();if(void 0===E||E!==m){if(i.setIndex(m),void 0===E)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:u,target:m})}}}}),pr=M({create:ur,write:function(t){var e=t.root,n=t.props,r=t.actions,i=t.shouldOptimize;fr({root:e,props:n,actions:r});var o=n.dragCoordinates,a=e.rect.element.width,s=e.childViews.filter((function(t){return t.rect.element.height})),u=e.query("GET_ACTIVE_ITEMS").map((function(t){return s.find((function(e){return e.id===t.id}))})).filter((function(t){return t})),c=o?ar(e,u,o):null,l=e.ref.addIndex||null;e.ref.addIndex=null;var d=0,h=0,f=0;if(0!==u.length){var p=u[0].rect.element,m=p.marginTop+p.marginBottom,E=p.marginLeft+p.marginRight,y=p.width+E,g=p.height+m,v=or(a,y);if(1===v){var _=0,T=0;u.forEach((function(t,e){if(c){var n=e-c;T=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}i&&(t.translateX=null,t.translateY=null),t.markedForRemoval||cr(t,0,_+T);var r=(t.rect.element.height+m)*(t.markedForRemoval?t.opacity:1);_+=r}))}else{var I=0,b=0;u.forEach((function(t,e){e===c&&(d=1),e===l&&(f+=1),t.markedForRemoval&&t.opacity<.5&&(h-=1);var n=e+f+d+h,r=n%v,o=Math.floor(n/v),a=r*y,s=o*g,u=Math.sign(a-I),p=Math.sign(s-b);I=a,b=s,t.markedForRemoval||(i&&(t.translateX=null,t.translateY=null),cr(t,a,s,u,p))}))}}},tag:"ul",name:"list",didWriteView:function(t){var e=t.root;e.childViews.filter((function(t){return t.markedForRemoval&&0===t.opacity&&t.resting})).forEach((function(t){t._destroy(),e.removeChildView(t)}))},filterFrameActionsForChild:function(t,e){return e.filter((function(e){return!e.data||!e.data.id||t.id===e.data.id}))},mixins:{apis:["dragCoordinates"]}}),mr=function(t){var e=t.root,n=t.props;e.ref.list=e.appendChildView(e.createChildView(pr)),n.dragCoordinates=null,n.overflowing=!1},Er=F({DID_DRAG:function(t){var e=t.root,n=t.props,r=t.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:function(t){t.props.dragCoordinates=null}}),yr=M({create:mr,write:function(t){var e=t.root,n=t.props,r=t.actions;if(Er({root:e,props:n,actions:r}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){var i=Math.round(n.overflow);i!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=i)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),gr=function(t,e,n){n?a(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):t.removeAttribute(e)},vr=function(t){if(t&&""!==t.value){try{t.value=""}catch(t){}if(t.value){var e=ln("form"),n=t.parentNode,r=t.nextSibling;e.appendChild(t),e.reset(),r?n.insertBefore(t,r):n.appendChild(t)}}},_r=function(t){var e=t.root,n=t.props;e.element.id="filepond--browser-"+n.id,a(e.element,"name",e.query("GET_NAME")),a(e.element,"aria-controls","filepond--assistant-"+n.id),a(e.element,"aria-labelledby","filepond--drop-label-"+n.id),Tr({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Ir({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),br({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Ar({root:e}),Cr({root:e,action:{value:e.query("GET_REQUIRED")}}),Or({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=function(t){if(e.element.value){var r=Array.from(e.element.files).map((function(t){return t._relativePath=t.webkitRelativePath,t}));setTimeout((function(){n.onload(r),vr(e.element)}),250)}},e.element.addEventListener("change",e.ref.handleChange)},Tr=function(t){var e=t.root,n=t.action;e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&gr(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},Ir=function(t){var e=t.root,n=t.action;gr(e.element,"multiple",n.value)},br=function(t){var e=t.root,n=t.action;gr(e.element,"webkitdirectory",n.value)},Ar=function(t){var e=t.root,n=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),i=n||!r;gr(e.element,"disabled",i)},Cr=function(t){var e=t.root;t.action.value?0===e.query("GET_TOTAL_ITEMS")&&gr(e.element,"required",!0):gr(e.element,"required",!1)},Or=function(t){var e=t.root,n=t.action;gr(e.element,"capture",!!n.value,!0===n.value?"":n.value)},Sr=function(t){var e=t.root,n=e.element;e.query("GET_TOTAL_ITEMS")>0?(gr(n,"required",!1),gr(n,"name",!1)):(gr(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&gr(n,"required",!0))},Rr=M({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:_r,destroy:function(t){var e=t.root;e.element.removeEventListener("change",e.ref.handleChange)},write:F({DID_LOAD_ITEM:Sr,DID_REMOVE_ITEM:Sr,DID_THROW_ITEM_INVALID:function(t){var e=t.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Ar,DID_SET_ALLOW_BROWSE:Ar,DID_SET_ALLOW_DIRECTORIES_ONLY:br,DID_SET_ALLOW_MULTIPLE:Ir,DID_SET_ACCEPTED_FILE_TYPES:Tr,DID_SET_CAPTURE_METHOD:Or,DID_SET_REQUIRED:Cr})}),wr={ENTER:13,SPACE:32},Lr=function(t){var e=t.root,n=t.props,r=ln("label");a(r,"for","filepond--browser-"+n.id),a(r,"id","filepond--drop-label-"+n.id),a(r,"aria-hidden","true"),e.ref.handleKeyDown=function(t){(t.keyCode===wr.ENTER||t.keyCode===wr.SPACE)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=function(t){t.target===r||r.contains(t.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Dr(r,n.caption),e.appendChild(r),e.ref.label=r},Dr=function(t,e){t.innerHTML=e;var n=t.querySelector(".filepond--label-action");return n&&a(n,"tabindex","0"),e},xr=M({name:"drop-label",ignoreRect:!0,create:Lr,destroy:function(t){var e=t.root;e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:F({DID_SET_LABEL_IDLE:function(t){var e=t.root,n=t.action;Dr(e.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Pr=M({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Nr=function(t){var e=t.root,n=.5*e.rect.element.width,r=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView(Pr,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},Mr=function(t){var e=t.root,n=t.props,r=t.actions;kr({root:e,props:n,actions:r});var i=e.ref.blob;0===r.length&&i&&0===i.opacity&&(e.removeChildView(i),e.ref.blob=null)},kr=F({DID_DRAG:function(t){var e=t.root,n=t.action;e.ref.blob?(e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):Nr({root:e})},DID_DROP:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.opacity=0)}}),Fr=M({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Mr}),Hr=function(t){return t.root.ref.fields={}},Br=function(t,e){return t.ref.fields[e]},Gr=function(t){t.query("GET_ACTIVE_ITEMS").forEach((function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])}))},Vr=function(t){var e=t.root;return Gr(e)},Ur=F({DID_SET_DISABLED:function(t){var e=t.root;e.element.disabled=e.query("GET_DISABLED")},DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=ln("input");r.type="hidden",r.name=e.query("GET_NAME"),r.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=r,Gr(e)},DID_LOAD_ITEM:function(t){var e=t.root,n=t.action,r=Br(e,n.id);r&&null!==n.serverFileReference&&(r.value=n.serverFileReference)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action,r=Br(e,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[n.id])},DID_DEFINE_VALUE:function(t){var e=t.root,n=t.action,r=Br(e,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,Gr(e))},DID_REORDER_ITEMS:Vr,DID_SORT_ITEMS:Vr}),jr=M({tag:"fieldset",name:"data",create:Hr,write:Ur,ignoreRect:!0}),qr=function(t){return"getRootNode"in t?t.getRootNode():document},Wr=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],zr=["css","csv","html","txt"],Xr={zip:"zip|compressed",epub:"application/epub+zip"},Yr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.toLowerCase(),Wr.includes(t)?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):zr.includes(t)?"text/"+t:Xr[t]||""},Kr=function(t){return new Promise((function(e,n){var r=oi(t);if(r.length&&!Qr(t))return e(r);Jr(t).then(e)}))},Qr=function(t){return!!t.files&&t.files.length>0},Jr=function(t){return new Promise((function(e,n){var r=(t.items?Array.from(t.items):[]).filter((function(t){return Zr(t)})).map((function(t){return $r(t)}));r.length?Promise.all(r).then((function(t){var n=[];t.forEach((function(t){n.push.apply(n,t)})),e(n.filter((function(t){return t})).map((function(t){return t._relativePath||(t._relativePath=t.webkitRelativePath),t})))})).catch(console.error):e(t.files?Array.from(t.files):[])}))},Zr=function(t){if(ri(t)){var e=ii(t);if(e)return e.isFile||e.isDirectory}return"file"===t.kind},$r=function(t){return new Promise((function(e,n){ni(t)?ti(ii(t)).then(e).catch(n):e([t.getAsFile()])}))},ti=function(t){return new Promise((function(e,n){var r=[],i=0,o=0,a=function(){0===o&&0===i&&e(r)};!function t(e){i++;var s=e.createReader();!function e(){s.readEntries((function(n){if(0===n.length)return i--,void a();n.forEach((function(e){e.isDirectory?t(e):(o++,e.file((function(t){var n=ei(t);e.fullPath&&(n._relativePath=e.fullPath),r.push(n),o--,a()})))})),e()}),n)}()}(t)}))},ei=function(t){if(t.type.length)return t;var e=t.lastModifiedDate,n=t.name,r=Yr(he(t.name));return r.length?((t=t.slice(0,t.size,r)).name=n,t.lastModifiedDate=e,t):t},ni=function(t){return ri(t)&&(ii(t)||{}).isDirectory},ri=function(t){return"webkitGetAsEntry"in t},ii=function(t){return t.webkitGetAsEntry()},oi=function(t){var e=[];try{if((e=si(t)).length)return e;e=ai(t)}catch(t){}return e},ai=function(t){var e=t.getData("url");return"string"==typeof e&&e.length?[e]:[]},si=function(t){var e=t.getData("text/html");if("string"==typeof e&&e.length){var n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},ui=[],ci=function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},li=function(t,e,n){var r=di(e),i={element:t,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=r.addListener(i),i},di=function(t){var e=ui.find((function(e){return e.element===t}));if(e)return e;var n=hi(t);return ui.push(n),n},hi=function(t){var e=[],n={dragenter:yi,dragover:gi,dragleave:_i,drop:vi},r={};i(n,(function(n,i){r[n]=i(t,e),t.addEventListener(n,r[n],!1)}));var o={element:t,addListener:function(a){return e.push(a),function(){e.splice(e.indexOf(a),1),0===e.length&&(ui.splice(ui.indexOf(o),1),i(n,(function(e){t.removeEventListener(e,r[e],!1)})))}}};return o},fi=function(t,e){return"elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)},pi=function(t,e){var n=qr(e),r=fi(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return r===e||e.contains(r)},mi=null,Ei=function(t,e){try{t.dropEffect=e}catch(t){}},yi=function(t,e){return function(t){t.preventDefault(),mi=t.target,e.forEach((function(e){var n=e.element,r=e.onenter;pi(t,n)&&(e.state="enter",r(ci(t)))}))}},gi=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Kr(n).then((function(r){var i=!1;e.some((function(e){var o=e.filterElement,a=e.element,s=e.onenter,u=e.onexit,c=e.ondrag,l=e.allowdrop;Ei(n,"copy");var d=l(r);if(d)if(pi(t,a)){if(i=!0,null===e.state)return e.state="enter",void s(ci(t));if(e.state="over",o&&!d)return void Ei(n,"none");c(ci(t))}else o&&!i&&Ei(n,"none"),e.state&&(e.state=null,u(ci(t)));else Ei(n,"none")}))}))}},vi=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Kr(n).then((function(n){e.forEach((function(e){var r=e.filterElement,i=e.element,o=e.ondrop,a=e.onexit,s=e.allowdrop;if(e.state=null,!r||pi(t,i))return s(n)?void o(ci(t),n):a(ci(t))}))}))}},_i=function(t,e){return function(t){mi===t.target&&e.forEach((function(e){var n=e.onexit;e.state=null,n(ci(t))}))}},Ti=function(t,e,n){t.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,i=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(t){return t}:o,s=li(t,r?document.documentElement:t,i),u="",c="";s.allowdrop=function(t){return e(a(t))},s.ondrop=function(t,n){var r=a(n);e(r)?(c="drag-drop",l.onload(r,t)):l.ondragend(t)},s.ondrag=function(t){l.ondrag(t)},s.onenter=function(t){c="drag-over",l.ondragstart(t)},s.onexit=function(t){c="drag-exit",l.ondragend(t)};var l={updateHopperState:function(){u!==c&&(t.dataset.hopperState=c,u=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return l},Ii=!1,bi=[],Ai=function(t){var e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){for(var n=!1,r=e;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Kr(t.clipboardData).then((function(t){t.length&&bi.forEach((function(e){return e(t)}))}))},Ci=function(t){bi.includes(t)||(bi.push(t),Ii||(Ii=!0,document.addEventListener("paste",Ai)))},Oi=function(t){Rt(bi,bi.indexOf(t)),0===bi.length&&(document.removeEventListener("paste",Ai),Ii=!1)},Si=function(){var t=function(t){e.onload(t)},e={destroy:function(){Oi(t)},onload:function(){}};return Ci(t),e},Ri=null,wi=null,Li=[],Di=function(t,e){t.element.textContent=e},xi=function(t){t.element.textContent=""},Pi=function(t,e,n){var r=t.query("GET_TOTAL_ITEMS");Di(t,n+" "+e+", "+r+" "+(1===r?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(wi),wi=setTimeout((function(){xi(t)}),1500)},Ni=function(t){return t.element.parentNode.contains(document.activeElement)},Mi=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Di(e,r+" "+i)},ki=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename;Di(e,n.status.main+" "+r+" "+n.status.sub)},Fi=M({create:function(t){var e=t.root,n=t.props;e.element.id="filepond--assistant-"+n.id,a(e.element,"role","status"),a(e.element,"aria-live","polite"),a(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:F({DID_LOAD_ITEM:function(t){var e=t.root,n=t.action;if(Ni(e)){e.element.textContent="";var r=e.query("GET_ITEM",n.id);Li.push(r.filename),clearTimeout(Ri),Ri=setTimeout((function(){Pi(e,Li.join(", "),e.query("GET_LABEL_FILE_ADDED")),Li.length=0}),750)}},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action;if(Ni(e)){var r=n.item;Pi(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Di(e,r+" "+i)},DID_ABORT_ITEM_PROCESSING:Mi,DID_REVERT_ITEM_PROCESSING:Mi,DID_THROW_ITEM_REMOVE_ERROR:ki,DID_THROW_ITEM_LOAD_ERROR:ki,DID_THROW_ITEM_INVALID:ki,DID_THROW_ITEM_PROCESSING_ERROR:ki}),tag:"span",name:"assistant"}),Hi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(new RegExp(e+".","g"),(function(t){return t.charAt(1).toUpperCase()}))},Bi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),i=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(i);var u=Date.now()-r,c=function(){r=Date.now(),t.apply(void 0,a)};u<e?n||(i=setTimeout(c,e-u)):c()}},Gi=1e6,Vi=function(t){return t.preventDefault()},Ui=function(t){var e=t.root,n=t.props,r=e.query("GET_ID");r&&(e.element.id=r);var i=e.query("GET_CLASS_NAME");i&&i.split(" ").filter((function(t){return t.length})).forEach((function(t){e.element.classList.add(t)})),e.ref.label=e.appendChildView(e.createChildView(xr,Object.assign({},n,{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(yr,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Qn,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Fi,Object.assign({},n))),e.ref.data=e.appendChildView(e.createChildView(jr,Object.assign({},n))),e.ref.measure=ln("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter((function(t){return!V(t.value)})).map((function(t){var n=t.name,r=t.value;e.element.dataset[n]=r})),e.ref.widthPrevious=null,e.ref.widthUpdated=Bi((function(){e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")}),250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!o&&(e.element.addEventListener("touchmove",Vi,{passive:!1}),e.element.addEventListener("gesturestart",Vi));var s=e.query("GET_CREDITS");if(2===s.length){var u=document.createElement("a");u.className="filepond--credits",u.setAttribute("aria-hidden","true"),u.href=s[0],u.tabindex=-1,u.target="_blank",u.rel="noopener noreferrer",u.textContent=s[1],e.element.appendChild(u),e.ref.credits=u}},ji=function(t){var e=t.root,n=t.props,r=t.actions;if(Zi({root:e,props:n,actions:r}),r.filter((function(t){return/^DID_SET_STYLE_/.test(t.type)})).filter((function(t){return!V(t.data.value)})).map((function(t){var n=t.type,r=t.data,i=Hi(n.substr(8).toLowerCase(),"_");e.element.dataset[i]=r.value,e.invalidateLayout()})),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var i=e.ref.bounds;i||(i=e.ref.bounds=zi(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var o=e.ref,a=o.hopper,s=o.label,u=o.list,c=o.panel;a&&a.updateHopperState();var l=e.query("GET_PANEL_ASPECT_RATIO"),d=e.query("GET_ALLOW_MULTIPLE"),h=e.query("GET_TOTAL_ITEMS"),f=h===(d?e.query("GET_MAX_FILES")||Gi:1),p=r.find((function(t){return"DID_ADD_ITEM"===t.type}));if(f&&p){var m=p.data.interactionMethod;s.opacity=0,d?s.translateY=-40:m===gt.API?s.translateX=40:m===gt.BROWSE?s.translateY=40:s.translateY=30}else f||(s.opacity=1,s.translateX=0,s.translateY=0);var E=qi(e),y=Wi(e),g=s.rect.element.height,v=!d||f?0:g,_=f?u.rect.element.marginTop:0,T=0===h?0:u.rect.element.marginBottom,I=v+_+y.visual+T,b=v+_+y.bounds+T;if(u.translateY=Math.max(0,v-u.rect.element.marginTop)-E.top,l){var A=e.rect.element.width,C=A*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);var O=e.ref.updateHistory;O.push(A);var S=2;if(O.length>2*S)for(var R=O.length,w=R-10,L=0,D=R;D>=w;D--)if(O[D]===O[D-2]&&L++,L>=S)return;c.scalable=!1,c.height=C;var x=C-v-(T-E.bottom)-(f?_:0);y.visual>x?u.overflow=x:u.overflow=null,e.height=C}else if(i.fixedHeight){c.scalable=!1;var P=i.fixedHeight-v-(T-E.bottom)-(f?_:0);y.visual>P?u.overflow=P:u.overflow=null}else if(i.cappedHeight){var N=I>=i.cappedHeight,M=Math.min(i.cappedHeight,I);c.scalable=!0,c.height=N?M:M-E.top-E.bottom;var k=M-v-(T-E.bottom)-(f?_:0);I>i.cappedHeight&&y.visual>k?u.overflow=k:u.overflow=null,e.height=Math.min(i.cappedHeight,b-E.top-E.bottom)}else{var F=h>0?E.top+E.bottom:0;c.scalable=!0,c.height=Math.max(g,I-F),e.height=Math.max(g,b-F)}e.ref.credits&&c.heightCurrent&&(e.ref.credits.style.transform="translateY("+c.heightCurrent+"px)")}},qi=function(t){var e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},Wi=function(t){var e=0,n=0,r=t.ref.list,i=r.childViews[0],o=i.childViews.filter((function(t){return t.rect.element.height})),a=t.query("GET_ACTIVE_ITEMS").map((function(t){return o.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));if(0===a.length)return{visual:e,bounds:n};var s=i.rect.element.width,u=ar(i,a,r.dragCoordinates),c=a[0].rect.element,l=c.marginTop+c.marginBottom,d=c.marginLeft+c.marginRight,h=c.width+d,f=c.height+l,p=void 0!==u&&u>=0?1:0,m=a.find((function(t){return t.markedForRemoval&&t.opacity<.45}))?-1:0,E=a.length+p+m,y=or(s,h);return 1===y?a.forEach((function(t){var r=t.rect.element.height+l;n+=r,e+=r*t.opacity})):(n=Math.ceil(E/y)*f,e=n),{visual:e,bounds:n}},zi=function(t){var e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===e?null:e}},Xi=function(t,e){var n=t.query("GET_ALLOW_REPLACE"),r=t.query("GET_ALLOW_MULTIPLE"),i=t.query("GET_TOTAL_ITEMS"),o=t.query("GET_MAX_FILES"),a=e.length;return!r&&a>1||!!(Q(o=r||n?o:1)&&i+a>o)&&(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:xe("warning",0,"Max files")}),!0)},Yi=function(t,e,n){var r=t.childViews[0];return ar(r,e,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Ki=function(t){var e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),r=e&&!n;if(r&&!t.ref.hopper){var i=Ti(t.element,(function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every((function(e){return jt("ALLOW_HOPPER_ITEM",e,{query:t.query}).every((function(t){return!0===t}))&&n(e)}))}),{filterItems:function(e){var n=t.query("GET_IGNORED_FILES");return e.filter((function(t){return!Xe(t)||!n.includes(t.name.toLowerCase())}))},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});i.onload=function(e,n){var r=t.ref.list.childViews[0].childViews.filter((function(t){return t.rect.element.height})),i=t.query("GET_ACTIVE_ITEMS").map((function(t){return r.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));Ut("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Xi(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:Yi(t.ref.list,i,n),interactionMethod:gt.DROP})})),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},i.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},i.ondrag=Bi((function(e){t.dispatch("DID_DRAG",{position:e})})),i.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=i,t.ref.drip=t.appendChildView(t.createChildView(Fr))}else!r&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Qi=function(t,e){var n=t.query("GET_ALLOW_BROWSE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Rr,Object.assign({},e,{onload:function(e){Ut("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Xi(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:gt.BROWSE})}))}})),0):!i&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Ji=function(t){var e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),r=e&&!n;r&&!t.ref.paster?(t.ref.paster=Si(),t.ref.paster.onload=function(e){Ut("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Xi(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:gt.PASTE})}))}):!r&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},Zi=F({DID_SET_ALLOW_BROWSE:function(t){var e=t.root,n=t.props;Qi(e,n)},DID_SET_ALLOW_DROP:function(t){var e=t.root;Ki(e)},DID_SET_ALLOW_PASTE:function(t){var e=t.root;Ji(e)},DID_SET_DISABLED:function(t){var e=t.root,n=t.props;Ki(e),Ji(e),Qi(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),$i=M({name:"root",read:function(t){var e=t.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Ui,write:ji,destroy:function(t){var e=t.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Vi),e.element.removeEventListener("gesturestart",Vi)},mixins:{styles:["height"]}}),to=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,r=zt(),i=n(ft(r),[oe,yt(r)],[un,Et(r)]);i.dispatch("SET_OPTIONS",{options:t});var a=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,u=!1,c=!1,l=null,d=null,h=function(){u||(u=!0),clearTimeout(s),s=setTimeout((function(){u=!1,l=null,d=null,c&&(c=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",h);var f=$i(i,{id:vt()}),p=!1,m=!1,E={_read:function(){u&&(d=window.innerWidth,l||(l=d),c||d===l||(i.dispatch("DID_START_RESIZE"),c=!0)),m&&p&&(p=null===f.element.offsetParent),p||(f._read(),m=f.rect.element.hidden)},_write:function(t){var e=i.processActionQueue().filter((function(t){return!/^SET_/.test(t.type)}));p&&!e.length||(T(e),p=f._write(t,e,c),Nt(i.query("GET_ITEMS")),p&&i.processDispatchQueue())}},y=function(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Object.assign({},e.error):null),e.status&&(n.status=Object.assign({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var r=e.item?e.item:i.query("GET_ITEM",e.id);n.file=r?Pt(r):null}return e.items&&(n.items=e.items.map(Pt)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},g={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")},v=function(t){var e=Object.assign({pond:N},t);delete e.type,f.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var n=[];t.hasOwnProperty("error")&&n.push(t.error),t.hasOwnProperty("file")&&n.push(t.file);var r=["type","error","file"];Object.keys(t).filter((function(t){return!r.includes(t)})).forEach((function(e){return n.push(t[e])})),N.fire.apply(N,[t.type].concat(n));var o=i.query("GET_ON"+t.type.toUpperCase());o&&o.apply(void 0,n)},T=function(t){t.length&&t.filter((function(t){return g[t.type]})).forEach((function(t){var e=g[t.type];(Array.isArray(e)?e:[e]).forEach((function(e){"DID_INIT_ITEM"===t.type?v(e(t.data)):setTimeout((function(){v(e(t.data))}),0)}))}))},I=function(t){return i.dispatch("SET_OPTIONS",{options:t})},b=function(t){return i.query("GET_ACTIVE_ITEM",t)},A=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){R([{source:t,options:e}],{index:e.index}).then((function(t){return n(t&&t[0])})).catch(r)}))},O=function(t){return t.file&&t.id},S=function(t,e){return"object"!=typeof t||O(t)||e||(e=t,t=void 0),i.dispatch("REMOVE_ITEM",Object.assign({},e,{query:t})),null===i.query("GET_ACTIVE_ITEM",t)},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){var r=[],o={};if(G(e[0]))r.push.apply(r,e[0]),Object.assign(o,e[1]||{});else{var a=e[e.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(o,e.pop()),r.push.apply(r,e)}i.dispatch("ADD_ITEMS",{items:r,index:o.index,interactionMethod:gt.API,success:t,failure:n})}))},w=function(){return i.query("GET_ACTIVE_ITEMS")},L=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},D=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e,i=r.length?r:w();return Promise.all(i.map(A))},x=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e;if(!r.length){var i=w().filter((function(t){return!(t.status===Mt.IDLE&&t.origin===kt.LOCAL)&&t.status!==Mt.PROCESSING&&t.status!==Mt.PROCESSING_COMPLETE&&t.status!==Mt.PROCESSING_REVERT_ERROR}));return Promise.all(i.map(L))}return Promise.all(r.map(L))},P=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=Array.isArray(e[0])?e[0]:e;"object"==typeof i[i.length-1]?r=i.pop():Array.isArray(e[0])&&(r=e[1]);var o=w();return i.length?i.map((function(t){return _(t)?o[t]?o[t].id:null:t})).filter((function(t){return t})).map((function(t){return S(t,r)})):Promise.all(o.map((function(t){return S(t,r)})))},N=Object.assign({},Lt(),{},E,{},mt(i,r),{setOptions:I,addFile:C,addFiles:R,getFile:b,processFile:L,prepareFile:A,removeFile:S,moveFile:function(t,e){return i.dispatch("MOVE_ITEM",{query:t,index:e})},getFiles:w,processFiles:x,removeFiles:P,prepareFiles:D,sort:function(t){return i.dispatch("SORT",{compare:t})},browse:function(){var t=f.element.querySelector("input[type=file]");t&&t.click()},destroy:function(){N.fire("destroy",f.element),i.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",h),document.removeEventListener("visibilitychange",a),i.dispatch("DID_DESTROY")},insertBefore:function(t){return H(f.element,t)},insertAfter:function(t){return B(f.element,t)},appendTo:function(t){return t.appendChild(f.element)},replaceElement:function(t){H(f.element,t),t.parentNode.removeChild(t),e=t},restoreElement:function(){e&&(B(e,f.element),f.element.parentNode.removeChild(f.element),e=null)},isAttachedTo:function(t){return f.element===t||e===t},element:{get:function(){return f.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),o(N)},eo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return i(zt(),(function(t,n){e[t]=n[0]})),to(Object.assign({},e,{},t))},no=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},ro=function(t){return Hi(t.replace(/^data-/,""))},io=function t(e,n){i(n,(function(n,r){i(e,(function(t,i){var o=new RegExp(n);if(o.test(t)&&(delete e[t],!1!==r))if(z(r))e[r]=i;else{var a=r.group;it(r)&&!e[a]&&(e[a]={}),e[a][no(t.replace(o,""))]=i}})),r.mapping&&t(e[r.group],r.mapping)}))},oo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];i(t.attributes,(function(e){n.push(t.attributes[e])}));var r=n.filter((function(t){return t.name})).reduce((function(e,n){var r=a(t,n.name);return e[ro(n.name)]=r===n.name||r,e}),{});return io(r,e),r},ao=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};jt("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},e),i=oo("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach((function(t){it(i[t])?(it(r[t])||(r[t]={}),Object.assign(r[t],i[t])):r[t]=i[t]})),r.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map((function(t){return{source:t.value,options:{type:t.dataset.type}}})));var o=eo(r);return t.files&&Array.from(t.files).forEach((function(t){o.addFile(t)})),o.replaceElement(t),o},so=function(){return e(arguments.length<=0?void 0:arguments[0])?ao.apply(void 0,arguments):eo.apply(void 0,arguments)},uo=["fire","_read","_write"],co=function(t){var e={};return Dt(t,e,uo),e},lo=function(t,e){return t.replace(/(?:{([a-zA-Z]+)})/g,(function(t,n){return e[n]}))},ho=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);return{transfer:function(t,e){},post:function(t,e,n){var i=vt();r.onmessage=function(t){t.data.id===i&&e(t.data.message)},r.postMessage({id:i,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},fo=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},po=function(t,e){var n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},mo=function(t){return po(t,t.name)},Eo=[],yo=function(t){if(!Eo.includes(t)){Eo.push(t);var e=t({addFilter:qt,utils:{Type:Gt,forin:i,isString:z,isFile:Xe,toNaturalFileSize:yn,replaceInString:lo,getExtensionFromFilename:he,getFilenameWithoutExtension:We,guesstimateMimeType:Yr,getFileFromBlob:Ee,getFilenameFromURL:de,createRoute:F,createWorker:ho,createView:M,createItemAPI:Pt,loadImage:fo,copyFile:mo,renameFile:po,createBlob:ge,applyFilterChain:Ut,text:dn,getNumericAspectRatioFromString:Qt},views:{fileActionButton:En}});Wt(e.options)}},go=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},vo=function(){return"Promise"in window},_o=function(){return"slice"in Blob.prototype},To=function(){return"URL"in window&&"createObjectURL"in window.URL},Io=function(){return"visibilityState"in document},bo=function(){return"performance"in window},Ao=function(){return"supports"in(window.CSS||{})},Co=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Oo=(Dn=m()&&!go()&&Io()&&vo()&&_o()&&To()&&bo()&&(Ao()||Co()),function(){return Dn}),So={apps:[]},Ro="filepond",wo=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=wo,t.destroy=wo,t.parse=wo,t.find=wo,t.registerPlugin=wo,t.getOptions=wo,t.setOptions=wo,Oo()){k((function(){So.apps.forEach((function(t){return t._read()}))}),(function(t){So.apps.forEach((function(e){return e._write(t)}))}));var Lo=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Oo,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Lo()}),0):document.addEventListener("DOMContentLoaded",Lo);var Do=function(){return i(zt(),(function(e,n){t.OptionTypes[e]=n[1]}))};t.Status=Object.assign({},Zt),t.FileOrigin=Object.assign({},kt),t.FileStatus=Object.assign({},Mt),t.OptionTypes={},Do(),t.create=function(){var e=so.apply(void 0,arguments);return e.on("destroy",t.destroy),So.apps.push(e),co(e)},t.destroy=function(t){var e=So.apps.findIndex((function(e){return e.isAttachedTo(t)}));return e>=0&&(So.apps.splice(e,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll("."+Ro)).filter((function(t){return!So.apps.find((function(e){return e.isAttachedTo(t)}))})).map((function(e){return t.create(e)}))},t.find=function(t){var e=So.apps.find((function(e){return e.isAttachedTo(t)}));return e?co(e):null},t.registerPlugin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(yo),Do()},t.getOptions=function(){var t={};return i(zt(),(function(e,n){t[e]=n[0]})),t},t.setOptions=function(e){return it(e)&&(So.apps.forEach((function(t){t.setOptions(e)})),Xt(e)),t.getOptions()}}t.supported=Oo,Object.defineProperty(t,"__esModule",{value:!0})}(e)},792:()=>{},542:()=>{},127:()=>{},94:()=>{},606:t=>{var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=256,a=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var r=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=this._encodeByte(r>>>6&63),e+=this._encodeByte(r>>>0&63)}var i=t.length-n;return i>0&&(r=t[n]<<16|(2===i?t[n+1]<<8:0),e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""),e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),n=t.length-e,r=new Uint8Array(this.maxDecodedLength(n)),i=0,a=0,s=0,u=0,c=0,l=0,d=0;a<n-4;a+=4)u=this._decodeChar(t.charCodeAt(a+0)),c=this._decodeChar(t.charCodeAt(a+1)),l=this._decodeChar(t.charCodeAt(a+2)),d=this._decodeChar(t.charCodeAt(a+3)),r[i++]=u<<2|c>>>4,r[i++]=c<<4|l>>>2,r[i++]=l<<6|d,s|=u&o,s|=c&o,s|=l&o,s|=d&o;if(a<n-1&&(u=this._decodeChar(t.charCodeAt(a)),c=this._decodeChar(t.charCodeAt(a+1)),r[i++]=u<<2|c>>>4,s|=u&o,s|=c&o),a<n-2&&(l=this._decodeChar(t.charCodeAt(a+2)),r[i++]=c<<4|l>>>2,s|=l&o),a<n-3&&(d=this._decodeChar(t.charCodeAt(a+3)),r[i++]=l<<6|d,s|=d&o),0!==s)throw new Error("Base64Coder: incorrect characters for decoding");return r},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=o;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=a;var s=new a;e.encode=function(t){return s.encode(t)},e.decode=function(t){return s.decode(t)};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=o;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(a);e.URLSafeCoder=u;var c=new u;e.encodeURLSafe=function(t){return c.encode(t)},e.decodeURLSafe=function(t){return c.decode(t)},e.encodedLength=function(t){return s.encodedLength(t)},e.maxDecodedLength=function(t){return s.maxDecodedLength(t)},e.decodedLength=function(t){return s.decodedLength(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function o(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)e+=1;else if(i<2048)e+=2;else if(i<55296)e+=3;else{if(!(i<=57343))throw new Error(r);if(n>=t.length-1)throw new Error(r);n++,e+=4}}return e}e.encode=function(t){for(var e=new Uint8Array(o(t)),n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=192|i>>6,e[n++]=128|63&i):i<55296?(e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i):(r++,i=(1023&i)<<10,i|=1023&t.charCodeAt(r),i+=65536,e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i)}return e},e.encodedLength=o,e.decode=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(128&r){var o=void 0;if(r<224){if(n>=t.length)throw new Error(i);if(128!=(192&(a=t[++n])))throw new Error(i);r=(31&r)<<6|63&a,o=128}else if(r<240){if(n>=t.length-1)throw new Error(i);var a=t[++n],s=t[++n];if(128!=(192&a)||128!=(192&s))throw new Error(i);r=(15&r)<<12|(63&a)<<6|63&s,o=2048}else{if(!(r<248))throw new Error(i);if(n>=t.length-2)throw new Error(i);a=t[++n],s=t[++n];var u=t[++n];if(128!=(192&a)||128!=(192&s)||128!=(192&u))throw new Error(i);r=(15&r)<<18|(63&a)<<12|(63&s)<<6|63&u,o=65536}if(r<o||r>=55296&&r<=57343)throw new Error(i);if(r>=65536){if(r>1114111)throw new Error(i);r-=65536,e.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}e.push(String.fromCharCode(r))}return e.join("")}},function(t,e,n){t.exports=n(3).default},function(t,e,n){"use strict";n.r(e);for(var r,i=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:n,name:r,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}(),o=new i("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"7.0.3",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=function(){function t(t){this.options=t,this.receivers=t.receivers||o,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=Te.createScriptRequest(r.getPath(t,e)),o=r.receivers.create((function(e){if(r.receivers.remove(o),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var a=function(t){t||i.cleanup()},s=0;s<n.length;s++)n[s](e,a)}}));i.send(o)}},t.prototype.getRoot=function(t){var e=Te.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),u=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),c=new s({cdn_http:a.cdn_http,cdn_https:a.cdn_https,version:a.VERSION,suffix:a.dependency_suffix,receivers:u}),l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},d=function(t){var e,n=l.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=l.baseUrl+n.path),e?"See: "+e:""):""},h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),p=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),m=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),E=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),y=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),g=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),v=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),_=function(t){function e(e,n){var r=this.constructor,i=t.call(this,n)||this;return i.status=e,Object.setPrototypeOf(i,r.prototype),i}return h(e,t),e}(Error),T=function(t,e,n){var r,i=this;for(var o in(r=Te.createXHR()).open("POST",i.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(o,this.authOptions.headers[o]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t=void 0,e=!1;try{t=JSON.parse(r.responseText),e=!0}catch(t){n(new _(200,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+r.responseText),{auth:""})}e&&n(null,t)}else{var o=d("authenticationEndpoint");n(new _(r.status,"Unable to retrieve auth string from auth endpoint - received status: "+r.status+" from "+i.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+o),{auth:""})}},r.send(this.composeQuery(e)),r},I=String.fromCharCode,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A={},C=0,O=b.length;C<O;C++)A[b.charAt(C)]=C;var S=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?I(192|e>>>6)+I(128|63&e):I(224|e>>>12&15)+I(128|e>>>6&63)+I(128|63&e)},R=function(t){return t.replace(/[^\x00-\x7F]/g,S)},w=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b.charAt(n>>>18),b.charAt(n>>>12&63),e>=2?"=":b.charAt(n>>>6&63),e>=1?"=":b.charAt(63&n)].join("")},L=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,w)},D=function(){function t(t,e,n,r){var i=this;this.clear=e,this.timer=t((function(){i.timer&&(i.timer=r(i.timer))}),n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function P(t){window.clearTimeout(t)}function N(t){window.clearInterval(t)}var M=function(t){function e(e,n){return t.call(this,setTimeout,P,e,(function(t){return n(),null}))||this}return x(e,t),e}(D),k=function(t){function e(e,n){return t.call(this,setInterval,N,e,(function(t){return n(),t}))||this}return x(e,t),e}(D),F={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new M(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}};function H(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?t[o]=H(t[o]||{},i[o]):t[o]=i[o]}return t}function B(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(Q(arguments[e]));return t.join(" : ")}function G(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function V(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function U(t){var e=[];return V(t,(function(t,n){e.push(n)})),e}function j(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function q(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function W(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function z(t,e){var n={};return V(t,(function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)})),n}function X(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function Y(t){return e=function(t){return"object"==typeof t&&(t=Q(t)),encodeURIComponent((e=t.toString(),L(R(e))));var e},n={},V(t,(function(t,r){n[r]=e(t)})),n;var e,n}function K(t){var e,n,r=z(t,(function(t){return void 0!==t}));return q((e=Y(r),n=[],V(e,(function(t,e){n.push([e,t])})),n),F.method("join","=")).join("&")}function Q(t){try{return JSON.stringify(t)}catch(r){return JSON.stringify((e=[],n=[],function t(r,i){var o,a,s;switch(typeof r){case"object":if(!r)return null;for(o=0;o<e.length;o+=1)if(e[o]===r)return{$ref:n[o]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],o=0;o<r.length;o+=1)s[o]=t(r[o],i+"["+o+"]");else for(a in s={},r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=t(r[a],i+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return r}}(t,"$")))}var e,n}var J=new(function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=B.apply(this,arguments);if(Me.log)Me.log(r);else if(Me.logToConsole){var i=t.bind(this);i(r)}},t}()),Z=function(t,e,n){void 0!==this.authOptions.headers&&J.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),o=i.createElement("script");t.auth_callbacks[r]=function(t){n(null,t)};var a="Pusher.auth_callbacks['"+r+"']";o.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var s=i.getElementsByTagName("head")[0]||i.documentElement;s.insertBefore(o,s.firstChild)},$=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),tt=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=K(this.data),n=this.url+"/"+t.number+"?"+e;this.request=Te.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),et={name:"jsonp",getAgent:function(t,e){return function(n,r){var i="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,a=Te.createJSONPRequest(i,n),s=Te.ScriptReceivers.create((function(e,n){o.remove(s),a.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)}));a.send(s)}}};function nt(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function rt(t,e){return"/app/"+t+"?protocol="+a.PROTOCOL+"&client=js&version="+a.VERSION+(e?"&"+e:"")}var it={getInitial:function(t,e){return nt("ws",e,(e.httpPath||"")+rt(t,"flash=false"))}},ot={getInitial:function(t,e){return nt("http",e,(e.httpPath||"/pusher")+rt(t))}},at={getInitial:function(t,e){return nt("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return rt(t)}},st=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[ut(t)]},t.prototype.add=function(t,e,n){var r=ut(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[ut(t)]:U(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){j(t,(function(t){this._callbacks[t]=W(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){j(t,(function(t){delete this._callbacks[t]}),this)},t}();function ut(t){return"_"+t}var ct=function(){function t(t){this.callbacks=new st,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=W(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var i=this.callbacks.get(t),o=[];if(n?o.push(e,n):e&&o.push(e),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,o);else this.failThrough&&this.failThrough(t,e);return this},t}(),lt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.initialize=Te.transportConnectionInitializer,a.hooks=e,a.name=n,a.priority=r,a.key=i,a.options=o,a.state="new",a.timeline=o.timeline,a.activityTimeout=o.activityTimeout,a.id=a.timeline.generateUniqueID(),a}return lt(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return F.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),J.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(F.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return H({cid:this.id},t)},e}(ct),ht=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new dt(this.hooks,t,e,n,r)},t}(),ft=new ht({urls:it,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(Te.getWebSocketAPI())},isSupported:function(){return Boolean(Te.getWebSocketAPI())},getSocket:function(t){return Te.createWebSocket(t)}}),pt={urls:ot,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},mt=H({getSocket:function(t){return Te.HTTPFactory.createStreamingSocket(t)}},pt),Et=H({getSocket:function(t){return Te.HTTPFactory.createPollingSocket(t)}},pt),yt={isSupported:function(){return Te.isXHRSupported()}},gt={ws:ft,xhr_streaming:new ht(H({},mt,yt)),xhr_polling:new ht(H({},Et,yt))},vt=new ht({file:"sockjs",urls:at,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:c.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),_t={isSupported:function(t){return Te.isXDRSupported(t.useTLS)}},Tt=new ht(H({},mt,_t)),It=new ht(H({},Et,_t));gt.xdr_streaming=Tt,gt.xdr_polling=It,gt.sockjs=vt;var bt=gt,At=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=new(function(t){function e(){var e=t.call(this)||this,n=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),e}return At(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(ct)),Ot=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var i=this;r=H({},r,{activityTimeout:this.pingDelay});var o=this.transport.createConnection(t,e,n,r),a=null,s=function(){o.unbind("open",s),o.bind("closed",u),a=F.now()},u=function(t){if(o.unbind("closed",u),1002===t.code||1003===t.code)i.manager.reportDeath();else if(!t.wasClean&&a){var e=F.now()-a;e<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(e/2,i.minPingDelay))}};return o.bind("open",s),o},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),St={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=St.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},Rt=St,wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return wt(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),J.debug("Event sent",r),this.send(Rt.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=Rt.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(J.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",e)},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){V(e,(function(e,n){t.transport.unbind(n,e)}))};V(e,(function(e,n){t.transport.bind(n,e)}))},e.prototype.handleCloseEvent=function(t){var e=Rt.getCloseAction(t),n=Rt.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(ct),Dt=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=Rt.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new Lt(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=Rt.getCloseAction(e)||"backoff",r=Rt.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(H({transport:this.transport,action:t},e))},t}(),xt=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===Te.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=e.auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){t.authorizers=t.authorizers||Te.getAuthorizers(),t.authorizers[this.type].call(this,Te,e,n)},t}(),Pt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(Te.TimelineTransport.getAgent(this,t),e)},t}(),Nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(t){function e(e,n){var r=t.call(this,(function(t,n){J.debug("No callbacks on "+e+" for "+t)}))||this;return r.name=e,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Nt(e,t),e.prototype.authorize=function(t,e){return e(null,{auth:""})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new f("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=d("triggeringClientEvents");J.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,n=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,n,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,n){e?(t.subscriptionPending=!1,J.error(e.toString()),t.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof _?{status:e.status}:{}))):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(ct),kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kt(e,t),e.prototype.authorize=function(t,e){return Yt.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(Mt),Ht=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;V(this.members,(function(n,r){t(e.get(r))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.members=new Ht,r}return Bt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(!t){if(void 0===(e=e).channel_data){var i=d("authenticationEndpoint");return J.error("Invalid auth response for channel '"+r.name+"',expected 'channel_data' field. "+i),void n("Invalid auth response")}var o=JSON.parse(e.channel_data);r.members.setMyID(o.user_id)}n(t,e)}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}},e.prototype.handleInternalEvent=function(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Ft),Vt=n(1),Ut=n(0),jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.key=null,i.nacl=r,i}return jt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)n(t,e);else{var i=e.shared_secret;i?(r.key=Object(Ut.decode)(i),delete e.shared_secret,n(null,e)):n(new Error("No shared_secret key in auth payload for encrypted channel: "+r.name),null)}}))},e.prototype.trigger=function(t,e){throw new y("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,r=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var r=Object(Ut.decode)(e.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)J.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+r.length);else{var i=Object(Ut.decode)(e.nonce);if(i.length<this.nacl.secretbox.nonceLength)J.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+i.length);else{var o=this.nacl.secretbox.open(r,i,this.key);if(null===o)return J.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,a){e?J.error("Failed to make a request to the authEndpoint: "+a+". Unable to fetch new key, so dropping encrypted event"):null!==(o=n.nacl.secretbox.open(r,i,n.key))?n.emit(t,n.getDataToEmit(o)):J.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emit(t,this.getDataToEmit(o))}}}else J.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else J.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.getDataToEmit=function(t){var e=Object(Vt.decode)(t);try{return JSON.parse(e)}catch(t){return e}},e}(Ft),Wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=function(t){function e(e,n){var r=t.call(this)||this;r.state="initialized",r.connection=null,r.key=e,r.options=n,r.timeline=r.options.timeline,r.usingTLS=r.options.useTLS,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var i=Te.getNetwork();return i.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),i.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return Wt(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new M(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new M(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new M(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new M(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return H({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",t)},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return H({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),J.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(ct),Xt=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return Yt.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=d("encryptedChannelSupport");throw new y(n+". "+r)}return 0===t.indexOf("private-")?Yt.createPrivateChannel(t,e):0===t.indexOf("presence-")?Yt.createPresenceChannel(t,e):Yt.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(t){var e=[];return V(t,(function(t){e.push(t)})),e}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){V(this.channels,(function(t){t.disconnect()}))},t}(),Yt={createChannels:function(){return new Xt},createConnectionManager:function(t,e){return new zt(t,e)},createChannel:function(t,e){return new Mt(t,e)},createPrivateChannel:function(t,e){return new Ft(t,e)},createPresenceChannel:function(t,e){return new Gt(t,e)},createEncryptedChannel:function(t,e,n){return new qt(t,e,n)},createTimelineSender:function(t,e){return new Pt(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new xt(t,e)},createHandshake:function(t,e){return new Dt(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new Ot(t,e,n)}},Kt=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return Yt.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),Qt=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return X(this.strategies,F.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,i=0,o=this.timeout,a=null,s=function(u,c){c?e(null,c):(i+=1,n.loop&&(i%=r.length),i<r.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(r[i],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(r[i],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var i=null,o=null;return n.timeout>0&&(i=new M(n.timeout,(function(){o.abort(),r(!0)}))),o=t.connect(e,(function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))})),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(t){o.forceMinPriority(t)}}},t}(),Jt=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return X(this.strategies,F.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var r=q(t,(function(t,r,i,o){return t.connect(e,n(r,o))}));return{abort:function(){j(r,Zt)},forceMinPriority:function(t){j(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(r,i){n[t].error=r,r?function(t){return function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(j(n,(function(t){t.forceMinPriority(i.transport.priority)})),e(null,i))}}))},t}();function Zt(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var $t=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,r=function(t){var e=Te.getLocalStorage();if(e)try{var n=e[te(t)];if(n)return JSON.parse(n)}catch(e){ee(t)}return null}(n),i=[this.strategy];if(r&&r.timestamp+this.ttl>=F.now()){var o=this.transports[r.transport];o&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),i.push(new Qt([o],{timeout:2*r.latency+1e3,failFast:!0})))}var a=F.now(),s=i.pop().connect(t,(function r(o,u){o?(ee(n),i.length>0?(a=F.now(),s=i.pop().connect(t,r)):e(o)):(function(t,e,n){var r=Te.getLocalStorage();if(r)try{r[te(t)]=Q({timestamp:F.now(),transport:e,latency:n})}catch(t){}}(n,u.transport.name,F.now()-a),e(null,u))}));return{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t}();function te(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function ee(t){var e=Te.getLocalStorage();if(e)try{delete e[te(t)]}catch(t){}}var ne=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,i=new M(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}(),re=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),ie=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n},t}();function oe(t){return function(){return t.isSupported()}}var ae,se=function(t,e,n){var r={};function i(e,i,o,a,s){var u=n(t,e,i,o,a,s);return r[e]=u,u}var o,a=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),s=Object.assign({},a,{useTLS:!0}),u=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},l=new Kt({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),d=new Kt({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),h=i("ws","ws",3,a,l),f=i("wss","ws",3,s,l),p=i("sockjs","sockjs",1,u),m=i("xhr_streaming","xhr_streaming",1,u,d),E=i("xdr_streaming","xdr_streaming",1,u,d),y=i("xhr_polling","xhr_polling",1,u),g=i("xdr_polling","xdr_polling",1,u),v=new Qt([h],c),_=new Qt([f],c),T=new Qt([p],c),I=new Qt([new re(oe(m),m,E)],c),b=new Qt([new re(oe(y),y,g)],c),A=new Qt([new re(oe(I),new Jt([I,new ne(b,{delay:4e3})]),b)],c),C=new re(oe(A),A,T);return o=e.useTLS?new Jt([v,new ne(C,{delay:2e3})]):new Jt([v,new ne(_,{delay:2e3}),new ne(C,{delay:5e3})]),new $t(new ie(new re(oe(h),o,C)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},ue={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new p),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=function(t){function e(e,n,r){var i=t.call(this)||this;return i.hooks=e,i.method=n,i.url=r,i}return ce(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},Te.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(Te.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(ct);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(ae||(ae={}));var de=ae,he=1;function fe(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+he++}function pe(t){return Math.floor(Math.random()*t)}var me,Ee=function(){function t(t,e){this.hooks=t,this.session=pe(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(pe(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=de.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==de.OPEN)return!1;try{return Te.createSocketRequest("POST",fe((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=de.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===de.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,r;this.readyState===de.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=de.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===de.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=Te.createSocketRequest("POST",fe(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){F.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),ye={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ge={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ve={getRequest:function(t){var e=new(Te.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},_e={createStreamingSocket:function(t){return this.createSocket(ye,t)},createPollingSocket:function(t){return this.createSocket(ge,t)},createSocket:function(t,e){return new Ee(t,e)},createXHR:function(t,e){return this.createRequest(ve,t,e)},createRequest:function(t,e,n){return new le(t,e,n)},createXDR:function(t,e){return this.createRequest(ue,t,e)}},Te={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:u,getDefaultStrategy:se,Transports:bt,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),c.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:_e,TimelineTransport:et,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():c.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:T,jsonp:Z}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,e){return new tt(t,e)},createScriptRequest:function(t){return new $(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Ct},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(me||(me={}));var Ie=me,be=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(H({},e,{timestamp:F.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(Ie.ERROR,t)},t.prototype.info=function(t){this.log(Ie.INFO,t)},t.prototype.debug=function(t){this.log(Ie.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=H({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,(function(t,r){t||n.sent++,e&&e(t,r)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Ae=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return Ce(new v,e);if(this.priority<t)return Ce(new m,e);var r=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function(){i.unbind("initialized",a),i.connect()},s=function(){o=Yt.createHandshake(i,(function(t){r=!0,l(),e(null,t)}))},u=function(t){l(),e(t)},c=function(){var t;l(),t=Q(i),e(new E(t))},l=function(){i.unbind("initialized",a),i.unbind("open",s),i.unbind("error",u),i.unbind("closed",c)};return i.bind("initialized",a),i.bind("open",s),i.bind("error",u),i.bind("closed",c),i.initialize(),{abort:function(){r||(l(),o?o.close():i.close())},forceMinPriority:function(t){r||n.priority<t&&(o?o.close():i.close())}}},t}();function Ce(t,e){return F.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var Oe=Te.Transports,Se=function(t,e,n,r,i,o){var a,s=Oe[n];if(!s)throw new g(n);return t.enabledTransports&&-1===G(t.enabledTransports,e)||t.disabledTransports&&-1!==G(t.disabledTransports,e)?a=Re:(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),a=new Ae(e,r,o?o.getAssistant(s):s,i)),a},Re={isSupported:function(){return!1},connect:function(t,e){var n=F.defer((function(){e(new v)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function we(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":a.httpHost}function Le(t){return t.wsHost?t.wsHost:t.cluster?De(t.cluster):De(a.cluster)}function De(t){return"ws-"+t+".pusher.com"}function xe(t){return"https:"===Te.getProtocol()||!1!==t.forceTLS}function Pe(t){return"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats}var Ne=function(){function t(e,n){var r,i,o=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var s=d("javascriptQuickStart");J.warn("You should always specify a cluster when connecting. "+s)}"disableStats"in n&&J.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=(i={activityTimeout:(r=n).activityTimeout||a.activityTimeout,authEndpoint:r.authEndpoint||a.authEndpoint,authTransport:r.authTransport||a.authTransport,cluster:r.cluster||a.cluster,httpPath:r.httpPath||a.httpPath,httpPort:r.httpPort||a.httpPort,httpsPort:r.httpsPort||a.httpsPort,pongTimeout:r.pongTimeout||a.pongTimeout,statsHost:r.statsHost||a.stats_host,unavailableTimeout:r.unavailableTimeout||a.unavailableTimeout,wsPath:r.wsPath||a.wsPath,wsPort:r.wsPort||a.wsPort,wssPort:r.wssPort||a.wssPort,enableStats:Pe(r),httpHost:we(r),useTLS:xe(r),wsHost:Le(r)},"auth"in r&&(i.auth=r.auth),"authorizer"in r&&(i.authorizer=r.authorizer),"disabledTransports"in r&&(i.disabledTransports=r.disabledTransports),"enabledTransports"in r&&(i.enabledTransports=r.enabledTransports),"ignoreNullOrigin"in r&&(i.ignoreNullOrigin=r.ignoreNullOrigin),"timelineParams"in r&&(i.timelineParams=r.timelineParams),"nacl"in r&&(i.nacl=r.nacl),i),this.channels=Yt.createChannels(),this.global_emitter=new ct,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new be(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ie.INFO,version:a.VERSION}),this.config.enableStats&&(this.timelineSender=Yt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Te.TimelineTransport.name})),this.connection=Yt.createConnectionManager(this.key,{getStrategy:function(t){return Te.getDefaultStrategy(o.config,t,Se)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=o.channel(t.channel);n&&n.handleEvent(t)}e||o.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){o.channels.disconnect()})),this.connection.bind("disconnected",(function(){o.channels.disconnect()})),this.connection.bind("error",(function(t){J.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return U(z({ws:Te.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new k(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&e.subscribed&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=Te,t.ScriptReceivers=Te.ScriptReceivers,t.DependenciesReceivers=Te.DependenciesReceivers,t.auth_callbacks=Te.auth_callbacks,t}(),Me=e.default=Ne;Te.setup(Ne)}])},t.exports=e()}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,i,o]=t[c],s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[u])))?n.splice(u--,1):(s=!1,o<a&&(a=o));s&&(t.splice(c--,1),e=i())}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={985:0,123:0,233:0,33:0,170:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,u]=n,c=0;for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var l=u(r);for(e&&e(n);c<a.length;c++)o=a[c],r.o(t,o)&&t[o]&&t[o][0](),t[a[c]]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[123,233,33,170],(()=>r(216))),r.O(void 0,[123,233,33,170],(()=>r(792))),r.O(void 0,[123,233,33,170],(()=>r(542))),r.O(void 0,[123,233,33,170],(()=>r(127)));var i=r.O(void 0,[123,233,33,170],(()=>r(94)));i=r.O(i)})();