/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t,e={997:(t,e,n)=>{"use strict";var r=n(136),i=n(180),o=n.n(i),a=n(965),s=n.n(a),c=n(521),u=n.n(c),l=n(863),d=n.n(l),h=n(424),f=n.n(h),p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)};function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},E.apply(this,arguments)};function g(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function y(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function v(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function I(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var _=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();var A=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,I([],T(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new _({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}();function b(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}function C(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(S(n,e))return n;n=n.parentElement}return null}function S(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}var O,R={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},w={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},L={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};var D=["touchstart","pointerdown","mousedown","keydown"],x=["touchend","pointerup","mouseup","contextmenu"],N=[],P=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(t){r.activateImpl(t)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return R},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return w},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return L},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars()}))}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){t.layoutInternal(),t.layoutFrame=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var e,n;if(t){try{for(var r=v(D),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var e,n;if("keydown"===t.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var r=v(x),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.deregisterRootHandlers=function(){var t,e;try{for(var n=v(D),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.activateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,e;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=v(x),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterDocumentInteractionHandler(i,this.deactivateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activateImpl=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var r=this.previousActivationEvent;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&N.length>0&&N.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState():(void 0!==t&&(N.push(t.target),this.registerDeactivationHandlers(t)),n.wasElementMadeActive=this.checkElementMadeActive(t),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame((function(){N=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive(t),n.wasElementMadeActive&&e.animateActivation()),n.wasElementMadeActive||(e.activationState=e.defaultActivationState())})))}}},e.prototype.checkElementMadeActive=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,a=o.FG_DEACTIVATION,s=o.FG_ACTIVATION,c=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var u="",l="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),h=d.startPoint,f=d.endPoint;u=h.x+"px, "+h.y+"px",l=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,u),this.adapter.updateCssVariable(i,l),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer=setTimeout((function(){t.activationTimerCallback()}),c)},e.prototype.getFgTranslationCoordinates=function(){var t,e=this.activationState,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,a=e.y,s=o+n.left,c=a+n.top;if("touchstart"===t.type){var u=t;r=u.changedTouches[0].pageX-s,i=u.changedTouches[0].pageY-c}else{var l=t;r=l.pageX-s,i=l.pageY-c}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout((function(){t.adapter.removeClass(n)}),L.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout((function(){return t.previousActivationEvent=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,e=this.activationState;if(e.isActivated){var n=E({},e);e.isProgrammatic?(requestAnimationFrame((function(){t.animateDeactivation(n)})),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame((function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(n),t.resetActivationState()})))}},e.prototype.animateDeactivation=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){var t=this;this.frame=this.adapter.computeBoundingRect();var n=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame.width,2)+Math.pow(t.frame.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize=r-1:this.initialSize=r,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(r,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},e}(_);var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return m(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,r=t.CSS;if("boolean"==typeof O&&!e)return O;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(O=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,b())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,b())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return S(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,b())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,b())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(t){this.isUnbounded=Boolean(t),this.setUnbounded()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new P(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.isUnbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))},e}(A),k={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},F=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return k},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var n=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.float=function(t){var n=e.cssClasses,r=n.LABEL_FLOAT_ABOVE,i=n.LABEL_SHAKE;t?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.setRequired=function(t){var n=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e}(_);var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.shake=function(t){this.foundation.shake(t)},e.prototype.float=function(t){this.foundation.float(t)},e.prototype.setRequired=function(t){this.foundation.setRequired(t)},e.prototype.getWidth=function(){return this.foundation.getWidth()},e.prototype.getDefaultFoundation=function(){var t=this;return new F({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},getWidth:function(){return function(t){var e=t;if(null!==e.offsetParent)return e.scrollWidth;var n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}(t.root)},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)}})},e}(A),B={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},G=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.transitionEndHandler=function(t){r.handleTransitionEnd(t)},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return B},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(B.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(B.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(B.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var e=this.adapter.hasClass(B.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&e&&(this.adapter.removeClass(B.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(B.LINE_RIPPLE_DEACTIVATING))},e}(_);var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new G({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setStyle:function(e,n){return t.root.style.setProperty(e,n)},registerEventHandler:function(e,n){return t.listen(e,n)},deregisterEventHandler:function(e,n){return t.unlisten(e,n)}})},e}(A),V={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},q={NOTCH_ELEMENT_PADDING:8},j={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},W=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"strings",{get:function(){return V},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return j},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return q},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var n=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=q.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(n)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e}(_);var z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(V.NOTCH_ELEMENT_SELECTOR);var t=this.root.querySelector("."+F.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root.classList.add(j.OUTLINE_UPGRADED),requestAnimationFrame((function(){t.style.transitionDuration=""}))):this.root.classList.add(j.NO_LABEL)},e.prototype.notch=function(t){this.foundation.notch(t)},e.prototype.closeNotch=function(){this.foundation.closeNotch()},e.prototype.getDefaultFoundation=function(){var t=this;return new W({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNotchWidthProperty:function(e){t.notchElement.style.setProperty("width",e+"px")},removeNotchWidthProperty:function(){t.notchElement.style.removeProperty("width")}})},e}(A),X={ROOT:"mdc-text-field-character-counter"},Y={ROOT_SELECTOR:"."+X.ROOT},K=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return X},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Y},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.setCounterValue=function(t,e){t=Math.min(t,e),this.adapter.setContent(t+" / "+e)},e}(_);var Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new K({setContent:function(e){t.root.textContent=e}})},e}(A),Z={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},J={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},$={LABEL_SCALE:.75},tt=["pattern","min","max","required","step","minlength","maxlength"],et=["color","date","datetime-local","month","range","time","week"],nt=["mousedown","touchstart"],rt=["click","keydown"],it=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,E(E({},e.defaultAdapter),n))||this;return i.isFocused=!1,i.receivedUserInput=!1,i.valid=!0,i.useNativeValidation=!0,i.validateOnValueChange=!0,i.helperText=r.helperText,i.characterCounter=r.characterCounter,i.leadingIcon=r.leadingIcon,i.trailingIcon=r.trailingIcon,i.inputFocusHandler=function(){i.activateFocus()},i.inputBlurHandler=function(){i.deactivateFocus()},i.inputInputHandler=function(){i.handleInput()},i.setPointerXOffset=function(t){i.setTransformOrigin(t)},i.textFieldInteractionHandler=function(){i.handleTextFieldInteraction()},i.validationAttributeChangeHandler=function(t){i.handleValidationAttributeChange(t)},i}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return J},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Z},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return $},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return et.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e,n,r;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var i=v(nt),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInputInteractionHandler(a,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var s=v(rt),c=s.next();!c.done;c=s.next()){a=c.value;this.adapter.registerTextFieldInteractionHandler(a,this.textFieldInteractionHandler)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,e,n,r;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var i=v(nt),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.deregisterInputInteractionHandler(a,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var s=v(rt),c=s.next();!c.done;c=s.next()){a=c.value;this.adapter.deregisterTextFieldInteractionHandler(a,this.textFieldInteractionHandler)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var e=this;t.some((function(t){return tt.indexOf(t)>-1&&(e.styleValidity(!0),e.adapter.setLabelRequired(e.getNativeInput().required),!0)})),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var e=this.adapter.getLabelWidth()*$.LABEL_SCALE;this.adapter.notchOutline(e)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var e=t.touches,n=e?e[0]:t,r=n.target.getBoundingClientRect(),i=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(i)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var e=this.isValid();this.styleValidity(e)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var e=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(e)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var e=this.getNativeInput().maxLength;if(-1===e)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,e)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var n=e.cssClasses.INVALID;if(t?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var r=this.helperText.isVisible(),i=this.helperText.getId();r&&i?this.adapter.setInputAttr(Z.ARIA_DESCRIBEDBY,i):this.adapter.removeInputAttr(Z.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var n=e.cssClasses.FOCUSED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.styleDisabled=function(t){var n=e.cssClasses,r=n.DISABLED,i=n.INVALID;t?(this.adapter.addClass(r),this.adapter.removeClass(i)):this.adapter.removeClass(r),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var n=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(_);var ot={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},at={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+ot.ROOT},st=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ot},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return at},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(at.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.isPersistent=function(){return this.adapter.hasClass(ot.HELPER_TEXT_PERSISTENT)},e.prototype.setPersistent=function(t){t?this.adapter.addClass(ot.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(ot.HELPER_TEXT_PERSISTENT)},e.prototype.isValidation=function(){return this.adapter.hasClass(ot.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidation=function(t){t?this.adapter.addClass(ot.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ot.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(at.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var e=this.adapter.hasClass(ot.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(ot.HELPER_TEXT_VALIDATION_MSG)&&!t;n?(this.showToScreenReader(),"alert"===this.adapter.getAttr(at.ROLE)?this.refreshAlertRole():this.adapter.setAttr(at.ROLE,"alert")):this.adapter.removeAttr(at.ROLE),e||n||this.hide()},e.prototype.hide=function(){this.adapter.setAttr(at.ARIA_HIDDEN,"true")},e.prototype.refreshAlertRole=function(){var t=this;this.adapter.removeAttr(at.ROLE),requestAnimationFrame((function(){t.adapter.setAttr(at.ROLE,"alert")}))},e}(_);var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new st({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}})},e}(A),ut={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},lt={ROOT:"mdc-text-field__icon"},dt=["click","keydown"],ht=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.savedTabIndex=null,r.interactionHandler=function(t){r.handleInteraction(t)},r}return m(e,t),Object.defineProperty(e,"strings",{get:function(){return ut},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return lt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=v(dt),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.registerInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,e;try{for(var n=v(dt),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",ut.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&(t.preventDefault(),this.adapter.notifyIconAction())},e}(_);var ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new ht({getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(ht.strings.ICON_EVENT,{},!0)}})},e}(A),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o,a){void 0===t&&(t=function(t,e){return new M(t,e)}),void 0===e&&(e=function(t){return new U(t)}),void 0===n&&(n=function(t){return new ct(t)}),void 0===r&&(r=function(t){return new Q(t)}),void 0===i&&(i=function(t){return new ft(t)}),void 0===o&&(o=function(t){return new H(t)}),void 0===a&&(a=function(t){return new z(t)}),this.input=this.root.querySelector(Z.INPUT_SELECTOR);var s=this.root.querySelector(Z.LABEL_SELECTOR);this.label=s?o(s):null;var c=this.root.querySelector(Z.LINE_RIPPLE_SELECTOR);this.lineRipple=c?e(c):null;var u=this.root.querySelector(Z.OUTLINE_SELECTOR);this.outline=u?a(u):null;var l=st.strings,d=this.root.nextElementSibling,h=d&&d.classList.contains(J.HELPER_LINE),f=h&&d&&d.querySelector(l.ROOT_SELECTOR);this.helperText=f?n(f):null;var p=K.strings,m=this.root.querySelector(p.ROOT_SELECTOR);!m&&h&&d&&(m=d.querySelector(p.ROOT_SELECTOR)),this.characterCounter=m?r(m):null;var E=this.root.querySelector(Z.LEADING_ICON_SELECTOR);this.leadingIcon=E?i(E):null;var g=this.root.querySelector(Z.TRAILING_ICON_SELECTOR);this.trailingIcon=g?i(g):null,this.prefix=this.root.querySelector(Z.PREFIX_SELECTOR),this.suffix=this.root.querySelector(Z.SUFFIX_SELECTOR),this.ripple=this.createRipple(t)},e.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),t.prototype.destroy.call(this)},e.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.input.required},set:function(t){this.input.required=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this.input.pattern},set:function(t){this.input.pattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minLength",{get:function(){return this.input.minLength},set:function(t){this.input.minLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(t){t<0?this.input.removeAttribute("maxLength"):this.input.maxLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.input.min},set:function(t){this.input.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.input.max},set:function(t){this.input.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.input.step},set:function(t){this.input.step=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconAriaLabel",{set:function(t){this.foundation.setTrailingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconContent",{set:function(t){this.foundation.setTrailingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNativeValidation",{set:function(t){this.foundation.setUseNativeValidation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(t){this.prefix&&(this.prefix.textContent=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(t){this.suffix&&(this.suffix.textContent=t)},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.layout=function(){var t=this.foundation.shouldFloat;this.foundation.notchOutline(t)},e.prototype.getDefaultFoundation=function(){var t=E(E(E(E(E({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new it(t,this.getFoundationMap())},e.prototype.getRootAdapterMethods=function(){var t=this;return{addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},registerTextFieldInteractionHandler:function(e,n){t.listen(e,n)},deregisterTextFieldInteractionHandler:function(e,n){t.unlisten(e,n)},registerValidationAttributeChangeHandler:function(e){var n=new MutationObserver((function(t){return e(function(t){return t.map((function(t){return t.attributeName})).filter((function(t){return t}))}(t))}));return n.observe(t.input,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(t){t.disconnect()}}},e.prototype.getInputAdapterMethods=function(){var t=this;return{getNativeInput:function(){return t.input},setInputAttr:function(e,n){t.input.setAttribute(e,n)},removeInputAttr:function(e){t.input.removeAttribute(e)},isFocused:function(){return document.activeElement===t.input},registerInputInteractionHandler:function(e,n){t.input.addEventListener(e,n,b())},deregisterInputInteractionHandler:function(e,n){t.input.removeEventListener(e,n,b())}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{floatLabel:function(e){t.label&&t.label.float(e)},getLabelWidth:function(){return t.label?t.label.getWidth():0},hasLabel:function(){return Boolean(t.label)},shakeLabel:function(e){t.label&&t.label.shake(e)},setLabelRequired:function(e){t.label&&t.label.setRequired(e)}}},e.prototype.getLineRippleAdapterMethods=function(){var t=this;return{activateLineRipple:function(){t.lineRipple&&t.lineRipple.activate()},deactivateLineRipple:function(){t.lineRipple&&t.lineRipple.deactivate()},setLineRippleTransformOrigin:function(e){t.lineRipple&&t.lineRipple.setRippleCenter(e)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{closeOutline:function(){t.outline&&t.outline.closeNotch()},hasOutline:function(){return Boolean(t.outline)},notchOutline:function(e){t.outline&&t.outline.notch(e)}}},e.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},e.prototype.createRipple=function(t){var e=this,n=this.root.classList.contains(J.TEXTAREA),r=this.root.classList.contains(J.OUTLINED);if(n||r)return null;var i=E(E({},M.createAdapter(this)),{isSurfaceActive:function(){return S(e.input,":active")},registerInteractionHandler:function(t,n){e.input.addEventListener(t,n,b())},deregisterInteractionHandler:function(t,n){e.input.removeEventListener(t,n,b())}});return t(this.root,new P(i))},e}(A),mt={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},Et={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"},gt=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.hasToggledAriaLabel=!1,r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return mt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Et},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this.adapter.getAttr(Et.DATA_ARIA_LABEL_ON),e=this.adapter.getAttr(Et.DATA_ARIA_LABEL_OFF);if(t&&e){if(null!==this.adapter.getAttr(Et.ARIA_PRESSED))throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(Et.ARIA_PRESSED,String(this.isOn()))},e.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},e.prototype.isOn=function(){return this.adapter.hasClass(mt.ICON_BUTTON_ON)},e.prototype.toggle=function(t){if(void 0===t&&(t=!this.isOn()),t?this.adapter.addClass(mt.ICON_BUTTON_ON):this.adapter.removeClass(mt.ICON_BUTTON_ON),this.hasToggledAriaLabel){var e=t?this.adapter.getAttr(Et.DATA_ARIA_LABEL_ON):this.adapter.getAttr(Et.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(Et.ARIA_LABEL,e||"")}else this.adapter.setAttr(Et.ARIA_PRESSED,""+t)},e}(_);var yt=gt.strings,vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rippleComponent=e.createRipple(),e}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleClick=function(){t.foundation.handleClick()},this.listen("click",this.handleClick)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.ripple.destroy(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new gt({addClass:function(e){return t.root.classList.add(e)},hasClass:function(e){return t.root.classList.contains(e)},notifyChange:function(e){t.emit(yt.CHANGE_EVENT,e)},removeClass:function(e){return t.root.classList.remove(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)}})},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"on",{get:function(){return this.foundation.isOn()},set:function(t){this.foundation.toggle(t)},enumerable:!1,configurable:!0}),e.prototype.createRipple=function(){var t=new M(this.root);return t.unbounded=!0,t},e}(A),Tt={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},It={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function _t(t){return Boolean(t.document)&&"function"==typeof t.document.createElement}function At(t,e){if(_t(t)&&e in Tt){var n=t.document.createElement("div"),r=Tt[e],i=r.standard,o=r.prefixed;return i in n.style?i:o}return e}function bt(t,e){if(_t(t)&&e in It){var n=t.document.createElement("div"),r=It[e],i=r.standard,o=r.prefixed;return r.cssProperty in n.style?i:o}return e}var Ct={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},St={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",DATA_INDETERMINATE_ATTR:"data-indeterminate",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},Ot={ANIM_END_LATCH_MS:250},Rt=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.currentCheckState=St.TRANSITION_STATE_INIT,r.currentAnimationClass="",r.animEndLatchTimer=0,r.enableAnimationEndHandler=!1,r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ct},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return St},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ot},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.currentCheckState=this.determineCheckState(),this.updateAriaChecked(),this.adapter.addClass(Ct.UPGRADED)},e.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer)},e.prototype.setDisabled=function(t){this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(Ct.DISABLED):this.adapter.removeClass(Ct.DISABLED)},e.prototype.handleAnimationEnd=function(){var t=this;this.enableAnimationEndHandler&&(clearTimeout(this.animEndLatchTimer),this.animEndLatchTimer=setTimeout((function(){t.adapter.removeClass(t.currentAnimationClass),t.enableAnimationEndHandler=!1}),Ot.ANIM_END_LATCH_MS))},e.prototype.handleChange=function(){this.transitionCheckState()},e.prototype.transitionCheckState=function(){if(this.adapter.hasNativeControl()){var t=this.currentCheckState,e=this.determineCheckState();if(t!==e){this.updateAriaChecked();var n=Ct.SELECTED;e===St.TRANSITION_STATE_UNCHECKED?this.adapter.removeClass(n):this.adapter.addClass(n),this.currentAnimationClass.length>0&&(clearTimeout(this.animEndLatchTimer),this.adapter.forceLayout(),this.adapter.removeClass(this.currentAnimationClass)),this.currentAnimationClass=this.getTransitionAnimationClass(t,e),this.currentCheckState=e,this.adapter.isAttachedToDOM()&&this.currentAnimationClass.length>0&&(this.adapter.addClass(this.currentAnimationClass),this.enableAnimationEndHandler=!0)}}},e.prototype.determineCheckState=function(){var t=St.TRANSITION_STATE_INDETERMINATE,e=St.TRANSITION_STATE_CHECKED,n=St.TRANSITION_STATE_UNCHECKED;return this.adapter.isIndeterminate()?t:this.adapter.isChecked()?e:n},e.prototype.getTransitionAnimationClass=function(t,n){var r=St.TRANSITION_STATE_INIT,i=St.TRANSITION_STATE_CHECKED,o=St.TRANSITION_STATE_UNCHECKED,a=e.cssClasses,s=a.ANIM_UNCHECKED_CHECKED,c=a.ANIM_UNCHECKED_INDETERMINATE,u=a.ANIM_CHECKED_UNCHECKED,l=a.ANIM_CHECKED_INDETERMINATE,d=a.ANIM_INDETERMINATE_CHECKED,h=a.ANIM_INDETERMINATE_UNCHECKED;switch(t){case r:return n===o?"":n===i?d:h;case o:return n===i?s:c;case i:return n===o?u:l;default:return n===i?d:h}},e.prototype.updateAriaChecked=function(){this.adapter.isIndeterminate()?this.adapter.setNativeControlAttr(St.ARIA_CHECKED_ATTR,St.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter.removeNativeControlAttr(St.ARIA_CHECKED_ATTR)},e}(_);var wt=["checked","indeterminate"],Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rippleSurface=e.createRipple(),e}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.rippleSurface},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this.getNativeControl().checked},set:function(t){this.getNativeControl().checked=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return this.getNativeControl().indeterminate},set:function(t){this.getNativeControl().indeterminate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.getNativeControl().disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.getNativeControl().value},set:function(t){this.getNativeControl().value=t},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){var t=St.DATA_INDETERMINATE_ATTR;this.getNativeControl().indeterminate="true"===this.getNativeControl().getAttribute(t),this.getNativeControl().removeAttribute(t)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleChange=function(){t.foundation.handleChange()},this.handleAnimationEnd=function(){t.foundation.handleAnimationEnd()},this.getNativeControl().addEventListener("change",this.handleChange),this.listen(bt(window,"animationend"),this.handleAnimationEnd),this.installPropertyChangeHooks()},e.prototype.destroy=function(){this.rippleSurface.destroy(),this.getNativeControl().removeEventListener("change",this.handleChange),this.unlisten(bt(window,"animationend"),this.handleAnimationEnd),this.uninstallPropertyChangeHooks(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new Rt({addClass:function(e){return t.root.classList.add(e)},forceLayout:function(){return t.root.offsetWidth},hasNativeControl:function(){return!!t.getNativeControl()},isAttachedToDOM:function(){return Boolean(t.root.parentNode)},isChecked:function(){return t.checked},isIndeterminate:function(){return t.indeterminate},removeClass:function(e){t.root.classList.remove(e)},removeNativeControlAttr:function(e){t.getNativeControl().removeAttribute(e)},setNativeControlAttr:function(e,n){t.getNativeControl().setAttribute(e,n)},setNativeControlDisabled:function(e){t.getNativeControl().disabled=e}})},e.prototype.createRipple=function(){var t=this,e=E(E({},M.createAdapter(this)),{deregisterInteractionHandler:function(e,n){t.getNativeControl().removeEventListener(e,n,b())},isSurfaceActive:function(){return S(t.getNativeControl(),":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(e,n){t.getNativeControl().addEventListener(e,n,b())}});return new M(this.root,new P(e))},e.prototype.installPropertyChangeHooks=function(){var t,e,n=this,r=this.getNativeControl(),i=Object.getPrototypeOf(r),o=function(t){var e=Object.getOwnPropertyDescriptor(i,t);if(!Dt(e))return{value:void 0};var o=e.get,a={configurable:e.configurable,enumerable:e.enumerable,get:o,set:function(t){e.set.call(r,t),n.foundation.handleChange()}};Object.defineProperty(r,t,a)};try{for(var a=v(wt),s=a.next();!s.done;s=a.next()){var c=o(s.value);if("object"==typeof c)return c.value}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}},e.prototype.uninstallPropertyChangeHooks=function(){var t,e,n=this.getNativeControl(),r=Object.getPrototypeOf(n);try{for(var i=v(wt),o=i.next();!o.done;o=i.next()){var a=o.value,s=Object.getOwnPropertyDescriptor(r,a);if(!Dt(s))return;Object.defineProperty(n,a,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.getNativeControl=function(){var t=St.NATIVE_CONTROL_SELECTOR,e=this.root.querySelector(t);if(!e)throw new Error("Checkbox component requires a "+t+" element");return e},e}(A);function Dt(t){return!!t&&"function"==typeof t.set}var xt={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},Nt={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Pt={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},Mt=xt.OPENING,kt=xt.OPEN,Ft=xt.CLOSING,Ht=Nt.REASON_ACTION,Bt=Nt.REASON_DISMISS,Gt=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.opened=!1,r.animationFrame=0,r.animationTimer=0,r.autoDismissTimer=0,r.autoDismissTimeoutMs=Pt.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape=!0,r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return xt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Pt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(Mt),this.adapter.removeClass(kt),this.adapter.removeClass(Ft)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(Ft),this.adapter.addClass(Mt),this.adapter.announce(),this.runNextAnimationFrame((function(){t.adapter.addClass(kt),t.animationTimer=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),e!==Pt.INDETERMINATE&&(t.autoDismissTimer=setTimeout((function(){t.close(Bt)}),e))}),Pt.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(xt.CLOSING),this.adapter.removeClass(xt.OPEN),this.adapter.removeClass(xt.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Pt.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.opened},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},e.prototype.setTimeoutMs=function(t){var e=Pt.MIN_AUTO_DISMISS_TIMEOUT_MS,n=Pt.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===Pt.INDETERMINATE||t<=n&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+"–"+n+"\n        (or "+Pt.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(Bt)},e.prototype.handleActionButtonClick=function(t){this.close(Ht)},e.prototype.handleActionIconClick=function(t){this.close(Bt)},e.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(xt.OPENING),this.adapter.removeClass(xt.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e}(_);var Ut=Pt.ARIA_LIVE_DELAY_MS,Vt=Nt.ARIA_LIVE_LABEL_TEXT_ATTR;function qt(t,e){void 0===e&&(e=t);var n=t.getAttribute("aria-live"),r=e.textContent.trim();r&&n&&(t.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(Vt,r),setTimeout((function(){t.setAttribute("aria-live",n),e.removeAttribute(Vt),e.textContent=r}),Ut))}var jt,Wt,zt=Nt.SURFACE_SELECTOR,Xt=Nt.LABEL_SELECTOR,Yt=Nt.ACTION_SELECTOR,Kt=Nt.DISMISS_SELECTOR,Qt=Nt.OPENING_EVENT,Zt=Nt.OPENED_EVENT,Jt=Nt.CLOSING_EVENT,$t=Nt.CLOSED_EVENT,te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(){return qt}),this.announce=t()},e.prototype.initialSyncWithDOM=function(){var t=this;this.surfaceEl=this.root.querySelector(zt),this.labelEl=this.root.querySelector(Xt),this.actionEl=this.root.querySelector(Yt),this.handleKeyDown=function(e){t.foundation.handleKeyDown(e)},this.handleSurfaceClick=function(e){var n=e.target;t.isActionButton(n)?t.foundation.handleActionButtonClick(e):t.isActionIcon(n)&&t.foundation.handleActionIconClick(e)},this.registerKeyDownHandler(this.handleKeyDown),this.registerSurfaceClickHandler(this.handleSurfaceClick)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterKeyDownHandler(this.handleKeyDown),this.deregisterSurfaceClickHandler(this.handleSurfaceClick)},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new Gt({addClass:function(e){t.root.classList.add(e)},announce:function(){t.announce(t.labelEl)},notifyClosed:function(e){return t.emit($t,e?{reason:e}:{})},notifyClosing:function(e){return t.emit(Jt,e?{reason:e}:{})},notifyOpened:function(){return t.emit(Zt,{})},notifyOpening:function(){return t.emit(Qt,{})},removeClass:function(e){return t.root.classList.remove(e)}})},Object.defineProperty(e.prototype,"timeoutMs",{get:function(){return this.foundation.getTimeoutMs()},set:function(t){this.foundation.setTimeoutMs(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeOnEscape",{get:function(){return this.foundation.getCloseOnEscape()},set:function(t){this.foundation.setCloseOnEscape(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelText",{get:function(){return this.labelEl.textContent},set:function(t){this.labelEl.textContent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionButtonText",{get:function(){return this.actionEl.textContent},set:function(t){this.actionEl.textContent=t},enumerable:!1,configurable:!0}),e.prototype.registerKeyDownHandler=function(t){this.listen("keydown",t)},e.prototype.deregisterKeyDownHandler=function(t){this.unlisten("keydown",t)},e.prototype.registerSurfaceClickHandler=function(t){this.surfaceEl.addEventListener("click",t)},e.prototype.deregisterSurfaceClickHandler=function(t){this.surfaceEl.removeEventListener("click",t)},e.prototype.isActionButton=function(t){return Boolean(C(t,Yt))},e.prototype.isActionIcon=function(t){return Boolean(C(t,Kt))},e}(A),ee={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},ne=((jt={})[""+ee.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",jt[""+ee.LIST_ITEM_CLASS]="mdc-list-item",jt[""+ee.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",jt[""+ee.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",jt[""+ee.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",jt[""+ee.ROOT]="mdc-list",jt),re=((Wt={})[""+ee.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",Wt[""+ee.LIST_ITEM_CLASS]="mdc-deprecated-list-item",Wt[""+ee.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",Wt[""+ee.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",Wt[""+ee.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",Wt[""+ee.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",Wt[""+ee.ROOT]="mdc-deprecated-list",Wt),ie={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+ee.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+ee.LIST_ITEM_CLASS+" a,\n    ."+re[ee.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+re[ee.LIST_ITEM_CLASS]+" a\n  ",DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+ee.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+ee.LIST_ITEM_CLASS+" a,\n    ."+ee.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+ee.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled),\n    .'+re[ee.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+re[ee.LIST_ITEM_CLASS]+" a,\n    ."+re[ee.LIST_ITEM_CLASS]+' input[type="radio"]:not(:disabled),\n    .'+re[ee.LIST_ITEM_CLASS]+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},oe={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},ae="Unknown",se="Backspace",ce="Enter",ue="Spacebar",le="PageUp",de="PageDown",he="End",fe="Home",pe="ArrowLeft",me="ArrowUp",Ee="ArrowRight",ge="ArrowDown",ye="Delete",ve="Escape",Te="Tab",Ie=new Set;Ie.add(se),Ie.add(ce),Ie.add(ue),Ie.add(le),Ie.add(de),Ie.add(he),Ie.add(fe),Ie.add(pe),Ie.add(me),Ie.add(Ee),Ie.add(ge),Ie.add(ye),Ie.add(ve),Ie.add(Te);var _e=8,Ae=13,be=32,Ce=33,Se=34,Oe=35,Re=36,we=37,Le=38,De=39,xe=40,Ne=46,Pe=27,Me=9,ke=new Map;ke.set(_e,se),ke.set(Ae,ce),ke.set(be,ue),ke.set(Ce,le),ke.set(Se,de),ke.set(Oe,he),ke.set(Re,fe),ke.set(we,pe),ke.set(Le,me),ke.set(De,Ee),ke.set(xe,ge),ke.set(Ne,ye),ke.set(Pe,ve),ke.set(Me,Te);var Fe=new Set;function He(t){var e=t.key;if(Ie.has(e))return e;var n=ke.get(t.keyCode);return n||ae}Fe.add(le),Fe.add(de),Fe.add(he),Fe.add(fe),Fe.add(pe),Fe.add(me),Fe.add(Ee),Fe.add(ge);var Be=["input","button","textarea","select"],Ge=function(t){var e=t.target;if(e){var n=(""+e.tagName).toLowerCase();-1===Be.indexOf(n)&&t.preventDefault()}};function Ue(t,e){var n,r=t.nextChar,i=t.focusItemAtIndex,o=t.sortedIndexByFirstChar,a=t.focusedItemIndex,s=t.skipFocus,c=t.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout((function(){qe(e)}),oe.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+r,n=1===e.typeaheadBuffer.length?function(t,e,n,r){var i=r.typeaheadBuffer[0],o=t.get(i);if(!o)return-1;if(i===r.currentFirstChar&&o[r.sortedIndexCursor].index===e){r.sortedIndexCursor=(r.sortedIndexCursor+1)%o.length;var a=o[r.sortedIndexCursor].index;if(!n(a))return a}r.currentFirstChar=i;var s,c=-1;for(s=0;s<o.length;s++)if(!n(o[s].index)){c=s;break}for(;s<o.length;s++)if(o[s].index>e&&!n(o[s].index)){c=s;break}if(-1!==c)return r.sortedIndexCursor=c,o[r.sortedIndexCursor].index;return-1}(o,a,c,e):function(t,e,n){var r=n.typeaheadBuffer[0],i=t.get(r);if(!i)return-1;var o=i[n.sortedIndexCursor];if(0===o.text.lastIndexOf(n.typeaheadBuffer,0)&&!e(o.index))return o.index;var a=(n.sortedIndexCursor+1)%i.length,s=-1;for(;a!==n.sortedIndexCursor;){var c=i[a],u=0===c.text.lastIndexOf(n.typeaheadBuffer,0),l=!e(c.index);if(u&&l){s=a;break}a=(a+1)%i.length}if(-1!==s)return n.sortedIndexCursor=s,i[n.sortedIndexCursor].index;return-1}(o,c,e),-1===n||s||i(n),n}function Ve(t){return t.typeaheadBuffer.length>0}function qe(t){t.typeaheadBuffer=""}function je(t,e){var n=t.event,r=t.isTargetListItem,i=t.focusedItemIndex,o=t.focusItemAtIndex,a=t.sortedIndexByFirstChar,s=t.isItemAtIndexDisabled,c="ArrowLeft"===He(n),u="ArrowUp"===He(n),l="ArrowRight"===He(n),d="ArrowDown"===He(n),h="Home"===He(n),f="End"===He(n),p="Enter"===He(n),m="Spacebar"===He(n);return n.ctrlKey||n.metaKey||c||u||l||d||h||f||p?-1:m||1!==n.key.length?m?(r&&Ge(n),r&&Ve(e)?Ue({focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},e):-1):-1:(Ge(n),Ue({focusItemAtIndex:o,focusedItemIndex:i,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},e))}var We=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.wrapFocus=!1,r.isVertical=!0,r.isSingleSelectionList=!1,r.selectedIndex=oe.UNSET_INDEX,r.focusedItemIndex=oe.UNSET_INDEX,r.useActivatedClass=!1,r.useSelectedAttr=!1,r.ariaCurrentAttrValue=null,r.isCheckboxList=!1,r.isRadioList=!1,r.hasTypeahead=!1,r.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},r.sortedIndexByFirstChar=new Map,r}return m(e,t),Object.defineProperty(e,"strings",{get:function(){return ie},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return ee},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return oe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();t!==oe.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,ee.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t)},e.prototype.getSelectedIndexFromDOM=function(){for(var t=oe.UNSET_INDEX,e=this.adapter.getListItemCount(),n=0;n<e;n++){var r=this.adapter.listItemAtIndexHasClass(n,ee.LIST_ITEM_SELECTED_CLASS),i=this.adapter.listItemAtIndexHasClass(n,ee.LIST_ITEM_ACTIVATED_CLASS);if(r||i){t=n;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&Ve(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,e){var n=(void 0===e?{}:e).forceUpdate;this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t):this.isRadioList?this.setRadioAtIndex(t):this.setSingleSelectionAtIndex(t,{forceUpdate:n}))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var e=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout((function(){e.adapter.isFocusInsideList()||e.setTabindexToFirstSelectedOrFocusedItem()}),0)},e.prototype.handleKeydown=function(t,e,n){var r=this,i="ArrowLeft"===He(t),o="ArrowUp"===He(t),a="ArrowRight"===He(t),s="ArrowDown"===He(t),c="Home"===He(t),u="End"===He(t),l="Enter"===He(t),d="Spacebar"===He(t),h="A"===t.key||"a"===t.key;if(this.adapter.isRootFocused()){o||u?(t.preventDefault(),this.focusLastElement()):(s||c)&&(t.preventDefault(),this.focusFirstElement()),this.hasTypeahead&&je({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:-1,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,ee.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}else{var f=this.adapter.getFocusedElementIndex();if(!(-1===f&&(f=n)<0)){if(this.isVertical&&s||!this.isVertical&&a)Ge(t),this.focusNextElement(f);else if(this.isVertical&&o||!this.isVertical&&i)Ge(t),this.focusPrevElement(f);else if(c)Ge(t),this.focusFirstElement();else if(u)Ge(t),this.focusLastElement();else if(h&&t.ctrlKey&&this.isCheckboxList)t.preventDefault(),this.toggleAll(this.selectedIndex===oe.UNSET_INDEX?[]:this.selectedIndex);else if((l||d)&&e){var p=t.target;if(p&&"A"===p.tagName&&l)return;if(Ge(t),this.adapter.listItemAtIndexHasClass(f,ee.LIST_ITEM_DISABLED_CLASS))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(f),this.adapter.notifyAction(f))}if(this.hasTypeahead)je({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,ee.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}}},e.prototype.handleClick=function(t,e){t!==oe.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,ee.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList()&&this.setSelectedIndexOnAction(t,e),this.adapter.notifyAction(t)))},e.prototype.focusNextElement=function(t){var e=t+1;if(e>=this.adapter.getListItemCount()){if(!this.wrapFocus)return t;e=0}return this.focusItemAtIndex(e),e},e.prototype.focusPrevElement=function(t){var e=t-1;if(e<0){if(!this.wrapFocus)return t;e=this.adapter.getListItemCount()-1}return this.focusItemAtIndex(e),e},e.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var t=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(t),t},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,e){this.isIndexValid(t)&&(e?(this.adapter.removeClassForElementIndex(t,ee.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,ie.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,ee.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,ie.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,e){var n=(void 0===e?{}:e).forceUpdate;if(this.selectedIndex!==t||n){var r=ee.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(r=ee.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==oe.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,r),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==oe.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,r),this.selectedIndex=t}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===oe.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,ie.ARIA_CURRENT));var e=null!==this.ariaCurrentAttrValue,n=e?ie.ARIA_CURRENT:ie.ARIA_SELECTED;if(this.selectedIndex!==oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),t!==oe.UNSET_INDEX){var r=e?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,n,r)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?ie.ARIA_SELECTED:ie.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t){var e=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),this.selectedIndex!==oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,e,"false"),this.adapter.setAttributeForElementIndex(t,e,"true"),this.selectedIndex=t},e.prototype.setCheckboxAtIndex=function(t){for(var e=this.getSelectionAttribute(),n=0;n<this.adapter.getListItemCount();n++){var r=!1;t.indexOf(n)>=0&&(r=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(n,r),this.adapter.setAttributeForElementIndex(n,e,r?"true":"false")}this.selectedIndex=t},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===oe.UNSET_INDEX&&0!==t?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===t||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?"number"==typeof this.selectedIndex&&this.selectedIndex!==oe.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce((function(t,e){return Math.min(t,e)})):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t){var e=this;if(t instanceof Array){if(!this.isCheckboxList)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===t.length||t.some((function(t){return e.isIndexInRange(t)}))}if("number"==typeof t){if(this.isCheckboxList)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===oe.UNSET_INDEX}return!1},e.prototype.isIndexInRange=function(t){var e=this.adapter.getListItemCount();return t>=0&&t<e},e.prototype.setSelectedIndexOnAction=function(t,e){void 0===e&&(e=!0),this.isCheckboxList?this.toggleCheckboxAtIndex(t,e):this.setSelectedIndex(t)},e.prototype.toggleCheckboxAtIndex=function(t,e){var n=this.getSelectionAttribute(),r=this.adapter.isCheckboxCheckedAtIndex(t);e&&(r=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,r)),this.adapter.setAttributeForElementIndex(t,n,r?"true":"false");var i=this.selectedIndex===oe.UNSET_INDEX?[]:this.selectedIndex.slice();r?i.push(t):i=i.filter((function(e){return e!==t})),this.selectedIndex=i},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.toggleAll=function(t){var e=this.adapter.getListItemCount();if(t.length===e)this.setCheckboxAtIndex([]);else{for(var n=[],r=0;r<e;r++)(!this.adapter.listItemAtIndexHasClass(r,ee.LIST_ITEM_DISABLED_CLASS)||t.indexOf(r)>-1)&&n.push(r);this.setCheckboxAtIndex(n)}},e.prototype.typeaheadMatchItem=function(t,e,n){var r=this;return void 0===n&&(n=!1),Ue({focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:e||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,ee.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return function(t,e){for(var n=new Map,r=0;r<t;r++){var i=e(r).trim();if(i){var o=i[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:i.toLowerCase(),index:r})}}return n.forEach((function(t){t.sort((function(t,e){return t.index-e.index}))})),n}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){qe(this.typeaheadState)},e}(_);var ze,Xe,Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation.setVerticalOrientation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[ee.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation.setWrapFocus(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.foundation.setHasTypeahead(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation.setSingleSelection(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=ne:S(this.root,ie.DEPRECATED_SELECTOR)?this.classNameMap=re:this.classNameMap=Object.values(ee).reduce((function(t,e){return t[e]=e,t}),{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},e.prototype.layout=function(){var t=this.root.getAttribute(ie.ARIA_ORIENTATION);this.vertical=t!==ie.ARIA_ORIENTATION_HORIZONTAL;var e="."+this.classNameMap[ee.LIST_ITEM_CLASS]+":not([tabindex])",n=ie.FOCUSABLE_CHILD_ELEMENTS,r=this.root.querySelectorAll(e);r.length&&Array.prototype.forEach.call(r,(function(t){t.setAttribute("tabindex","-1")}));var i=this.root.querySelectorAll(n);i.length&&Array.prototype.forEach.call(i,(function(t){t.setAttribute("tabindex","-1")})),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},e.prototype.getPrimaryText=function(t){var e,n=t.querySelector("."+this.classNameMap[ee.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||n)return null!==(e=null==n?void 0:n.textContent)&&void 0!==e?e:"";var r=t.querySelector("."+this.classNameMap[ee.LIST_ITEM_TEXT_CLASS]);return r&&r.textContent||""},e.prototype.initializeListType=function(){var t=this;if(this.isInteractive=S(this.root,ie.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var e=Array.from(this.root.querySelectorAll(ie.SELECTED_ITEM_SELECTOR),(function(e){return t.listElements.indexOf(e)}));S(this.root,ie.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=e:e.length>0&&(this.selectedIndex=e[0])}else{var n=this.root.querySelectorAll(ie.ARIA_ROLE_CHECKBOX_SELECTOR),r=this.root.querySelector(ie.ARIA_CHECKED_RADIO_SELECTOR);if(n.length){var i=this.root.querySelectorAll(ie.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(i,(function(e){return t.listElements.indexOf(e)}))}else r&&(this.selectedIndex=this.listElements.indexOf(r))}},e.prototype.setEnabled=function(t,e){this.foundation.setEnabled(t,e)},e.prototype.typeaheadMatchItem=function(t,e){return this.foundation.typeaheadMatchItem(t,e,!0)},e.prototype.getDefaultFoundation=function(){var t=this,e={addClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.add(t.classNameMap[n])},focusItemAtIndex:function(e){var n=t.listElements[e];n&&n.focus()},getAttributeForElementIndex:function(e,n){return t.listElements[e].getAttribute(n)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},getPrimaryTextAtIndex:function(e){return t.getPrimaryText(t.listElements[e])},hasCheckboxAtIndex:function(e){return!!t.listElements[e].querySelector(ie.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(e){return!!t.listElements[e].querySelector(ie.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(e){return t.listElements[e].querySelector(ie.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root!==document.activeElement&&t.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root},listItemAtIndexHasClass:function(e,n){return t.listElements[e].classList.contains(t.classNameMap[n])},notifyAction:function(e){t.emit(ie.ACTION_EVENT,{index:e},!0)},removeClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.remove(t.classNameMap[n])},setAttributeForElementIndex:function(e,n,r){var i=t.listElements[e];i&&i.setAttribute(n,r)},setCheckedCheckboxOrRadioAtIndex:function(e,n){var r=t.listElements[e].querySelector(ie.CHECKBOX_RADIO_SELECTOR);r.checked=n;var i=document.createEvent("Event");i.initEvent("change",!0,!0),r.dispatchEvent(i)},setTabIndexForListItemChildren:function(e,n){var r=t.listElements[e],i=ie.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(r.querySelectorAll(i),(function(t){t.setAttribute("tabindex",n)}))}};return new We(e)},e.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[ee.LIST_ITEM_CLASS]+'[tabindex="0"]')){var t=this.initialFocusIndex();-1!==t&&(this.listElements[t].tabIndex=0)}},e.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if("number"==typeof this.selectedIndex&&this.selectedIndex!==oe.UNSET_INDEX)return this.selectedIndex;var t=this.root.querySelector("."+this.classNameMap[ee.LIST_ITEM_CLASS]+":not(."+this.classNameMap[ee.LIST_ITEM_DISABLED_CLASS]+")");return null===t?-1:this.getListItemIndex(t)},e.prototype.getListItemIndex=function(t){var e=C(t,"."+this.classNameMap[ee.LIST_ITEM_CLASS]+", ."+this.classNameMap[ee.ROOT]);return e&&S(e,"."+this.classNameMap[ee.LIST_ITEM_CLASS])?this.listElements.indexOf(e):-1},e.prototype.handleFocusInEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusIn(e)},e.prototype.handleFocusOutEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusOut(e)},e.prototype.handleKeydownEvent=function(t){var e=this.getListItemIndex(t.target),n=t.target;this.foundation.handleKeydown(t,n.classList.contains(this.classNameMap[ee.LIST_ITEM_CLASS]),e)},e.prototype.handleClickEvent=function(t){var e=this.getListItemIndex(t.target),n=!S(t.target,ie.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(e,n)},e}(A),Ke={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Qe={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Ze={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"}(ze||(ze={})),function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"}(Xe||(Xe={}));var Je=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.isHorizontallyCenteredOnViewport=!1,r.maxHeight=0,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=Xe.TOP_START,r.originCorner=Xe.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ke},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Qe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ze},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Xe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,r=t.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(r)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^ze.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.isFixed=function(){return this.isFixedPosition},e.prototype.setAbsolutePosition=function(t,e){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(e)?e:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(t){this.isHorizontallyCenteredOnViewport=t},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.adapter.addClass(e.cssClasses.OPEN),t.openAnimationEndTimerId=setTimeout((function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()}),Ze.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var n=this;if(void 0===t&&(t=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(e.cssClasses.OPEN),n.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),Ze.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var e=t.target;this.adapter.isElementInContainer(e)||this.close()},e.prototype.handleKeydown=function(t){var e=t.keyCode;("Escape"===t.key||27===e)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),r=this.getMenuSurfaceMaxHeight(n),i=this.hasBit(n,ze.BOTTOM)?"bottom":"top",o=this.hasBit(n,ze.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(n),s=this.getVerticalOriginOffset(n),c=this.measurements,u=c.anchorSize,l=c.surfaceSize,d=((t={})[o]=a,t[i]=s,t);u.width/l.width>Ze.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(d),this.adapter.setTransformOrigin(o+" "+i),this.adapter.setPosition(d),this.adapter.setMaxHeight(r?r+"px":""),this.hasBit(n,ze.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),e=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),r=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:e,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:r}},e.prototype.getoriginCorner=function(){var t,n,r=this.originCorner,i=this.measurements,o=i.viewportDistance,a=i.anchorSize,s=i.surfaceSize,c=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,ze.BOTTOM)?(t=o.top-c+this.anchorMargin.bottom,n=o.bottom-c-this.anchorMargin.bottom):(t=o.top-c+this.anchorMargin.top,n=o.bottom-c+a.height-this.anchorMargin.top),!(n-s.height>0)&&t>n&&(r=this.setBit(r,ze.BOTTOM));var u,l,d=this.adapter.isRtl(),h=this.hasBit(this.anchorCorner,ze.FLIP_RTL),f=this.hasBit(this.anchorCorner,ze.RIGHT)||this.hasBit(r,ze.RIGHT),p=!1;(p=d&&h?!f:f)?(u=o.left+a.width+this.anchorMargin.right,l=o.right-this.anchorMargin.right):(u=o.left+this.anchorMargin.left,l=o.right+a.width-this.anchorMargin.left);var m=u-s.width>0,E=l-s.width>0,g=this.hasBit(r,ze.FLIP_RTL)&&this.hasBit(r,ze.RIGHT);return E&&g&&d||!m&&g?r=this.unsetBit(r,ze.RIGHT):(m&&p&&d||m&&!p&&f||!E&&u>=l)&&(r=this.setBit(r,ze.RIGHT)),r},e.prototype.getMenuSurfaceMaxHeight=function(t){if(this.maxHeight>0)return this.maxHeight;var n=this.measurements.viewportDistance,r=0,i=this.hasBit(t,ze.BOTTOM),o=this.hasBit(this.anchorCorner,ze.BOTTOM),a=e.numbers.MARGIN_TO_EDGE;return i?(r=n.top+this.anchorMargin.top-a,o||(r+=this.measurements.anchorSize.height)):(r=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,o&&(r-=this.measurements.anchorSize.height)),r},e.prototype.getHorizontalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,ze.RIGHT),r=this.hasBit(this.anchorCorner,ze.RIGHT);if(n){var i=r?e.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?i-(this.measurements.viewportSize.width-this.measurements.bodySize.width):i}return r?e.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,ze.BOTTOM),r=this.hasBit(this.anchorCorner,ze.BOTTOM);return n?r?e.height-this.anchorMargin.top:-this.anchorMargin.bottom:r?e.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var e,n,r=this.measurements,i=r.windowScroll,o=r.viewportDistance,a=r.surfaceSize,s=r.viewportSize,c=Object.keys(t);try{for(var u=v(c),l=u.next();!l.done;l=u.next()){var d=l.value,h=t[d]||0;!this.isHorizontallyCenteredOnViewport||"left"!==d&&"right"!==d?(h+=o[d],this.isFixedPosition||("top"===d?h+=i.y:"bottom"===d?h-=i.y:"left"===d?h+=i.x:h-=i.x),t[d]=h):t[d]=(s.width-a.width)/2}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}},e.prototype.maybeRestoreFocus=function(){var t=this,e=this.adapter.isFocused(),n=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(e||n)&&setTimeout((function(){t.adapter.restoreFocus()}),Ze.TOUCH_EVENT_WAIT_MS)},e.prototype.hasBit=function(t,e){return Boolean(t&e)},e.prototype.setBit=function(t,e){return t|e},e.prototype.unsetBit=function(t,e){return t^e},e.prototype.isFinite=function(t){return"number"==typeof t&&isFinite(t)},e}(_);var $e,tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this,e=this.root.parentElement;this.anchorElement=e&&e.classList.contains(Ke.ANCHOR)?e:null,this.root.classList.contains(Ke.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(e){t.foundation.handleKeydown(e)},this.handleBodyClick=function(e){t.foundation.handleBodyClick(e)},this.registerBodyClickListener=function(){document.body.addEventListener("click",t.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",t.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen(Qe.OPENED_EVENT,this.registerBodyClickListener),this.listen(Qe.CLOSED_EVENT,this.deregisterBodyClickListener)},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(Qe.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(Qe.CLOSED_EVENT,this.deregisterBodyClickListener),t.prototype.destroy.call(this)},e.prototype.isOpen=function(){return this.foundation.isOpen()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=!1),this.foundation.close(t)},Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.foundation.setQuickOpen(t)},enumerable:!1,configurable:!0}),e.prototype.setIsHoisted=function(t){this.foundation.setIsHoisted(t)},e.prototype.setMenuSurfaceAnchorElement=function(t){this.anchorElement=t},e.prototype.setFixedPosition=function(t){t?this.root.classList.add(Ke.FIXED):this.root.classList.remove(Ke.FIXED),this.foundation.setFixedPosition(t)},e.prototype.setAbsolutePosition=function(t,e){this.foundation.setAbsolutePosition(t,e),this.setIsHoisted(!0)},e.prototype.setAnchorCorner=function(t){this.foundation.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.foundation.setAnchorMargin(t)},e.prototype.getDefaultFoundation=function(){var t=this,e={addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},hasAnchor:function(){return!!t.anchorElement},notifyClose:function(){return t.emit(Je.strings.CLOSED_EVENT,{})},notifyClosing:function(){t.emit(Je.strings.CLOSING_EVENT,{})},notifyOpen:function(){return t.emit(Je.strings.OPENED_EVENT,{})},isElementInContainer:function(e){return t.root.contains(e)},isRtl:function(){return"rtl"===getComputedStyle(t.root).getPropertyValue("direction")},setTransformOrigin:function(e){var n=At(window,"transform")+"-origin";t.root.style.setProperty(n,e)},isFocused:function(){return document.activeElement===t.root},saveFocus:function(){t.previousFocus=document.activeElement},restoreFocus:function(){t.root.contains(document.activeElement)&&t.previousFocus&&t.previousFocus.focus&&t.previousFocus.focus()},getInnerDimensions:function(){return{width:t.root.offsetWidth,height:t.root.offsetHeight}},getAnchorDimensions:function(){return t.anchorElement?t.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(e){var n=t.root;n.style.left="left"in e?e.left+"px":"",n.style.right="right"in e?e.right+"px":"",n.style.top="top"in e?e.top+"px":"",n.style.bottom="bottom"in e?e.bottom+"px":""},setMaxHeight:function(e){t.root.style.maxHeight=e}};return new Je(e)},e}(A),en={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},nn={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},rn={FOCUS_ROOT_INDEX:-1};!function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"}($e||($e={}));var on=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.closeAnimationEndTimerId=0,r.defaultFocusState=$e.LIST_ROOT,r.selectedIndex=-1,r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return en},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return nn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return rn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var e=t.key,n=t.keyCode;("Tab"===e||9===n)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var e=this,n=this.adapter.getElementIndex(t);if(!(n<0)){this.adapter.notifySelected({index:n});var r="true"===this.adapter.getAttributeFromElementAtIndex(n,nn.SKIP_RESTORE_FOCUS);this.adapter.closeSurface(r),this.closeAnimationEndTimerId=setTimeout((function(){var n=e.adapter.getElementIndex(t);n>=0&&e.adapter.isSelectableItemAtIndex(n)&&e.setSelectedIndex(n)}),Je.numbers.TRANSITION_CLOSE_DURATION)}},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case $e.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case $e.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case $e.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var e=this.adapter.getSelectedSiblingOfItemAtIndex(t);e>=0&&(this.adapter.removeAttributeFromElementAtIndex(e,nn.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(e,en.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,en.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,nn.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=t},e.prototype.setEnabled=function(t,e){this.validatedIndex(t),e?(this.adapter.removeClassFromElementAtIndex(t,ee.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,nn.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,ee.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,nn.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex=function(t){var e=this.adapter.getMenuItemCount();if(!(t>=0&&t<e))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(_);var an,sn,cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e){void 0===t&&(t=function(t){return new tn(t)}),void 0===e&&(e=function(t){return new Ye(t)}),this.menuSurfaceFactory=t,this.listFactory=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.menuSurface=this.menuSurfaceFactory(this.root);var e=this.root.querySelector(nn.LIST_SELECTOR);e?(this.list=this.listFactory(e),this.list.wrapFocus=!0):this.list=null,this.handleKeydown=function(e){t.foundation.handleKeydown(e)},this.handleItemAction=function(e){t.foundation.handleItemAction(t.items[e.detail.index])},this.handleMenuSurfaceOpened=function(){t.foundation.handleMenuSurfaceOpened()},this.menuSurface.listen(Je.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.listen("keydown",this.handleKeydown),this.listen(We.strings.ACTION_EVENT,this.handleItemAction)},e.prototype.destroy=function(){this.list&&this.list.destroy(),this.menuSurface.destroy(),this.menuSurface.unlisten(Je.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.unlisten("keydown",this.handleKeydown),this.unlisten(We.strings.ACTION_EVENT,this.handleItemAction),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"open",{get:function(){return this.menuSurface.isOpen()},set:function(t){t?this.menuSurface.open():this.menuSurface.close()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{get:function(){return!!this.list&&this.list.wrapFocus},set:function(t){this.list&&(this.list.wrapFocus=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.list&&(this.list.hasTypeahead=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return!!this.list&&this.list.typeaheadInProgress},enumerable:!1,configurable:!0}),e.prototype.typeaheadMatchItem=function(t,e){return this.list?this.list.typeaheadMatchItem(t,e):-1},e.prototype.layout=function(){this.list&&this.list.layout()},Object.defineProperty(e.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.list&&(this.list.singleSelection=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.list?this.list.selectedIndex:oe.UNSET_INDEX},set:function(t){this.list&&(this.list.selectedIndex=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.menuSurface.quickOpen=t},enumerable:!1,configurable:!0}),e.prototype.setDefaultFocusState=function(t){this.foundation.setDefaultFocusState(t)},e.prototype.setAnchorCorner=function(t){this.menuSurface.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.menuSurface.setAnchorMargin(t)},e.prototype.setSelectedIndex=function(t){this.foundation.setSelectedIndex(t)},e.prototype.setEnabled=function(t,e){this.foundation.setEnabled(t,e)},e.prototype.getOptionByIndex=function(t){return t<this.items.length?this.items[t]:null},e.prototype.getPrimaryTextAtIndex=function(t){var e=this.getOptionByIndex(t);return e&&this.list&&this.list.getPrimaryText(e)||""},e.prototype.setFixedPosition=function(t){this.menuSurface.setFixedPosition(t)},e.prototype.setIsHoisted=function(t){this.menuSurface.setIsHoisted(t)},e.prototype.setAbsolutePosition=function(t,e){this.menuSurface.setAbsolutePosition(t,e)},e.prototype.setAnchorElement=function(t){this.menuSurface.anchorElement=t},e.prototype.getDefaultFoundation=function(){var t=this;return new on({addClassToElementAtIndex:function(e,n){t.items[e].classList.add(n)},removeClassFromElementAtIndex:function(e,n){t.items[e].classList.remove(n)},addAttributeToElementAtIndex:function(e,n,r){t.items[e].setAttribute(n,r)},removeAttributeFromElementAtIndex:function(e,n){t.items[e].removeAttribute(n)},getAttributeFromElementAtIndex:function(e,n){return t.items[e].getAttribute(n)},elementContainsClass:function(t,e){return t.classList.contains(e)},closeSurface:function(e){t.menuSurface.close(e)},getElementIndex:function(e){return t.items.indexOf(e)},notifySelected:function(e){t.emit(nn.SELECTED_EVENT,{index:e.index,item:t.items[e.index]})},getMenuItemCount:function(){return t.items.length},focusItemAtIndex:function(e){t.items[e].focus()},focusListRoot:function(){t.root.querySelector(nn.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(e){return!!C(t.items[e],"."+en.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(e){var n=C(t.items[e],"."+en.MENU_SELECTION_GROUP).querySelector("."+en.MENU_SELECTED_LIST_ITEM);return n?t.items.indexOf(n):-1}})},e}(A);function un(t,e,n){var r=function(t,e){var n=new Map;ln.has(t)||ln.set(t,{isEnabled:!0,getObservers:function(t){var e=n.get(t)||[];return n.has(t)||n.set(t,e),e},installedProperties:new Set});var r=ln.get(t);if(r.installedProperties.has(e))return r;var i=function(t,e){var n,r=t;for(;r&&!(n=Object.getOwnPropertyDescriptor(r,e));)r=Object.getPrototypeOf(r);return n}(t,e)||{configurable:!0,enumerable:!0,value:t[e],writable:!0},o=E({},i),a=i.get,s=i.set;if("value"in i){delete o.value,delete o.writable;var c=i.value;a=function(){return c},i.writable&&(s=function(t){c=t})}a&&(o.get=function(){return a.call(this)});s&&(o.set=function(t){var n,i,o=a?a.call(this):t;if(s.call(this,t),r.isEnabled&&(!a||t!==o))try{for(var c=v(r.getObservers(e)),u=c.next();!u.done;u=c.next()){(0,u.value)(t,o)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}});return r.installedProperties.add(e),Object.defineProperty(t,e,o),r}(t,e),i=r.getObservers(e);return i.push(n),function(){i.splice(i.indexOf(n),1)}}!function(t){t.PROCESSING="mdc-switch--processing",t.SELECTED="mdc-switch--selected",t.UNSELECTED="mdc-switch--unselected"}(an||(an={})),function(t){t.RIPPLE=".mdc-switch__ripple"}(sn||(sn={}));var ln=new WeakMap;function dn(t,e){var n=ln.get(t);n&&(n.isEnabled=e)}var hn,fn=function(t){function e(e){var n=t.call(this,e)||this;return n.unobserves=new Set,n}return m(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unobserve()},e.prototype.observe=function(t,e){var n,r,i=this,o=[];try{for(var a=v(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c].bind(this);o.push(this.observeProperty(t,c,u))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var l=function(){var t,e;try{for(var n=v(o),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}i.unobserves.delete(l)};return this.unobserves.add(l),l},e.prototype.observeProperty=function(t,e,n){return un(t,e,n)},e.prototype.setObserversEnabled=function(t,e){dn(t,e)},e.prototype.unobserve=function(){var t,e;try{for(var n=v(I([],T(this.unobserves))),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e}(_),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.observe(this.adapter.state,{disabled:this.onDisabledChange,processing:this.onProcessingChange,selected:this.onSelectedChange})},e.prototype.initFromDOM=function(){this.setObserversEnabled(this.adapter.state,!1),this.adapter.state.selected=this.adapter.hasClass(an.SELECTED),this.onSelectedChange(),this.adapter.state.disabled=this.adapter.isDisabled(),this.adapter.state.processing=this.adapter.hasClass(an.PROCESSING),this.setObserversEnabled(this.adapter.state,!0),this.stopProcessingIfDisabled()},e.prototype.onDisabledChange=function(){this.adapter.setDisabled(this.adapter.state.disabled)},e.prototype.onProcessingChange=function(){this.toggleClass(this.adapter.state.processing,an.PROCESSING)},e.prototype.onSelectedChange=function(){this.adapter.setAriaChecked(String(this.adapter.state.selected)),this.toggleClass(this.adapter.state.selected,an.SELECTED),this.toggleClass(!this.adapter.state.selected,an.UNSELECTED)},e.prototype.toggleClass=function(t,e){t?this.adapter.addClass(e):this.adapter.removeClass(e)},e}(function(t){function e(e){var n=t.call(this,e)||this;return n.handleClick=n.handleClick.bind(n),n}return m(e,t),e.prototype.init=function(){this.observe(this.adapter.state,{disabled:this.stopProcessingIfDisabled,processing:this.stopProcessingIfDisabled})},e.prototype.handleClick=function(){this.adapter.state.disabled||(this.adapter.state.selected=!this.adapter.state.selected)},e.prototype.stopProcessingIfDisabled=function(){this.adapter.state.disabled&&(this.adapter.state.processing=!1)},e}(fn)),mn=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.root=e,r}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(){this.ripple=new M(this.root,this.createRippleFoundation())},e.prototype.initialSyncWithDOM=function(){var t=this.root.querySelector(sn.RIPPLE);if(!t)throw new Error("Switch "+sn.RIPPLE+" element is required.");this.rippleElement=t,this.root.addEventListener("click",this.foundation.handleClick),this.foundation.initFromDOM()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ripple.destroy(),this.root.removeEventListener("click",this.foundation.handleClick)},e.prototype.getDefaultFoundation=function(){return new pn(this.createAdapter())},e.prototype.createAdapter=function(){var t=this;return{addClass:function(e){t.root.classList.add(e)},hasClass:function(e){return t.root.classList.contains(e)},isDisabled:function(){return t.root.disabled},removeClass:function(e){t.root.classList.remove(e)},setAriaChecked:function(e){return t.root.setAttribute("aria-checked",e)},setDisabled:function(e){t.root.disabled=e},state:this}},e.prototype.createRippleFoundation=function(){return new P(this.createRippleAdapter())},e.prototype.createRippleAdapter=function(){var t=this;return E(E({},M.createAdapter(this)),{computeBoundingRect:function(){return t.rippleElement.getBoundingClientRect()},isUnbounded:function(){return!0}})},e}(A),En="mdc-dom-focus-sentinel",gn=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return t.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(0===t.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},t.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+En)).forEach((function(t){t.parentElement.removeChild(t)})),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},t.prototype.wrapTabFocus=function(t){var e=this,n=this.createSentinel(),r=this.createSentinel();n.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[n.length-1].focus()})),r.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[0].focus()})),t.insertBefore(n,t.children[0]),t.appendChild(r)},t.prototype.focusInitialElement=function(t,e){var n=0;e&&(n=Math.max(t.indexOf(e),0)),t[n].focus()},t.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(t){var e="true"===t.getAttribute("aria-disabled")||null!=t.getAttribute("disabled")||null!=t.getAttribute("hidden")||"true"===t.getAttribute("aria-hidden"),n=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(En)&&!e,r=!1;if(n){var i=getComputedStyle(t);r="none"===i.display||"hidden"===i.visibility}return n&&!r}))},t.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(En),t},t}(),yn=function(){function t(){this.rafIDs=new Map}return t.prototype.request=function(t,e){var n=this;this.cancel(t);var r=requestAnimationFrame((function(r){n.rafIDs.delete(t),e(r)}));this.rafIDs.set(t,r)},t.prototype.cancel=function(t){var e=this.rafIDs.get(t);e&&(cancelAnimationFrame(e),this.rafIDs.delete(t))},t.prototype.cancelAll=function(){var t=this;this.rafIDs.forEach((function(e,n){t.cancel(n)}))},t.prototype.getQueue=function(){var t=[];return this.rafIDs.forEach((function(e,n){t.push(n)})),t},t}(),vn={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},Tn={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},In={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(t){t.POLL_SCROLL_POS="poll_scroll_position",t.POLL_LAYOUT_CHANGE="poll_layout_change"}(hn||(hn={}));var _n=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.dialogOpen=!1,r.isFullscreen=!1,r.animationFrame=0,r.animationTimer=0,r.escapeKeyAction=Tn.CLOSE_ACTION,r.scrimClickAction=Tn.CLOSE_ACTION,r.autoStackButtons=!0,r.areButtonsStacked=!1,r.suppressDefaultPressSelector=Tn.SUPPRESS_DEFAULT_PRESS_SELECTOR,r.animFrame=new yn,r.contentScrollHandler=function(){r.handleScrollEvent()},r.windowResizeHandler=function(){r.layout()},r.windowOrientationChangeHandler=function(){r.layout()},r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return vn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Tn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return In},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(vn.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(vn.FULLSCREEN)},e.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},e.prototype.open=function(t){var e=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(vn.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),t&&t.isAboveFullscreenDialog&&this.adapter.addClass(vn.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame((function(){e.adapter.addClass(vn.OPEN),e.adapter.addBodyClass(vn.SCROLL_LOCK),e.layout(),e.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.trapFocus(e.adapter.getInitialFocusEl()),e.adapter.notifyOpened()}),In.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(t),this.adapter.addClass(vn.CLOSING),this.adapter.removeClass(vn.OPEN),this.adapter.removeBodyClass(vn.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),In.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.showSurfaceScrim=function(){var t=this;this.adapter.addClass(vn.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame((function(){t.adapter.addClass(vn.SURFACE_SCRIM_SHOWN)}))},e.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(vn.SURFACE_SCRIM_SHOWN),this.adapter.addClass(vn.SURFACE_SCRIM_HIDING)},e.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(vn.SURFACE_SCRIM_HIDING),this.adapter.removeClass(vn.SURFACE_SCRIM_SHOWING)},e.prototype.isOpen=function(){return this.dialogOpen},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction},e.prototype.setScrimClickAction=function(t){this.scrimClickAction=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.animFrame.request(hn.POLL_LAYOUT_CHANGE,(function(){t.layoutInternal()}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Tn.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,r=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&r&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},e.prototype.handleScrollEvent=function(){var t=this;this.animFrame.request(hn.POLL_SCROLL_POS,(function(){t.toggleScrollDividerHeader(),t.toggleScrollDividerFooter()}))},e.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(vn.OPENING),this.adapter.removeClass(vn.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e.prototype.detectStackedButtons=function(){this.adapter.removeClass(vn.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(vn.STACKED),t!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=t)},e.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(vn.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(vn.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},e.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(vn.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(vn.SCROLL_DIVIDER_HEADER):this.adapter.addClass(vn.SCROLL_DIVIDER_HEADER)},e.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(vn.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(vn.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(vn.SCROLL_DIVIDER_FOOTER)},e}(_);var An=_n.strings,bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(t){this.foundation.setEscapeKeyAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(t){this.foundation.setScrimClickAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(t){this.foundation.setAutoStackButtons(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var e,n;void 0===t&&(t=function(t,e){return new gn(t,e)});var r=this.root.querySelector(An.CONTAINER_SELECTOR);if(!r)throw new Error("Dialog component requires a "+An.CONTAINER_SELECTOR+" container element");this.container=r,this.content=this.root.querySelector(An.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(An.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+An.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=t,this.buttonRipples=[];try{for(var i=v(this.buttons),o=i.next();!o.done;o=i.next()){var a=o.value;this.buttonRipples.push(new M(a))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.initialSyncWithDOM=function(){var t,e,n,r=this;this.focusTrap=(t=this.container,e=this.focusTrapFactory,n=this.getInitialFocusEl()||void 0,e(t,{initialFocusEl:n})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",r.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",r.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(An.OPENING_EVENT,this.handleOpening),this.listen(An.CLOSING_EVENT,this.handleClosing)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(An.OPENING_EVENT,this.handleOpening),this.unlisten(An.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this,e={addBodyClass:function(t){return document.body.classList.add(t)},addClass:function(e){return t.root.classList.add(e)},areButtonsStacked:function(){return e=t.buttons,n=new Set,[].forEach.call(e,(function(t){return n.add(t.offsetTop)})),n.size>1;var e,n},clickDefaultButton:function(){t.defaultButton&&!t.defaultButton.disabled&&t.defaultButton.click()},eventTargetMatches:function(t,e){return!!t&&S(t,e)},getActionFromEvent:function(t){if(!t.target)return"";var e=C(t.target,"["+An.ACTION_ATTRIBUTE+"]");return e&&e.getAttribute(An.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return t.getInitialFocusEl()},hasClass:function(e){return t.root.classList.contains(e)},isContentScrollable:function(){return function(t){return!!t&&t.scrollHeight>t.offsetHeight}(t.content)},notifyClosed:function(e){return t.emit(An.CLOSED_EVENT,e?{action:e}:{})},notifyClosing:function(e){return t.emit(An.CLOSING_EVENT,e?{action:e}:{})},notifyOpened:function(){return t.emit(An.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(An.OPENING_EVENT,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeBodyClass:function(t){return document.body.classList.remove(t)},removeClass:function(e){return t.root.classList.remove(e)},reverseButtons:function(){t.buttons.reverse(),t.buttons.forEach((function(t){t.parentElement.appendChild(t)}))},trapFocus:function(){t.focusTrap.trapFocus()},registerContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.addEventListener(e,n)},deregisterContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.removeEventListener(e,n)},isScrollableContentAtTop:function(){return function(t){return!!t&&0===t.scrollTop}(t.content)},isScrollableContentAtBottom:function(){return function(t){return!!t&&Math.ceil(t.scrollHeight-t.scrollTop)===t.clientHeight}(t.content)},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)}};return new _n(e)},e.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+An.INITIAL_FOCUS_ATTRIBUTE+"]")},e}(A),Cn={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},Sn={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},On={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330},Rn=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,E(E({},e.defaultAdapter),n))||this;return i.disabled=!1,i.isMenuOpen=!1,i.useDefaultValidation=!0,i.customValidity=!0,i.lastSelectedIndex=On.UNSET_INDEX,i.clickDebounceTimeout=0,i.recentlyClicked=!1,i.leadingIcon=r.leadingIcon,i.helperText=r.helperText,i}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Cn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return On},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Sn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!1,configurable:!0}),e.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},e.prototype.setSelectedIndex=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),t>=this.adapter.getMenuItemCount()||(t===On.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(t).trim()),this.adapter.setSelectedIndex(t),e&&this.adapter.closeMenu(),n||this.lastSelectedIndex===t||this.handleChange(),this.lastSelectedIndex=t)},e.prototype.setValue=function(t,e){void 0===e&&(e=!1);var n=this.adapter.getMenuItemValues().indexOf(t);this.setSelectedIndex(n,!1,e)},e.prototype.getValue=function(){var t=this.adapter.getSelectedIndex(),e=this.adapter.getMenuItemValues();return t!==On.UNSET_INDEX?e[t]:""},e.prototype.getDisabled=function(){return this.disabled},e.prototype.setDisabled=function(t){this.disabled=t,this.disabled?(this.adapter.addClass(Cn.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(Cn.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},e.prototype.openMenu=function(){this.adapter.addClass(Cn.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.layout=function(){if(this.adapter.hasLabel()){var t=this.getValue().length>0,e=this.adapter.hasClass(Cn.FOCUSED),n=t||e,r=this.adapter.hasClass(Cn.REQUIRED);this.notchOutline(n),this.adapter.floatLabel(n),this.adapter.setLabelRequired(r)}},e.prototype.layoutOptions=function(){var t=this.adapter.getMenuItemValues().indexOf(this.getValue());this.setSelectedIndex(t,!1,!0)},e.prototype.handleMenuOpened=function(){if(0!==this.adapter.getMenuItemValues().length){var t=this.getSelectedIndex(),e=t>=0?t:0;this.adapter.focusMenuItemAtIndex(e)}},e.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},e.prototype.handleMenuClosed=function(){this.adapter.removeClass(Cn.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},e.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue()),this.adapter.hasClass(Cn.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.handleMenuItemAction=function(t){this.setSelectedIndex(t,!0)},e.prototype.handleFocus=function(){this.adapter.addClass(Cn.FOCUSED),this.layout(),this.adapter.activateBottomLine()},e.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},e.prototype.handleClick=function(t){this.disabled||this.recentlyClicked||(this.setClickDebounceTimeout(),this.isMenuOpen?this.adapter.closeMenu():(this.adapter.setRippleCenter(t),this.openMenu()))},e.prototype.handleKeydown=function(t){if(!this.isMenuOpen&&this.adapter.hasClass(Cn.FOCUSED)){var e=He(t)===ce,n=He(t)===ue,r=He(t)===me,i=He(t)===ge;if(!(t.ctrlKey||t.metaKey)&&(!n&&t.key&&1===t.key.length||n&&this.adapter.isTypeaheadInProgress())){var o=n?" ":t.key,a=this.adapter.typeaheadMatchItem(o,this.getSelectedIndex());return a>=0&&this.setSelectedIndex(a),void t.preventDefault()}(e||n||r||i)&&(r&&this.getSelectedIndex()>0?this.setSelectedIndex(this.getSelectedIndex()-1):i&&this.getSelectedIndex()<this.adapter.getMenuItemCount()-1&&this.setSelectedIndex(this.getSelectedIndex()+1),this.openMenu(),t.preventDefault())}},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()){var e=this.adapter.hasClass(Cn.FOCUSED);if(t){var n=On.LABEL_SCALE,r=this.adapter.getLabelWidth()*n;this.adapter.notchOutline(r)}else e||this.adapter.closeOutline()}},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.getUseDefaultValidation=function(){return this.useDefaultValidation},e.prototype.setUseDefaultValidation=function(t){this.useDefaultValidation=t},e.prototype.setValid=function(t){this.useDefaultValidation||(this.customValidity=t),this.adapter.setSelectAnchorAttr("aria-invalid",(!t).toString()),t?(this.adapter.removeClass(Cn.INVALID),this.adapter.removeMenuClass(Cn.MENU_INVALID)):(this.adapter.addClass(Cn.INVALID),this.adapter.addMenuClass(Cn.MENU_INVALID)),this.syncHelperTextValidity(t)},e.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(Cn.REQUIRED)&&!this.adapter.hasClass(Cn.DISABLED)?this.getSelectedIndex()!==On.UNSET_INDEX&&(0!==this.getSelectedIndex()||Boolean(this.getValue())):this.customValidity},e.prototype.setRequired=function(t){t?this.adapter.addClass(Cn.REQUIRED):this.adapter.removeClass(Cn.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",t.toString()),this.adapter.setLabelRequired(t)},e.prototype.getRequired=function(){return"true"===this.adapter.getSelectAnchorAttr("aria-required")},e.prototype.init=function(){var t=this.adapter.getAnchorElement();t&&(this.adapter.setMenuAnchorElement(t),this.adapter.setMenuAnchorCorner(Xe.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(Cn.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(Cn.INVALID)),this.layout(),this.layoutOptions()},e.prototype.blur=function(){this.adapter.removeClass(Cn.FOCUSED),this.layout(),this.adapter.deactivateBottomLine(),this.adapter.hasClass(Cn.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.syncHelperTextValidity=function(t){if(this.helperText){this.helperText.setValidity(t);var e=this.helperText.isVisible(),n=this.helperText.getId();e&&n?this.adapter.setSelectAnchorAttr(Sn.ARIA_DESCRIBEDBY,n):this.adapter.removeSelectAnchorAttr(Sn.ARIA_DESCRIBEDBY)}},e.prototype.setClickDebounceTimeout=function(){var t=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout((function(){t.recentlyClicked=!1}),On.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},e}(_);var wn={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},Ln={HELPER_TEXT_VALIDATION_MSG:"mdc-select-helper-text--validation-msg",HELPER_TEXT_VALIDATION_MSG_PERSISTENT:"mdc-select-helper-text--validation-msg-persistent"},Dn=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ln},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return wn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},getAttr:function(){return null},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(wn.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.setValidation=function(t){t?this.adapter.addClass(Ln.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Ln.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidationMsgPersistent=function(t){t?this.adapter.addClass(Ln.HELPER_TEXT_VALIDATION_MSG_PERSISTENT):this.adapter.removeClass(Ln.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},e.prototype.setValidity=function(t){if(this.adapter.hasClass(Ln.HELPER_TEXT_VALIDATION_MSG)){var e=this.adapter.hasClass(Ln.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);if(!t||e)return this.showToScreenReader(),void(t?this.adapter.removeAttr(wn.ROLE):this.adapter.setAttr(wn.ROLE,"alert"));this.adapter.removeAttr(wn.ROLE),this.hide()}},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(wn.ARIA_HIDDEN)},e.prototype.hide=function(){this.adapter.setAttr(wn.ARIA_HIDDEN,"true")},e}(_);var xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Dn({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}})},e}(A),Nn={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"},Pn=["click","keydown"],Mn=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.savedTabIndex=null,r.interactionHandler=function(t){r.handleInteraction(t)},r}return m(e,t),Object.defineProperty(e,"strings",{get:function(){return Nn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=v(Pn),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.registerInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,e;try{for(var n=v(Pn),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Nn.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&this.adapter.notifyIconAction()},e}(_);var kn,Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Mn({getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(Mn.strings.ICON_EVENT,{},!0)}})},e}(A),Hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o){if(void 0===t&&(t=function(t){return new H(t)}),void 0===e&&(e=function(t){return new U(t)}),void 0===n&&(n=function(t){return new z(t)}),void 0===r&&(r=function(t){return new cn(t)}),void 0===i&&(i=function(t){return new Fn(t)}),void 0===o&&(o=function(t){return new xn(t)}),this.selectAnchor=this.root.querySelector(Sn.SELECT_ANCHOR_SELECTOR),this.selectedText=this.root.querySelector(Sn.SELECTED_TEXT_SELECTOR),this.hiddenInput=this.root.querySelector(Sn.HIDDEN_INPUT_SELECTOR),!this.selectedText)throw new Error("MDCSelect: Missing required element: The following selector must be present: '"+Sn.SELECTED_TEXT_SELECTOR+"'");if(this.selectAnchor.hasAttribute(Sn.ARIA_CONTROLS)){var a=document.getElementById(this.selectAnchor.getAttribute(Sn.ARIA_CONTROLS));a&&(this.helperText=o(a))}this.menuSetup(r);var s=this.root.querySelector(Sn.LABEL_SELECTOR);this.label=s?t(s):null;var c=this.root.querySelector(Sn.LINE_RIPPLE_SELECTOR);this.lineRipple=c?e(c):null;var u=this.root.querySelector(Sn.OUTLINE_SELECTOR);this.outline=u?n(u):null;var l=this.root.querySelector(Sn.LEADING_ICON_SELECTOR);l&&(this.leadingIcon=i(l)),this.root.classList.contains(Cn.OUTLINED)||(this.ripple=this.createRipple())},e.prototype.initialSyncWithDOM=function(){var t=this;if(this.handleFocus=function(){t.foundation.handleFocus()},this.handleBlur=function(){t.foundation.handleBlur()},this.handleClick=function(e){t.selectAnchor.focus(),t.foundation.handleClick(t.getNormalizedXCoordinate(e))},this.handleKeydown=function(e){t.foundation.handleKeydown(e)},this.handleMenuItemAction=function(e){t.foundation.handleMenuItemAction(e.detail.index)},this.handleMenuOpened=function(){t.foundation.handleMenuOpened()},this.handleMenuClosed=function(){t.foundation.handleMenuClosed()},this.handleMenuClosing=function(){t.foundation.handleMenuClosing()},this.selectAnchor.addEventListener("focus",this.handleFocus),this.selectAnchor.addEventListener("blur",this.handleBlur),this.selectAnchor.addEventListener("click",this.handleClick),this.selectAnchor.addEventListener("keydown",this.handleKeydown),this.menu.listen(Qe.CLOSED_EVENT,this.handleMenuClosed),this.menu.listen(Qe.CLOSING_EVENT,this.handleMenuClosing),this.menu.listen(Qe.OPENED_EVENT,this.handleMenuOpened),this.menu.listen(nn.SELECTED_EVENT,this.handleMenuItemAction),this.hiddenInput){if(this.hiddenInput.value)return this.foundation.setValue(this.hiddenInput.value,!0),void this.foundation.layout();this.hiddenInput.value=this.value}},e.prototype.destroy=function(){this.selectAnchor.removeEventListener("focus",this.handleFocus),this.selectAnchor.removeEventListener("blur",this.handleBlur),this.selectAnchor.removeEventListener("keydown",this.handleKeydown),this.selectAnchor.removeEventListener("click",this.handleClick),this.menu.unlisten(Qe.CLOSED_EVENT,this.handleMenuClosed),this.menu.unlisten(Qe.OPENED_EVENT,this.handleMenuOpened),this.menu.unlisten(nn.SELECTED_EVENT,this.handleMenuItemAction),this.menu.destroy(),this.ripple&&this.ripple.destroy(),this.outline&&this.outline.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.helperText&&this.helperText.destroy(),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!1,configurable:!0}),e.prototype.setValue=function(t,e){void 0===e&&(e=!1),this.foundation.setValue(t,e)},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t,!0)},enumerable:!1,configurable:!0}),e.prototype.setSelectedIndex=function(t,e){void 0===e&&(e=!1),this.foundation.setSelectedIndex(t,!0,e)},Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.getDisabled()},set:function(t){this.foundation.setDisabled(t),this.hiddenInput&&(this.hiddenInput.disabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultValidation",{set:function(t){this.foundation.setUseDefaultValidation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.foundation.getRequired()},set:function(t){this.foundation.setRequired(t)},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.foundation.layout()},e.prototype.layoutOptions=function(){this.foundation.layoutOptions(),this.menu.layout(),this.menuItemValues=this.menu.items.map((function(t){return t.getAttribute(Sn.VALUE_ATTR)||""})),this.hiddenInput&&(this.hiddenInput.value=this.value)},e.prototype.getDefaultFoundation=function(){var t=E(E(E(E({},this.getSelectAdapterMethods()),this.getCommonAdapterMethods()),this.getOutlineAdapterMethods()),this.getLabelAdapterMethods());return new Rn(t,this.getFoundationMap())},e.prototype.menuSetup=function(t){this.menuElement=this.root.querySelector(Sn.MENU_SELECTOR),this.menu=t(this.menuElement),this.menu.hasTypeahead=!0,this.menu.singleSelection=!0,this.menuItemValues=this.menu.items.map((function(t){return t.getAttribute(Sn.VALUE_ATTR)||""}))},e.prototype.createRipple=function(){var t=this,e=E(E({},M.createAdapter({root:this.selectAnchor})),{registerInteractionHandler:function(e,n){t.selectAnchor.addEventListener(e,n)},deregisterInteractionHandler:function(e,n){t.selectAnchor.removeEventListener(e,n)}});return new M(this.selectAnchor,new P(e))},e.prototype.getSelectAdapterMethods=function(){var t=this;return{getMenuItemAttr:function(t,e){return t.getAttribute(e)},setSelectedText:function(e){t.selectedText.textContent=e},isSelectAnchorFocused:function(){return document.activeElement===t.selectAnchor},getSelectAnchorAttr:function(e){return t.selectAnchor.getAttribute(e)},setSelectAnchorAttr:function(e,n){t.selectAnchor.setAttribute(e,n)},removeSelectAnchorAttr:function(e){t.selectAnchor.removeAttribute(e)},addMenuClass:function(e){t.menuElement.classList.add(e)},removeMenuClass:function(e){t.menuElement.classList.remove(e)},openMenu:function(){t.menu.open=!0},closeMenu:function(){t.menu.open=!1},getAnchorElement:function(){return t.root.querySelector(Sn.SELECT_ANCHOR_SELECTOR)},setMenuAnchorElement:function(e){t.menu.setAnchorElement(e)},setMenuAnchorCorner:function(e){t.menu.setAnchorCorner(e)},setMenuWrapFocus:function(e){t.menu.wrapFocus=e},getSelectedIndex:function(){var e=t.menu.selectedIndex;return e instanceof Array?e[0]:e},setSelectedIndex:function(e){t.menu.selectedIndex=e},focusMenuItemAtIndex:function(e){t.menu.items[e].focus()},getMenuItemCount:function(){return t.menu.items.length},getMenuItemValues:function(){return t.menuItemValues},getMenuItemTextAtIndex:function(e){return t.menu.getPrimaryTextAtIndex(e)},isTypeaheadInProgress:function(){return t.menu.typeaheadInProgress},typeaheadMatchItem:function(e,n){return t.menu.typeaheadMatchItem(e,n)}}},e.prototype.getCommonAdapterMethods=function(){var t=this;return{addClass:function(e){t.root.classList.add(e)},removeClass:function(e){t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setRippleCenter:function(e){t.lineRipple&&t.lineRipple.setRippleCenter(e)},activateBottomLine:function(){t.lineRipple&&t.lineRipple.activate()},deactivateBottomLine:function(){t.lineRipple&&t.lineRipple.deactivate()},notifyChange:function(e){t.hiddenInput&&(t.hiddenInput.value=e);var n=t.selectedIndex;t.emit(Sn.CHANGE_EVENT,{value:e,index:n},!0)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{hasOutline:function(){return Boolean(t.outline)},notchOutline:function(e){t.outline&&t.outline.notch(e)},closeOutline:function(){t.outline&&t.outline.closeNotch()}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{hasLabel:function(){return!!t.label},floatLabel:function(e){t.label&&t.label.float(e)},getLabelWidth:function(){return t.label?t.label.getWidth():0},setLabelRequired:function(e){t.label&&t.label.setRequired(e)}}},e.prototype.getNormalizedXCoordinate=function(t){var e=t.target.getBoundingClientRect();return(this.isTouchEvent(t)?t.touches[0].clientX:t.clientX)-e.left},e.prototype.isTouchEvent=function(t){return Boolean(t.touches)},e.prototype.getFoundationMap=function(){return{helperText:this.helperText?this.helperText.foundationForSelect:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForSelect:void 0}},e}(A);!function(t){t.RICH="mdc-tooltip--rich",t.SHOWN="mdc-tooltip--shown",t.SHOWING="mdc-tooltip--showing",t.SHOWING_TRANSITION="mdc-tooltip--showing-transition",t.HIDE="mdc-tooltip--hide",t.HIDE_TRANSITION="mdc-tooltip--hide-transition",t.MULTILINE_TOOLTIP="mdc-tooltip--multiline",t.SURFACE="mdc-tooltip__surface",t.SURFACE_ANIMATION="mdc-tooltip__surface-animation",t.TOOLTIP_CARET_TOP="mdc-tooltip__caret-surface-top",t.TOOLTIP_CARET_BOTTOM="mdc-tooltip__caret-surface-bottom"}(kn||(kn={}));var Bn,Gn,Un,Vn=4,qn=8,jn=8,Wn=600,zn=500,Xn=24,Yn=200,Kn=24,Qn=.8,Zn="aria-expanded",Jn="aria-haspopup",$n="data-mdc-tooltip-persistent",tr="data-mdc-tooltip-has-caret",er="MDCTooltip:hidden";!function(t){t[t.DETECTED=0]="DETECTED",t[t.START=1]="START",t[t.CENTER=2]="CENTER",t[t.END=3]="END"}(Bn||(Bn={})),function(t){t[t.DETECTED=0]="DETECTED",t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW"}(Gn||(Gn={})),function(t){t[t.BOUNDED=0]="BOUNDED",t[t.UNBOUNDED=1]="UNBOUNDED"}(Un||(Un={}));var nr,rr,ir,or="left",ar="right",sr="center",cr="top",ur="bottom";!function(t){t[t.DETECTED=0]="DETECTED",t[t.ABOVE_START=1]="ABOVE_START",t[t.ABOVE_CENTER=2]="ABOVE_CENTER",t[t.ABOVE_END=3]="ABOVE_END",t[t.TOP_SIDE_START=4]="TOP_SIDE_START",t[t.CENTER_SIDE_START=5]="CENTER_SIDE_START",t[t.BOTTOM_SIDE_START=6]="BOTTOM_SIDE_START",t[t.TOP_SIDE_END=7]="TOP_SIDE_END",t[t.CENTER_SIDE_END=8]="CENTER_SIDE_END",t[t.BOTTOM_SIDE_END=9]="BOTTOM_SIDE_END",t[t.BELOW_START=10]="BELOW_START",t[t.BELOW_CENTER=11]="BELOW_CENTER",t[t.BELOW_END=12]="BELOW_END"}(nr||(nr={})),function(t){t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW",t[t.SIDE_TOP=3]="SIDE_TOP",t[t.SIDE_CENTER=4]="SIDE_CENTER",t[t.SIDE_BOTTOM=5]="SIDE_BOTTOM"}(rr||(rr={})),function(t){t[t.START=1]="START",t[t.CENTER=2]="CENTER",t[t.END=3]="END",t[t.SIDE_START=4]="SIDE_START",t[t.SIDE_END=5]="SIDE_END"}(ir||(ir={}));var lr,dr=kn.RICH,hr=kn.SHOWN,fr=kn.SHOWING,pr=kn.SHOWING_TRANSITION,mr=kn.HIDE,Er=kn.HIDE_TRANSITION,gr=kn.MULTILINE_TOOLTIP;!function(t){t.POLL_ANCHOR="poll_anchor"}(lr||(lr={}));var yr="undefined"!=typeof window,vr=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.tooltipShown=!1,r.anchorGap=Vn,r.xTooltipPos=Bn.DETECTED,r.yTooltipPos=Gn.DETECTED,r.tooltipPositionWithCaret=nr.DETECTED,r.minViewportTooltipThreshold=jn,r.hideDelayMs=Wn,r.showDelayMs=zn,r.anchorRect=null,r.parentRect=null,r.frameId=null,r.hideTimeout=null,r.showTimeout=null,r.addAncestorScrollEventListeners=new Array,r.removeAncestorScrollEventListeners=new Array,r.animFrame=new yn,r.anchorBlurHandler=function(t){r.handleAnchorBlur(t)},r.documentClickHandler=function(t){r.handleDocumentClick(t)},r.documentKeydownHandler=function(t){r.handleKeydown(t)},r.tooltipMouseEnterHandler=function(){r.handleTooltipMouseEnter()},r.tooltipMouseLeaveHandler=function(){r.handleTooltipMouseLeave()},r.richTooltipFocusOutHandler=function(t){r.handleRichTooltipFocusOut(t)},r.windowScrollHandler=function(){r.handleWindowScrollEvent()},r.windowResizeHandler=function(){r.handleWindowChangeEvent()},r}return m(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},addClass:function(){},hasClass:function(){return!1},removeClass:function(){},getComputedStyleProperty:function(){return""},setStyleProperty:function(){},setSurfaceAnimationStyleProperty:function(){},getViewportWidth:function(){return 0},getViewportHeight:function(){return 0},getTooltipSize:function(){return{width:0,height:0}},getAnchorBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getParentBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getAnchorAttribute:function(){return null},setAnchorAttribute:function(){return null},isRTL:function(){return!1},anchorContainsElement:function(){return!1},tooltipContainsElement:function(){return!1},focusAnchorElement:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){},registerAnchorEventHandler:function(){},deregisterAnchorEventHandler:function(){},registerDocumentEventHandler:function(){},deregisterDocumentEventHandler:function(){},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){},notifyHidden:function(){},getTooltipCaretBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setTooltipCaretStyle:function(){},clearTooltipCaretStyles:function(){},getActiveElement:function(){return null}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.richTooltip=this.adapter.hasClass(dr),this.persistentTooltip="true"===this.adapter.getAttribute($n),this.interactiveTooltip=!!this.adapter.getAnchorAttribute(Zn)&&"dialog"===this.adapter.getAnchorAttribute(Jn),this.hasCaret=this.richTooltip&&"true"===this.adapter.getAttribute(tr)},e.prototype.isShown=function(){return this.tooltipShown},e.prototype.isRich=function(){return this.richTooltip},e.prototype.isPersistent=function(){return this.persistentTooltip},e.prototype.handleAnchorMouseEnter=function(){var t=this;this.tooltipShown?this.show():(this.clearHideTimeout(),this.showTimeout=setTimeout((function(){t.show()}),this.showDelayMs))},e.prototype.handleAnchorTouchstart=function(){var t=this;this.showTimeout=setTimeout((function(){t.show()}),this.showDelayMs),this.adapter.registerWindowEventHandler("contextmenu",this.preventContextMenuOnLongTouch)},e.prototype.preventContextMenuOnLongTouch=function(t){t.preventDefault()},e.prototype.handleAnchorTouchend=function(){this.clearShowTimeout(),this.isShown()||this.adapter.deregisterWindowEventHandler("contextmenu",this.preventContextMenuOnLongTouch)},e.prototype.handleAnchorFocus=function(t){var e=this,n=t.relatedTarget;n instanceof HTMLElement&&this.adapter.tooltipContainsElement(n)||(this.showTimeout=setTimeout((function(){e.show()}),this.showDelayMs))},e.prototype.handleAnchorMouseLeave=function(){var t=this;this.clearShowTimeout(),this.hideTimeout=setTimeout((function(){t.hide()}),this.hideDelayMs)},e.prototype.handleAnchorClick=function(){this.tooltipShown?this.hide():this.show()},e.prototype.handleDocumentClick=function(t){var e=t.target instanceof HTMLElement&&(this.adapter.anchorContainsElement(t.target)||this.adapter.tooltipContainsElement(t.target));this.richTooltip&&this.persistentTooltip&&e||this.hide()},e.prototype.handleKeydown=function(t){if(He(t)===ve){var e=this.adapter.getActiveElement();e instanceof HTMLElement&&this.adapter.tooltipContainsElement(e)&&this.adapter.focusAnchorElement(),this.hide()}},e.prototype.handleAnchorBlur=function(t){if(this.richTooltip){if(t.relatedTarget instanceof HTMLElement&&this.adapter.tooltipContainsElement(t.relatedTarget))return;if(null===t.relatedTarget&&this.interactiveTooltip)return}this.hide()},e.prototype.handleTooltipMouseEnter=function(){this.show()},e.prototype.handleTooltipMouseLeave=function(){var t=this;this.clearShowTimeout(),this.hideTimeout=setTimeout((function(){t.hide()}),this.hideDelayMs)},e.prototype.handleRichTooltipFocusOut=function(t){t.relatedTarget instanceof HTMLElement&&(this.adapter.anchorContainsElement(t.relatedTarget)||this.adapter.tooltipContainsElement(t.relatedTarget))||null===t.relatedTarget&&this.interactiveTooltip||this.hide()},e.prototype.handleWindowScrollEvent=function(){this.persistentTooltip?this.handleWindowChangeEvent():this.hide()},e.prototype.handleWindowChangeEvent=function(){var t=this;this.animFrame.request(lr.POLL_ANCHOR,(function(){t.repositionTooltipOnAnchorMove()}))},e.prototype.show=function(){var t,e,n=this;if(this.clearHideTimeout(),this.clearShowTimeout(),!this.tooltipShown){this.tooltipShown=!0,this.adapter.removeAttribute("aria-hidden"),this.richTooltip&&(this.interactiveTooltip&&this.adapter.setAnchorAttribute("aria-expanded","true"),this.adapter.registerEventHandler("focusout",this.richTooltipFocusOutHandler)),this.persistentTooltip||(this.adapter.registerEventHandler("mouseenter",this.tooltipMouseEnterHandler),this.adapter.registerEventHandler("mouseleave",this.tooltipMouseLeaveHandler)),this.adapter.removeClass(mr),this.adapter.addClass(fr),this.isTooltipMultiline()&&!this.richTooltip&&this.adapter.addClass(gr),this.anchorRect=this.adapter.getAnchorBoundingRect(),this.parentRect=this.adapter.getParentBoundingRect(),this.richTooltip?this.positionRichTooltip():this.positionPlainTooltip(),this.adapter.registerAnchorEventHandler("blur",this.anchorBlurHandler),this.adapter.registerDocumentEventHandler("click",this.documentClickHandler),this.adapter.registerDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.registerWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler);try{for(var r=v(this.addAncestorScrollEventListeners),i=r.next();!i.done;i=r.next()){(0,i.value)()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.frameId=requestAnimationFrame((function(){n.clearAllAnimationClasses(),n.adapter.addClass(hr),n.adapter.addClass(pr)}))}},e.prototype.hide=function(){var t,e;if(this.clearHideTimeout(),this.clearShowTimeout(),this.tooltipShown){this.frameId&&cancelAnimationFrame(this.frameId),this.tooltipShown=!1,this.adapter.setAttribute("aria-hidden","true"),this.adapter.deregisterEventHandler("focusout",this.richTooltipFocusOutHandler),this.richTooltip&&this.interactiveTooltip&&this.adapter.setAnchorAttribute("aria-expanded","false"),this.persistentTooltip||(this.adapter.deregisterEventHandler("mouseenter",this.tooltipMouseEnterHandler),this.adapter.deregisterEventHandler("mouseleave",this.tooltipMouseLeaveHandler)),this.clearAllAnimationClasses(),this.adapter.addClass(mr),this.adapter.addClass(Er),this.adapter.removeClass(hr),this.adapter.deregisterAnchorEventHandler("blur",this.anchorBlurHandler),this.adapter.deregisterDocumentEventHandler("click",this.documentClickHandler),this.adapter.deregisterDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.deregisterWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("contextmenu",this.preventContextMenuOnLongTouch);try{for(var n=v(this.removeAncestorScrollEventListeners),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}},e.prototype.handleTransitionEnd=function(){var t=this.adapter.hasClass(mr);this.adapter.removeClass(fr),this.adapter.removeClass(pr),this.adapter.removeClass(mr),this.adapter.removeClass(Er),t&&this.adapter.notifyHidden()},e.prototype.clearAllAnimationClasses=function(){this.adapter.removeClass(pr),this.adapter.removeClass(Er)},e.prototype.setTooltipPosition=function(t){var e=t.xPos,n=t.yPos,r=t.withCaretPos;this.hasCaret&&r?this.tooltipPositionWithCaret=r:(e&&(this.xTooltipPos=e),n&&(this.yTooltipPos=n))},e.prototype.setAnchorBoundaryType=function(t){t===Un.UNBOUNDED?this.anchorGap=qn:this.anchorGap=Vn},e.prototype.setShowDelay=function(t){this.showDelayMs=t},e.prototype.setHideDelay=function(t){this.hideDelayMs=t},e.prototype.isTooltipMultiline=function(){var t=this.adapter.getTooltipSize();return t.height>Xn&&t.width>=Yn},e.prototype.positionPlainTooltip=function(){var t=this.calculateTooltipStyles(this.anchorRect),e=t.top,n=t.yTransformOrigin,r=t.left,i=t.xTransformOrigin,o=yr?At(window,"transform"):"transform";this.adapter.setSurfaceAnimationStyleProperty(o+"-origin",i+" "+n),this.adapter.setStyleProperty("top",e+"px"),this.adapter.setStyleProperty("left",r+"px")},e.prototype.positionRichTooltip=function(){var t,e,n,r,i=this.adapter.getComputedStyleProperty("width");this.adapter.setStyleProperty("width",i);var o=this.hasCaret?this.calculateTooltipWithCaretStyles(this.anchorRect):this.calculateTooltipStyles(this.anchorRect),a=o.top,s=o.yTransformOrigin,c=o.left,u=o.xTransformOrigin,l=yr?At(window,"transform"):"transform";this.adapter.setSurfaceAnimationStyleProperty(l+"-origin",u+" "+s);var d=c-(null!==(e=null===(t=this.parentRect)||void 0===t?void 0:t.left)&&void 0!==e?e:0),h=a-(null!==(r=null===(n=this.parentRect)||void 0===n?void 0:n.top)&&void 0!==r?r:0);this.adapter.setStyleProperty("top",h+"px"),this.adapter.setStyleProperty("left",d+"px")},e.prototype.calculateTooltipStyles=function(t){if(!t)return{top:0,left:0};var e=this.adapter.getTooltipSize(),n=this.calculateYTooltipDistance(t,e.height),r=this.calculateXTooltipDistance(t,e.width);return{top:n.distance,yTransformOrigin:n.yTransformOrigin,left:r.distance,xTransformOrigin:r.xTransformOrigin}},e.prototype.calculateXTooltipDistance=function(t,e){var n,r,i,o,a,s=!this.adapter.isRTL();this.richTooltip?(n=s?t.left-e:t.right,r=s?t.right:t.left-e,o=s?ar:or,a=s?or:ar):(n=s?t.left:t.right-e,r=s?t.right-e:t.left,i=t.left+(t.width-e)/2,o=s?or:ar,a=s?ar:or);var c=this.richTooltip?this.determineValidPositionOptions(n,r):this.determineValidPositionOptions(i,n,r);if(this.xTooltipPos===Bn.START&&c.has(n))return{distance:n,xTransformOrigin:o};if(this.xTooltipPos===Bn.END&&c.has(r))return{distance:r,xTransformOrigin:a};if(this.xTooltipPos===Bn.CENTER&&c.has(i))return{distance:i,xTransformOrigin:sr};var u=(this.richTooltip?[{distance:r,xTransformOrigin:a},{distance:n,xTransformOrigin:o}]:[{distance:i,xTransformOrigin:sr},{distance:n,xTransformOrigin:o},{distance:r,xTransformOrigin:a}]).find((function(t){var e=t.distance;return c.has(e)}));return u||(t.left<0?{distance:this.minViewportTooltipThreshold,xTransformOrigin:or}:{distance:this.adapter.getViewportWidth()-(e+this.minViewportTooltipThreshold),xTransformOrigin:ar})},e.prototype.determineValidPositionOptions=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=new Set,o=new Set;try{for(var a=v(n),s=a.next();!s.done;s=a.next()){var c=s.value;this.positionHonorsViewportThreshold(c)?i.add(c):this.positionDoesntCollideWithViewport(c)&&o.add(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i.size?i:o},e.prototype.positionHonorsViewportThreshold=function(t){var e=this.adapter.getViewportWidth();return t+this.adapter.getTooltipSize().width<=e-this.minViewportTooltipThreshold&&t>=this.minViewportTooltipThreshold},e.prototype.positionDoesntCollideWithViewport=function(t){var e=this.adapter.getViewportWidth();return t+this.adapter.getTooltipSize().width<=e&&t>=0},e.prototype.calculateYTooltipDistance=function(t,e){var n=t.bottom+this.anchorGap,r=t.top-(this.anchorGap+e),i=this.determineValidYPositionOptions(r,n);return this.yTooltipPos===Gn.ABOVE&&i.has(r)?{distance:r,yTransformOrigin:ur}:this.yTooltipPos===Gn.BELOW&&i.has(n)||i.has(n)?{distance:n,yTransformOrigin:cr}:i.has(r)?{distance:r,yTransformOrigin:ur}:{distance:n,yTransformOrigin:cr}},e.prototype.determineValidYPositionOptions=function(t,e){var n=new Set,r=new Set;return this.yPositionHonorsViewportThreshold(t)?n.add(t):this.yPositionDoesntCollideWithViewport(t)&&r.add(t),this.yPositionHonorsViewportThreshold(e)?n.add(e):this.yPositionDoesntCollideWithViewport(e)&&r.add(e),n.size?n:r},e.prototype.yPositionHonorsViewportThreshold=function(t){var e=this.adapter.getViewportHeight();return t+this.adapter.getTooltipSize().height+this.minViewportTooltipThreshold<=e&&t>=this.minViewportTooltipThreshold},e.prototype.yPositionDoesntCollideWithViewport=function(t){var e=this.adapter.getViewportHeight();return t+this.adapter.getTooltipSize().height<=e&&t>=0},e.prototype.calculateTooltipWithCaretStyles=function(t){this.adapter.clearTooltipCaretStyles();var e=this.adapter.getTooltipCaretBoundingRect();if(!t||!e)return{position:nr.DETECTED,top:0,left:0};var n=e.width/Qn,r=e.height/Qn/2,i=this.adapter.getTooltipSize(),o=this.calculateYWithCaretDistanceOptions(t,i.height,{caretWidth:n,caretHeight:r}),a=this.calculateXWithCaretDistanceOptions(t,i.width,{caretWidth:n,caretHeight:r}),s=this.validateTooltipWithCaretDistances(o,a);s.size<1&&(s=this.generateBackupPositionOption(t,i,{caretWidth:n,caretHeight:r}));var c=this.determineTooltipWithCaretDistance(s),u=c.position,l=c.xDistance,d=c.yDistance,h=this.setCaretPositionStyles(u,{caretWidth:n,caretHeight:r});return{yTransformOrigin:h.yTransformOrigin,xTransformOrigin:h.xTransformOrigin,top:d,left:l}},e.prototype.calculateXWithCaretDistanceOptions=function(t,e,n){var r=n.caretWidth,i=n.caretHeight,o=!this.adapter.isRTL(),a=t.left+t.width/2,s=t.left-(e+this.anchorGap+i),c=t.right+this.anchorGap+i,u=o?s:c,l=o?c:s,d=a-(Kn+r/2),h=a-(e-Kn-r/2),f=o?d:h,p=o?h:d,m=a-e/2;return new Map([[ir.START,f],[ir.CENTER,m],[ir.END,p],[ir.SIDE_END,l],[ir.SIDE_START,u]])},e.prototype.calculateYWithCaretDistanceOptions=function(t,e,n){var r=n.caretWidth,i=n.caretHeight,o=t.top+t.height/2,a=t.bottom+this.anchorGap+i,s=t.top-(this.anchorGap+e+i),c=o-(Kn+r/2),u=o-e/2,l=o-(e-Kn-r/2);return new Map([[rr.ABOVE,s],[rr.BELOW,a],[rr.SIDE_TOP,c],[rr.SIDE_CENTER,u],[rr.SIDE_BOTTOM,l]])},e.prototype.repositionTooltipOnAnchorMove=function(){var t=this.adapter.getAnchorBoundingRect();t&&this.anchorRect&&(t.top===this.anchorRect.top&&t.left===this.anchorRect.left&&t.height===this.anchorRect.height&&t.width===this.anchorRect.width||(this.anchorRect=t,this.parentRect=this.adapter.getParentBoundingRect(),this.richTooltip?this.positionRichTooltip():this.positionPlainTooltip()))},e.prototype.validateTooltipWithCaretDistances=function(t,e){var n,r,i,o,a,s,c=new Map,u=new Map,l=new Map([[rr.ABOVE,[ir.START,ir.CENTER,ir.END]],[rr.BELOW,[ir.START,ir.CENTER,ir.END]],[rr.SIDE_TOP,[ir.SIDE_START,ir.SIDE_END]],[rr.SIDE_CENTER,[ir.SIDE_START,ir.SIDE_END]],[rr.SIDE_BOTTOM,[ir.SIDE_START,ir.SIDE_END]]]);try{for(var d=v(l.keys()),h=d.next();!h.done;h=d.next()){var f=h.value,p=t.get(f);if(this.yPositionHonorsViewportThreshold(p))try{for(var m=(i=void 0,v(l.get(f))),E=m.next();!E.done;E=m.next()){var g=E.value,y=e.get(g);if(this.positionHonorsViewportThreshold(y)){var T=this.caretPositionOptionsMapping(g,f);c.set(T,{xDistance:y,yDistance:p})}}}catch(t){i={error:t}}finally{try{E&&!E.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}else if(this.yPositionDoesntCollideWithViewport(p))try{for(var I=(a=void 0,v(l.get(f))),_=I.next();!_.done;_=I.next()){g=_.value,y=e.get(g);if(this.positionDoesntCollideWithViewport(y)){T=this.caretPositionOptionsMapping(g,f);u.set(T,{xDistance:y,yDistance:p})}}}catch(t){a={error:t}}finally{try{_&&!_.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return c.size?c:u},e.prototype.generateBackupPositionOption=function(t,e,n){var r,i,o,a,s=!this.adapter.isRTL();t.left<0?(r=this.minViewportTooltipThreshold+n.caretHeight,i=s?ir.END:ir.START):(r=this.adapter.getViewportWidth()-(e.width+this.minViewportTooltipThreshold+n.caretHeight),i=s?ir.START:ir.END);t.top<0?(o=this.minViewportTooltipThreshold+n.caretHeight,a=rr.BELOW):(o=this.adapter.getViewportHeight()-(e.height+this.minViewportTooltipThreshold+n.caretHeight),a=rr.ABOVE);var c=this.caretPositionOptionsMapping(i,a);return new Map([[c,{xDistance:r,yDistance:o}]])},e.prototype.determineTooltipWithCaretDistance=function(t){if(t.has(this.tooltipPositionWithCaret)){var e=t.get(this.tooltipPositionWithCaret);return{position:this.tooltipPositionWithCaret,xDistance:e.xDistance,yDistance:e.yDistance}}var n=[nr.ABOVE_START,nr.ABOVE_CENTER,nr.ABOVE_END,nr.TOP_SIDE_START,nr.CENTER_SIDE_START,nr.BOTTOM_SIDE_START,nr.TOP_SIDE_END,nr.CENTER_SIDE_END,nr.BOTTOM_SIDE_END,nr.BELOW_START,nr.BELOW_CENTER,nr.BELOW_END].find((function(e){return t.has(e)})),r=t.get(n);return{position:n,xDistance:r.xDistance,yDistance:r.yDistance}},e.prototype.caretPositionOptionsMapping=function(t,e){switch(e){case rr.ABOVE:if(t===ir.START)return nr.ABOVE_START;if(t===ir.CENTER)return nr.ABOVE_CENTER;if(t===ir.END)return nr.ABOVE_END;break;case rr.BELOW:if(t===ir.START)return nr.BELOW_START;if(t===ir.CENTER)return nr.BELOW_CENTER;if(t===ir.END)return nr.BELOW_END;break;case rr.SIDE_TOP:if(t===ir.SIDE_START)return nr.TOP_SIDE_START;if(t===ir.SIDE_END)return nr.TOP_SIDE_END;break;case rr.SIDE_CENTER:if(t===ir.SIDE_START)return nr.CENTER_SIDE_START;if(t===ir.SIDE_END)return nr.CENTER_SIDE_END;break;case rr.SIDE_BOTTOM:if(t===ir.SIDE_START)return nr.BOTTOM_SIDE_START;if(t===ir.SIDE_END)return nr.BOTTOM_SIDE_END}throw new Error("MDCTooltipFoundation: Invalid caret position of "+t+", "+e)},e.prototype.setCaretPositionStyles=function(t,e){var n,r,i=this.calculateCaretPositionOnTooltip(t,e);if(!i)return{yTransformOrigin:0,xTransformOrigin:0};this.adapter.clearTooltipCaretStyles(),this.adapter.setTooltipCaretStyle(i.yAlignment,i.yAxisPx),this.adapter.setTooltipCaretStyle(i.xAlignment,i.xAxisPx);var o=i.skew*(Math.PI/180),a=Math.cos(o);this.adapter.setTooltipCaretStyle("transform","rotate("+i.rotation+"deg) skewY("+i.skew+"deg) scaleX("+a+")"),this.adapter.setTooltipCaretStyle("transform-origin",i.xAlignment+" "+i.yAlignment);try{for(var s=v(i.caretCorners),c=s.next();!c.done;c=s.next()){var u=c.value;this.adapter.setTooltipCaretStyle(u,"0")}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return{yTransformOrigin:i.yTransformOrigin,xTransformOrigin:i.xTransformOrigin}},e.prototype.calculateCaretPositionOnTooltip=function(t,e){var n=!this.adapter.isRTL(),r=this.adapter.getComputedStyleProperty("width"),i=this.adapter.getComputedStyleProperty("height");if(r&&i&&e){var o="calc(("+r+" - "+e.caretWidth+"px) / 2)",a="calc(("+i+" - "+e.caretWidth+"px) / 2)",s="0",c=Kn+"px",u="calc("+r+" - "+c+")",l="calc("+i+" - "+c+")",d=35,h=Math.abs(55),f=["border-bottom-right-radius","border-top-left-radius"],p=["border-bottom-left-radius","border-top-right-radius"],m=20;switch(t){case nr.BELOW_CENTER:return{yAlignment:cr,xAlignment:or,yAxisPx:s,xAxisPx:o,rotation:-35,skew:-20,xTransformOrigin:o,yTransformOrigin:s,caretCorners:f};case nr.BELOW_END:return{yAlignment:cr,xAlignment:n?ar:or,yAxisPx:s,xAxisPx:c,rotation:n?d:-35,skew:n?m:-20,xTransformOrigin:n?u:c,yTransformOrigin:s,caretCorners:n?p:f};case nr.BELOW_START:return{yAlignment:cr,xAlignment:n?or:ar,yAxisPx:s,xAxisPx:c,rotation:n?-35:d,skew:n?-20:m,xTransformOrigin:n?c:u,yTransformOrigin:s,caretCorners:n?f:p};case nr.TOP_SIDE_END:return{yAlignment:cr,xAlignment:n?or:ar,yAxisPx:c,xAxisPx:s,rotation:n?h:-1*h,skew:n?-20:m,xTransformOrigin:n?s:r,yTransformOrigin:c,caretCorners:n?f:p};case nr.CENTER_SIDE_END:return{yAlignment:cr,xAlignment:n?or:ar,yAxisPx:a,xAxisPx:s,rotation:n?h:-1*h,skew:n?-20:m,xTransformOrigin:n?s:r,yTransformOrigin:a,caretCorners:n?f:p};case nr.BOTTOM_SIDE_END:return{yAlignment:ur,xAlignment:n?or:ar,yAxisPx:c,xAxisPx:s,rotation:n?-1*h:h,skew:n?m:-20,xTransformOrigin:n?s:r,yTransformOrigin:l,caretCorners:n?p:f};case nr.TOP_SIDE_START:return{yAlignment:cr,xAlignment:n?ar:or,yAxisPx:c,xAxisPx:s,rotation:n?-1*h:h,skew:n?m:-20,xTransformOrigin:n?r:s,yTransformOrigin:c,caretCorners:n?p:f};case nr.CENTER_SIDE_START:return{yAlignment:cr,xAlignment:n?ar:or,yAxisPx:a,xAxisPx:s,rotation:n?-1*h:h,skew:n?m:-20,xTransformOrigin:n?r:s,yTransformOrigin:a,caretCorners:n?p:f};case nr.BOTTOM_SIDE_START:return{yAlignment:ur,xAlignment:n?ar:or,yAxisPx:c,xAxisPx:s,rotation:n?h:-1*h,skew:n?-20:m,xTransformOrigin:n?r:s,yTransformOrigin:l,caretCorners:n?f:p};case nr.ABOVE_CENTER:return{yAlignment:ur,xAlignment:or,yAxisPx:s,xAxisPx:o,rotation:d,skew:m,xTransformOrigin:o,yTransformOrigin:i,caretCorners:p};case nr.ABOVE_END:return{yAlignment:ur,xAlignment:n?ar:or,yAxisPx:s,xAxisPx:c,rotation:n?-35:d,skew:n?-20:m,xTransformOrigin:n?u:c,yTransformOrigin:i,caretCorners:n?f:p};default:case nr.ABOVE_START:return{yAlignment:ur,xAlignment:n?or:ar,yAxisPx:s,xAxisPx:c,rotation:n?d:-35,skew:n?m:-20,xTransformOrigin:n?c:u,yTransformOrigin:i,caretCorners:n?p:f}}}},e.prototype.clearShowTimeout=function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},e.prototype.clearHideTimeout=function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)},e.prototype.attachScrollHandler=function(t){var e=this;this.addAncestorScrollEventListeners.push((function(){t("scroll",e.windowScrollHandler)}))},e.prototype.removeScrollHandler=function(t){var e=this;this.removeAncestorScrollEventListeners.push((function(){t("scroll",e.windowScrollHandler)}))},e.prototype.destroy=function(){var t,e;this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.clearHideTimeout(),this.clearShowTimeout(),this.adapter.removeClass(hr),this.adapter.removeClass(pr),this.adapter.removeClass(fr),this.adapter.removeClass(mr),this.adapter.removeClass(Er),this.richTooltip&&this.adapter.deregisterEventHandler("focusout",this.richTooltipFocusOutHandler),this.persistentTooltip||(this.adapter.deregisterEventHandler("mouseenter",this.tooltipMouseEnterHandler),this.adapter.deregisterEventHandler("mouseleave",this.tooltipMouseLeaveHandler)),this.adapter.deregisterAnchorEventHandler("blur",this.anchorBlurHandler),this.adapter.deregisterDocumentEventHandler("click",this.documentClickHandler),this.adapter.deregisterDocumentEventHandler("keydown",this.documentKeydownHandler),this.adapter.deregisterWindowEventHandler("scroll",this.windowScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler);try{for(var n=v(this.removeAncestorScrollEventListeners),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.animFrame.cancelAll()},e}(_);var Tr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(){var t=this.root.getAttribute("id");if(!t)throw new Error("MDCTooltip: Tooltip component must have an id.");var e=document.querySelector('[data-tooltip-id="'+t+'"]')||document.querySelector('[aria-describedby="'+t+'"]');if(!e)throw new Error("MDCTooltip: Tooltip component requires an anchor element annotated with [aria-describedby] or [data-tooltip-id].");this.anchorElem=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.isTooltipRich=this.foundation.isRich(),this.isTooltipPersistent=this.foundation.isPersistent(),this.handleMouseEnter=function(){t.foundation.handleAnchorMouseEnter()},this.handleFocus=function(e){t.foundation.handleAnchorFocus(e)},this.handleMouseLeave=function(){t.foundation.handleAnchorMouseLeave()},this.handleTransitionEnd=function(){t.foundation.handleTransitionEnd()},this.handleClick=function(){t.foundation.handleAnchorClick()},this.handleTouchstart=function(){t.foundation.handleAnchorTouchstart()},this.handleTouchend=function(){t.foundation.handleAnchorTouchend()},this.isTooltipRich&&this.isTooltipPersistent?this.anchorElem.addEventListener("click",this.handleClick):(this.anchorElem.addEventListener("mouseenter",this.handleMouseEnter),this.anchorElem.addEventListener("focus",this.handleFocus),this.anchorElem.addEventListener("mouseleave",this.handleMouseLeave),this.anchorElem.addEventListener("touchstart",this.handleTouchstart),this.anchorElem.addEventListener("touchend",this.handleTouchend)),this.listen("transitionend",this.handleTransitionEnd)},e.prototype.destroy=function(){this.anchorElem&&(this.isTooltipRich&&this.isTooltipPersistent?this.anchorElem.removeEventListener("click",this.handleClick):(this.anchorElem.removeEventListener("mouseenter",this.handleMouseEnter),this.anchorElem.removeEventListener("focus",this.handleFocus),this.anchorElem.removeEventListener("mouseleave",this.handleMouseLeave),this.anchorElem.removeEventListener("touchstart",this.handleTouchstart),this.anchorElem.removeEventListener("touchend",this.handleTouchend))),this.unlisten("transitionend",this.handleTransitionEnd),t.prototype.destroy.call(this)},e.prototype.setTooltipPosition=function(t){this.foundation.setTooltipPosition(t)},e.prototype.setAnchorBoundaryType=function(t){this.foundation.setAnchorBoundaryType(t)},e.prototype.setShowDelay=function(t){this.foundation.setShowDelay(t)},e.prototype.setHideDelay=function(t){this.foundation.setHideDelay(t)},e.prototype.hide=function(){this.foundation.hide()},e.prototype.isShown=function(){return this.foundation.isShown()},e.prototype.attachScrollHandler=function(t){this.foundation.attachScrollHandler(t)},e.prototype.removeScrollHandler=function(t){this.foundation.removeScrollHandler(t)},e.prototype.getDefaultFoundation=function(){var t=this,e={getAttribute:function(e){return t.root.getAttribute(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},removeAttribute:function(e){t.root.removeAttribute(e)},addClass:function(e){t.root.classList.add(e)},hasClass:function(e){return t.root.classList.contains(e)},removeClass:function(e){t.root.classList.remove(e)},getComputedStyleProperty:function(e){return window.getComputedStyle(t.root).getPropertyValue(e)},setStyleProperty:function(e,n){t.root.style.setProperty(e,n)},setSurfaceAnimationStyleProperty:function(e,n){var r=t.root.querySelector("."+kn.SURFACE_ANIMATION);null==r||r.style.setProperty(e,n)},getViewportWidth:function(){return window.innerWidth},getViewportHeight:function(){return window.innerHeight},getTooltipSize:function(){return{width:t.root.offsetWidth,height:t.root.offsetHeight}},getAnchorBoundingRect:function(){return t.anchorElem?t.anchorElem.getBoundingClientRect():null},getParentBoundingRect:function(){var e,n;return null!==(n=null===(e=t.root.parentElement)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==n?n:null},getAnchorAttribute:function(e){return t.anchorElem?t.anchorElem.getAttribute(e):null},setAnchorAttribute:function(e,n){var r;null===(r=t.anchorElem)||void 0===r||r.setAttribute(e,n)},isRTL:function(){return"rtl"===getComputedStyle(t.root).direction},anchorContainsElement:function(e){var n;return!!(null===(n=t.anchorElem)||void 0===n?void 0:n.contains(e))},tooltipContainsElement:function(e){return t.root.contains(e)},focusAnchorElement:function(){var e;null===(e=t.anchorElem)||void 0===e||e.focus()},registerEventHandler:function(e,n){t.root instanceof HTMLElement&&t.root.addEventListener(e,n)},deregisterEventHandler:function(e,n){t.root instanceof HTMLElement&&t.root.removeEventListener(e,n)},registerAnchorEventHandler:function(e,n){var r;null===(r=t.anchorElem)||void 0===r||r.addEventListener(e,n)},deregisterAnchorEventHandler:function(e,n){var r;null===(r=t.anchorElem)||void 0===r||r.removeEventListener(e,n)},registerDocumentEventHandler:function(t,e){document.body.addEventListener(t,e)},deregisterDocumentEventHandler:function(t,e){document.body.removeEventListener(t,e)},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)},notifyHidden:function(){t.emit(er,{})},getTooltipCaretBoundingRect:function(){var e=t.root.querySelector("."+kn.TOOLTIP_CARET_TOP);return e?e.getBoundingClientRect():null},setTooltipCaretStyle:function(e,n){var r=t.root.querySelector("."+kn.TOOLTIP_CARET_TOP),i=t.root.querySelector("."+kn.TOOLTIP_CARET_BOTTOM);r&&i&&(r.style.setProperty(e,n),i.style.setProperty(e,n))},clearTooltipCaretStyles:function(){var e=t.root.querySelector("."+kn.TOOLTIP_CARET_TOP),n=t.root.querySelector("."+kn.TOOLTIP_CARET_BOTTOM);e&&n&&(e.removeAttribute("style"),n.removeAttribute("style"))},getActiveElement:function(){return document.activeElement}};return new vr(e)},e}(A),Ir={NATIVE_CONTROL_SELECTOR:".mdc-radio__native-control"},_r={DISABLED:"mdc-radio--disabled",ROOT:"mdc-radio"},Ar=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return _r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ir},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlDisabled:function(){}}},enumerable:!1,configurable:!0}),e.prototype.setDisabled=function(t){var n=e.cssClasses.DISABLED;this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(n):this.adapter.removeClass(n)},e}(_);var br=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rippleSurface=e.createRipple(),e}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"checked",{get:function(){return this.nativeControl.checked},set:function(t){this.nativeControl.checked=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeControl.disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeControl.value},set:function(t){this.nativeControl.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ripple",{get:function(){return this.rippleSurface},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.rippleSurface.destroy(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new Ar({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNativeControlDisabled:function(e){return t.nativeControl.disabled=e}})},e.prototype.createRipple=function(){var t=this,e=E(E({},M.createAdapter(this)),{registerInteractionHandler:function(e,n){t.nativeControl.addEventListener(e,n,b())},deregisterInteractionHandler:function(e,n){t.nativeControl.removeEventListener(e,n,b())},isSurfaceActive:function(){return!1},isUnbounded:function(){return!0}});return new M(this.root,new P(e))},Object.defineProperty(e.prototype,"nativeControl",{get:function(){var t=Ar.strings.NATIVE_CONTROL_SELECTOR,e=this.root.querySelector(t);if(!e)throw new Error("Radio component requires a "+t+" element");return e},enumerable:!1,configurable:!0}),e}(A),Cr={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},Sr={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},Or=.8367142,Rr=2.00611057,wr=.37651913,Lr=.84386165,Dr=1.60277782,xr=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.observer=null,r}return m(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Cr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Sr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this.determinate=!this.adapter.hasClass(Cr.INDETERMINATE_CLASS),this.adapter.addClass(Cr.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver((function(e){var n,r;if(!t.determinate)try{for(var i=v(e),o=i.next();!o.done;o=i.next()){var a=o.value;a.contentRect&&t.calculateAndSetDimensions(a.contentRect.width)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},e.prototype.setDeterminate=function(t){if(this.determinate=t,this.determinate)return this.adapter.removeClass(Cr.INDETERMINATE_CLASS),this.adapter.setAttribute(Sr.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(Sr.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(Sr.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(Cr.INDETERMINATE_CLASS),this.adapter.removeAttribute(Sr.ARIA_VALUENOW),this.adapter.removeAttribute(Sr.ARIA_VALUEMAX),this.adapter.removeAttribute(Sr.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},e.prototype.isDeterminate=function(){return this.determinate},e.prototype.setProgress=function(t){this.progress=t,this.determinate&&(this.setPrimaryBarProgress(t),this.adapter.setAttribute(Sr.ARIA_VALUENOW,t.toString()))},e.prototype.getProgress=function(){return this.progress},e.prototype.setBuffer=function(t){this.buffer=t,this.determinate&&this.setBufferBarProgress(t)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.open=function(){this.adapter.removeClass(Cr.CLOSED_CLASS),this.adapter.removeClass(Cr.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(Sr.ARIA_HIDDEN)},e.prototype.close=function(){this.adapter.addClass(Cr.CLOSED_CLASS),this.adapter.setAttribute(Sr.ARIA_HIDDEN,"true")},e.prototype.isClosed=function(){return this.adapter.hasClass(Cr.CLOSED_CLASS)},e.prototype.handleTransitionEnd=function(){this.adapter.hasClass(Cr.CLOSED_CLASS)&&this.adapter.addClass(Cr.CLOSED_ANIMATION_OFF_CLASS)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},e.prototype.restartAnimation=function(){this.adapter.removeClass(Cr.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(Cr.ANIMATION_READY_CLASS)},e.prototype.setPrimaryBarProgress=function(t){var e="scaleX("+t+")",n="undefined"!=typeof window?At(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,e)},e.prototype.setBufferBarProgress=function(t){var e=100*t+"%";this.adapter.setBufferBarStyle(Sr.FLEX_BASIS,e)},e.prototype.calculateAndSetDimensions=function(t){var e=t*Or,n=t*Rr,r=t*wr,i=t*Lr,o=t*Dr;this.adapter.setStyle("--mdc-linear-progress-primary-half",e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-o+"px"),this.restartAnimation()},e}(_);var Nr,Pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"determinate",{set:function(t){this.foundation.setDeterminate(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{set:function(t){this.foundation.setProgress(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{set:function(t){this.foundation.setBuffer(t)},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(){this.foundation.close()},e.prototype.initialSyncWithDOM=function(){var t=this;this.root.addEventListener("transitionend",(function(){t.foundation.handleTransitionEnd()}))},e.prototype.getDefaultFoundation=function(){var t=this;return new xr({addClass:function(e){t.root.classList.add(e)},forceLayout:function(){t.root.getBoundingClientRect()},setBufferBarStyle:function(e,n){var r=t.root.querySelector(xr.strings.BUFFER_BAR_SELECTOR);r&&r.style.setProperty(e,n)},setPrimaryBarStyle:function(e,n){var r=t.root.querySelector(xr.strings.PRIMARY_BAR_SELECTOR);r&&r.style.setProperty(e,n)},hasClass:function(e){return t.root.classList.contains(e)},removeAttribute:function(e){t.root.removeAttribute(e)},removeClass:function(e){t.root.classList.remove(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},setStyle:function(e,n){t.root.style.setProperty(e,n)},attachResizeObserver:function(e){var n=window.ResizeObserver;if(n){var r=new n(e);return r.observe(t.root),r}return null},getWidth:function(){return t.root.offsetWidth}})},e}(A),Mr="mdc-data-table__content",kr="mdc-data-table__header-cell--sorted",Fr="mdc-data-table__header-cell--sorted-descending",Hr="mdc-data-table__header-row",Br="mdc-data-table--in-progress",Gr="mdc-data-table__linear-progress",Ur="mdc-data-table__row--selected",Vr="mdc-data-table__table-container",qr="data-column-id",jr="data-row-id",Wr={CONTENT:"."+Mr,HEADER_CELL:"."+"mdc-data-table__header-cell",HEADER_CELL_WITH_SORT:"."+"mdc-data-table__header-cell--with-sort",HEADER_ROW:"."+Hr,HEADER_ROW_CHECKBOX:"."+"mdc-data-table__header-row-checkbox",PROGRESS_INDICATOR:"."+"mdc-data-table__progress-indicator",ROW:"."+"mdc-data-table__row",ROW_CHECKBOX:"."+"mdc-data-table__row-checkbox",ROW_SELECTED:"."+Ur,SORT_ICON_BUTTON:"."+"mdc-data-table__sort-icon-button",SORT_STATUS_LABEL:"."+"mdc-data-table__sort-status-label"},zr="Sorted in descending order",Xr="Sorted in ascending order",Yr={ARIA_SELECTED:"aria-selected",ARIA_SORT:"aria-sort",DATA_ROW_ID_ATTR:jr,HEADER_ROW_CHECKBOX_SELECTOR:Wr.HEADER_ROW_CHECKBOX,ROW_CHECKBOX_SELECTOR:Wr.ROW_CHECKBOX,ROW_SELECTED_SELECTOR:Wr.ROW_SELECTED,ROW_SELECTOR:Wr.ROW};!function(t){t.ASCENDING="ascending",t.DESCENDING="descending",t.NONE="none",t.OTHER="other"}(Nr||(Nr={}));var Kr,Qr="MDCDataTable:rowClick",Zr="MDCDataTable:rowSelectionChanged",Jr="MDCDataTable:selectedAll",$r="MDCDataTable:sorted",ti="MDCDataTable:unselectedAll",ei=function(t){function e(n){return t.call(this,E(E({},e.defaultAdapter),n))||this}return m(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},addClassAtRowIndex:function(){},getAttributeByHeaderCellIndex:function(){return""},getHeaderCellCount:function(){return 0},getHeaderCellElements:function(){return[]},getRowCount:function(){return 0},getRowElements:function(){return[]},getRowIdAtIndex:function(){return""},getRowIndexByChildElement:function(){return 0},getSelectedRowCount:function(){return 0},getTableContainerHeight:function(){return 0},getTableHeaderHeight:function(){return 0},isCheckboxAtRowIndexChecked:function(){return!1},isHeaderRowCheckboxChecked:function(){return!1},isRowsSelectable:function(){return!1},notifyRowSelectionChanged:function(){},notifySelectedAll:function(){},notifySortAction:function(){},notifyUnselectedAll:function(){},notifyRowClick:function(){},registerHeaderRowCheckbox:function(){},registerRowCheckboxes:function(){},removeClass:function(){},removeClassAtRowIndex:function(){},removeClassNameByHeaderCellIndex:function(){},setAttributeAtRowIndex:function(){},setAttributeByHeaderCellIndex:function(){},setClassNameByHeaderCellIndex:function(){},setHeaderRowCheckboxChecked:function(){},setHeaderRowCheckboxIndeterminate:function(){},setProgressIndicatorStyles:function(){},setRowCheckboxCheckedAtIndex:function(){},setSortStatusLabelByHeaderCellIndex:function(){}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.adapter.isRowsSelectable()&&(this.adapter.registerHeaderRowCheckbox(),this.adapter.registerRowCheckboxes(),this.setHeaderRowCheckboxState())},e.prototype.layoutAsync=function(){return g(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return this.adapter.isRowsSelectable()?[4,this.adapter.registerHeaderRowCheckbox()]:[3,3];case 1:return t.sent(),[4,this.adapter.registerRowCheckboxes()];case 2:t.sent(),this.setHeaderRowCheckboxState(),t.label=3;case 3:return[2]}}))}))},e.prototype.getRows=function(){return this.adapter.getRowElements()},e.prototype.getHeaderCells=function(){return this.adapter.getHeaderCellElements()},e.prototype.setSelectedRowIds=function(t){for(var e=0;e<this.adapter.getRowCount();e++){var n=this.adapter.getRowIdAtIndex(e),r=!1;n&&t.indexOf(n)>=0&&(r=!0),this.adapter.setRowCheckboxCheckedAtIndex(e,r),this.selectRowAtIndex(e,r)}this.setHeaderRowCheckboxState()},e.prototype.getRowIds=function(){for(var t=[],e=0;e<this.adapter.getRowCount();e++)t.push(this.adapter.getRowIdAtIndex(e));return t},e.prototype.getSelectedRowIds=function(){for(var t=[],e=0;e<this.adapter.getRowCount();e++)this.adapter.isCheckboxAtRowIndexChecked(e)&&t.push(this.adapter.getRowIdAtIndex(e));return t},e.prototype.handleHeaderRowCheckboxChange=function(){for(var t=this.adapter.isHeaderRowCheckboxChecked(),e=0;e<this.adapter.getRowCount();e++)this.adapter.setRowCheckboxCheckedAtIndex(e,t),this.selectRowAtIndex(e,t);t?this.adapter.notifySelectedAll():this.adapter.notifyUnselectedAll()},e.prototype.handleRowCheckboxChange=function(t){var e=this.adapter.getRowIndexByChildElement(t.target);if(-1!==e){var n=this.adapter.isCheckboxAtRowIndexChecked(e);this.selectRowAtIndex(e,n),this.setHeaderRowCheckboxState();var r=this.adapter.getRowIdAtIndex(e);this.adapter.notifyRowSelectionChanged({rowId:r,rowIndex:e,selected:n})}},e.prototype.handleSortAction=function(t){for(var e=t.columnId,n=t.columnIndex,r=t.headerCell,i=0;i<this.adapter.getHeaderCellCount();i++)i!==n&&(this.adapter.removeClassNameByHeaderCellIndex(i,kr),this.adapter.removeClassNameByHeaderCellIndex(i,Fr),this.adapter.setAttributeByHeaderCellIndex(i,Yr.ARIA_SORT,Nr.NONE),this.adapter.setSortStatusLabelByHeaderCellIndex(i,Nr.NONE));this.adapter.setClassNameByHeaderCellIndex(n,kr);var o=this.adapter.getAttributeByHeaderCellIndex(n,Yr.ARIA_SORT),a=Nr.NONE;o===Nr.ASCENDING?(this.adapter.setClassNameByHeaderCellIndex(n,Fr),this.adapter.setAttributeByHeaderCellIndex(n,Yr.ARIA_SORT,Nr.DESCENDING),a=Nr.DESCENDING):o===Nr.DESCENDING?(this.adapter.removeClassNameByHeaderCellIndex(n,Fr),this.adapter.setAttributeByHeaderCellIndex(n,Yr.ARIA_SORT,Nr.ASCENDING),a=Nr.ASCENDING):(this.adapter.setAttributeByHeaderCellIndex(n,Yr.ARIA_SORT,Nr.ASCENDING),a=Nr.ASCENDING),this.adapter.setSortStatusLabelByHeaderCellIndex(n,a),this.adapter.notifySortAction({columnId:e,columnIndex:n,headerCell:r,sortValue:a})},e.prototype.handleRowClick=function(t){var e=t.rowId,n=t.row;this.adapter.notifyRowClick({rowId:e,row:n})},e.prototype.showProgress=function(){var t=this.adapter.getTableHeaderHeight(),e=this.adapter.getTableContainerHeight()-t,n=t;this.adapter.setProgressIndicatorStyles({height:e+"px",top:n+"px"}),this.adapter.addClass(Br)},e.prototype.hideProgress=function(){this.adapter.removeClass(Br)},e.prototype.setHeaderRowCheckboxState=function(){0===this.adapter.getSelectedRowCount()?(this.adapter.setHeaderRowCheckboxChecked(!1),this.adapter.setHeaderRowCheckboxIndeterminate(!1)):this.adapter.getSelectedRowCount()===this.adapter.getRowCount()?(this.adapter.setHeaderRowCheckboxChecked(!0),this.adapter.setHeaderRowCheckboxIndeterminate(!1)):(this.adapter.setHeaderRowCheckboxIndeterminate(!0),this.adapter.setHeaderRowCheckboxChecked(!1))},e.prototype.selectRowAtIndex=function(t,e){e?(this.adapter.addClassAtRowIndex(t,Ur),this.adapter.setAttributeAtRowIndex(t,Yr.ARIA_SELECTED,"true")):(this.adapter.removeClassAtRowIndex(t,Ur),this.adapter.setAttributeAtRowIndex(t,Yr.ARIA_SELECTED,"false"))},e}(_),ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(t){return new Lt(t)}),this.checkboxFactory=t},e.prototype.initialSyncWithDOM=function(){var t=this;this.headerRow=this.root.querySelector("."+Hr),this.handleHeaderRowCheckboxChange=function(){t.foundation.handleHeaderRowCheckboxChange()},this.headerRow.addEventListener("change",this.handleHeaderRowCheckboxChange),this.headerRowClickListener=function(e){t.handleHeaderRowClick(e)},this.headerRow.addEventListener("click",this.headerRowClickListener),this.content=this.root.querySelector("."+Mr),this.handleContentClick=function(e){var n=C(e.target,Wr.ROW);n&&t.foundation.handleRowClick({rowId:t.getRowIdByRowElement(n),row:n})},this.content.addEventListener("click",this.handleContentClick),this.handleRowCheckboxChange=function(e){t.foundation.handleRowCheckboxChange(e)},this.content.addEventListener("change",this.handleRowCheckboxChange),this.layout()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getHeaderCells=function(){return[].slice.call(this.root.querySelectorAll(Wr.HEADER_CELL))},e.prototype.getRows=function(){return this.foundation.getRows()},e.prototype.getSelectedRowIds=function(){return this.foundation.getSelectedRowIds()},e.prototype.setSelectedRowIds=function(t){this.foundation.setSelectedRowIds(t)},e.prototype.showProgress=function(){this.getLinearProgress().open(),this.foundation.showProgress()},e.prototype.hideProgress=function(){this.foundation.hideProgress(),this.getLinearProgress().close()},e.prototype.destroy=function(){var t,e;if(this.handleHeaderRowCheckboxChange&&this.headerRow.removeEventListener("change",this.handleHeaderRowCheckboxChange),this.headerRowClickListener&&this.headerRow.removeEventListener("click",this.headerRowClickListener),this.handleRowCheckboxChange&&this.content.removeEventListener("change",this.handleRowCheckboxChange),this.headerRowCheckbox&&this.headerRowCheckbox.destroy(),this.rowCheckboxList)try{for(var n=v(this.rowCheckboxList),r=n.next();!r.done;r=n.next()){r.value.destroy()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.handleContentClick&&this.content.removeEventListener("click",this.handleContentClick)},e.prototype.getDefaultFoundation=function(){var t=this,e={addClass:function(e){t.root.classList.add(e)},removeClass:function(e){t.root.classList.remove(e)},getHeaderCellElements:function(){return t.getHeaderCells()},getHeaderCellCount:function(){return t.getHeaderCells().length},getAttributeByHeaderCellIndex:function(e,n){return t.getHeaderCells()[e].getAttribute(n)},setAttributeByHeaderCellIndex:function(e,n,r){t.getHeaderCells()[e].setAttribute(n,r)},setClassNameByHeaderCellIndex:function(e,n){t.getHeaderCells()[e].classList.add(n)},removeClassNameByHeaderCellIndex:function(e,n){t.getHeaderCells()[e].classList.remove(n)},notifySortAction:function(e){t.emit($r,e,!0)},getTableContainerHeight:function(){var e=t.root.querySelector("."+Vr);if(!e)throw new Error("MDCDataTable: Table container element not found.");return e.getBoundingClientRect().height},getTableHeaderHeight:function(){var e=t.root.querySelector(Wr.HEADER_ROW);if(!e)throw new Error("MDCDataTable: Table header element not found.");return e.getBoundingClientRect().height},setProgressIndicatorStyles:function(e){var n=t.root.querySelector(Wr.PROGRESS_INDICATOR);if(!n)throw new Error("MDCDataTable: Progress indicator element not found.");n.style.setProperty("height",e.height),n.style.setProperty("top",e.top)},addClassAtRowIndex:function(e,n){t.getRows()[e].classList.add(n)},getRowCount:function(){return t.getRows().length},getRowElements:function(){return[].slice.call(t.root.querySelectorAll(Wr.ROW))},getRowIdAtIndex:function(e){return t.getRows()[e].getAttribute(jr)},getRowIndexByChildElement:function(e){return t.getRows().indexOf(C(e,Wr.ROW))},getSelectedRowCount:function(){return t.root.querySelectorAll(Wr.ROW_SELECTED).length},isCheckboxAtRowIndexChecked:function(e){return t.rowCheckboxList[e].checked},isHeaderRowCheckboxChecked:function(){return t.headerRowCheckbox.checked},isRowsSelectable:function(){return!!t.root.querySelector(Wr.ROW_CHECKBOX)||!!t.root.querySelector(Wr.HEADER_ROW_CHECKBOX)},notifyRowSelectionChanged:function(e){t.emit(Zr,{row:t.getRowByIndex(e.rowIndex),rowId:t.getRowIdByIndex(e.rowIndex),rowIndex:e.rowIndex,selected:e.selected},!0)},notifySelectedAll:function(){t.emit(Jr,{},!0)},notifyUnselectedAll:function(){t.emit(ti,{},!0)},notifyRowClick:function(e){t.emit(Qr,e,!0)},registerHeaderRowCheckbox:function(){t.headerRowCheckbox&&t.headerRowCheckbox.destroy();var e=t.root.querySelector(Wr.HEADER_ROW_CHECKBOX);t.headerRowCheckbox=t.checkboxFactory(e)},registerRowCheckboxes:function(){t.rowCheckboxList&&t.rowCheckboxList.forEach((function(t){t.destroy()})),t.rowCheckboxList=[],t.getRows().forEach((function(e){var n=t.checkboxFactory(e.querySelector(Wr.ROW_CHECKBOX));t.rowCheckboxList.push(n)}))},removeClassAtRowIndex:function(e,n){t.getRows()[e].classList.remove(n)},setAttributeAtRowIndex:function(e,n,r){t.getRows()[e].setAttribute(n,r)},setHeaderRowCheckboxChecked:function(e){t.headerRowCheckbox.checked=e},setHeaderRowCheckboxIndeterminate:function(e){t.headerRowCheckbox.indeterminate=e},setRowCheckboxCheckedAtIndex:function(e,n){t.rowCheckboxList[e].checked=n},setSortStatusLabelByHeaderCellIndex:function(e,n){var r=t.getHeaderCells()[e].querySelector(Wr.SORT_STATUS_LABEL);r&&(r.textContent=t.getSortStatusMessageBySortValue(n))}};return new ei(e)},e.prototype.getRowByIndex=function(t){return this.getRows()[t]},e.prototype.getRowIdByIndex=function(t){return this.getRowByIndex(t).getAttribute(jr)},e.prototype.handleHeaderRowClick=function(t){var e=C(t.target,Wr.HEADER_CELL_WITH_SORT);if(e){var n=e.getAttribute(qr),r=this.getHeaderCells().indexOf(e);-1!==r&&this.foundation.handleSortAction({columnId:n,columnIndex:r,headerCell:e})}},e.prototype.getSortStatusMessageBySortValue=function(t){switch(t){case Nr.ASCENDING:return Xr;case Nr.DESCENDING:return zr;default:return""}},e.prototype.getLinearProgressElement=function(){var t=this.root.querySelector("."+Gr);if(!t)throw new Error("MDCDataTable: linear progress element is not found.");return t},e.prototype.getLinearProgress=function(){if(!this.linearProgress){var t=this.getLinearProgressElement();this.linearProgress=new Pr(t)}return this.linearProgress},e.prototype.getRowIdByRowElement=function(t){return t.getAttribute(jr)},e}(A),ri="mdc-banner--closing",ii="mdc-banner--open",oi="mdc-banner--opening",ai=250,si=300,ci="MDCBanner:closed",ui="MDCBanner:closing",li="MDCBanner:opened",di="MDCBanner:opening",hi=".mdc-banner__content",fi=".mdc-banner__primary-action",pi=".mdc-banner__secondary-action",mi=".mdc-banner__text";!function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY",t[t.UNSPECIFIED=2]="UNSPECIFIED"}(Kr||(Kr={}));var Ei=oi,gi=ii,yi=ri,vi=function(t){function e(n){var r=t.call(this,E(E({},e.defaultAdapter),n))||this;return r.isOpened=!1,r.animationFrame=0,r.animationTimer=0,r}return m(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},getContentHeight:function(){return 0},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeClass:function(){},setStyleProperty:function(){},trapFocus:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0},e.prototype.open=function(){var t=this;this.isOpened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(yi),this.adapter.addClass(Ei);var e=this.adapter.getContentHeight();this.animationFrame=requestAnimationFrame((function(){t.adapter.addClass(gi),t.adapter.setStyleProperty("height",e+"px"),t.animationTimer=setTimeout((function(){t.handleAnimationTimerEnd(),t.adapter.trapFocus(),t.adapter.notifyOpened()}),si)}))},e.prototype.close=function(t){var e=this;this.isOpened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.isOpened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(yi),this.adapter.setStyleProperty("height","0"),this.adapter.removeClass(gi),this.adapter.removeClass(Ei),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),ai))},e.prototype.isOpen=function(){return this.isOpened},e.prototype.handlePrimaryActionClick=function(){this.close(Kr.PRIMARY)},e.prototype.handleSecondaryActionClick=function(){this.close(Kr.SECONDARY)},e.prototype.layout=function(){var t=this.adapter.getContentHeight();this.adapter.setStyleProperty("height",t+"px")},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Ei),this.adapter.removeClass(yi)},e}(_),Ti=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var e=this;void 0===t&&(t=function(t,e){return new gn(t,e)}),this.contentEl=this.root.querySelector(hi),this.textEl=this.root.querySelector(mi),this.primaryActionEl=this.root.querySelector(fi),this.secondaryActionEl=this.root.querySelector(pi),this.focusTrapFactory=t,this.handleContentClick=function(t){var n=t.target;C(n,fi)?e.foundation.handlePrimaryActionClick():C(n,pi)&&e.foundation.handleSecondaryActionClick()}},e.prototype.initialSyncWithDOM=function(){this.registerContentClickHandler(this.handleContentClick),this.focusTrap=this.focusTrapFactory(this.root,{initialFocusEl:this.primaryActionEl})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterContentClickHandler(this.handleContentClick)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new vi({addClass:function(e){t.root.classList.add(e)},getContentHeight:function(){return t.contentEl.offsetHeight},notifyClosed:function(e){t.emit(ci,{reason:e})},notifyClosing:function(e){t.emit(ui,{reason:e})},notifyOpened:function(){t.emit(li,{})},notifyOpening:function(){t.emit(di,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeClass:function(e){t.root.classList.remove(e)},setStyleProperty:function(e,n){t.root.style.setProperty(e,n)},trapFocus:function(){t.focusTrap.trapFocus()}})},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),e.prototype.getText=function(){return this.textEl.textContent||""},e.prototype.setText=function(t){this.textEl.textContent=t},e.prototype.getPrimaryActionText=function(){return this.primaryActionEl.textContent||""},e.prototype.setPrimaryActionText=function(t){this.primaryActionEl.textContent=t},e.prototype.getSecondaryActionText=function(){return this.secondaryActionEl?this.secondaryActionEl.textContent||"":null},e.prototype.setSecondaryActionText=function(t){this.secondaryActionEl&&(this.secondaryActionEl.textContent=t)},e.prototype.registerContentClickHandler=function(t){this.contentEl.addEventListener("click",t)},e.prototype.deregisterContentClickHandler=function(t){this.contentEl.removeEventListener("click",t)},e}(A);function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ai(t,e,n){return e&&_i(t.prototype,e),n&&_i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bi(){return bi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bi.apply(this,arguments)}function Ci(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oi(t,e)}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Si(t)}function Oi(t,e){return Oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oi(t,e)}function Ri(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Si(t);if(e){var i=Si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ri(this,n)}}var Li=function(){function t(){Ii(this,t)}return Ai(t,[{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,e){return this.stopListening(".client-"+t,e)}}]),t}(),Di=function(){function t(e){Ii(this,t),this.setNamespace(e)}return Ai(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),xi=function(t){Ci(n,t);var e=wi(n);function n(t,r,i){var o;return Ii(this,n),(o=e.call(this)).name=r,o.pusher=t,o.options=i,o.eventFormatter=new Di(o.options.namespace),o.subscribe(),o}return Ai(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"listenToAll",value:function(t){var e=this;return this.subscription.bind_global((function(n,r){if(!n.startsWith("pusher:")){var i=e.options.namespace.replace(/\./g,"\\"),o=n.startsWith(i)?n.substring(i.length+1):"."+n;t(o,r)}})),this}},{key:"stopListening",value:function(t,e){return e?this.subscription.unbind(this.eventFormatter.format(t),e):this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"stopListeningToAll",value:function(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(t){return this.on("pusher:subscription_succeeded",(function(){t()})),this}},{key:"error",value:function(t){return this.on("pusher:subscription_error",(function(e){t(e)})),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),n}(Li),Ni=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(xi),Pi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(xi),Mi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",(function(e){t(Object.keys(e.members).map((function(t){return e.members[t]})))})),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",(function(e){t(e.info)})),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",(function(e){t(e.info)})),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(xi),ki=function(t){Ci(n,t);var e=wi(n);function n(t,r,i){var o;return Ii(this,n),(o=e.call(this)).events={},o.listeners={},o.name=r,o.socket=t,o.options=i,o.eventFormatter=new Di(o.options.namespace),o.subscribe(),o}return Ai(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t,e){return this.unbindEvent(this.eventFormatter.format(t),e),this}},{key:"subscribed",value:function(t){return this.on("connect",(function(e){t(e)})),this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=function(e,r){n.name===e&&n.listeners[t]&&n.listeners[t].forEach((function(t){return t(r)}))},this.socket.on(t,this.events[t])),this.listeners[t].push(e),this}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach((function(e){t.unbindEvent(e)}))}},{key:"unbindEvent",value:function(t,e){this.listeners[t]=this.listeners[t]||[],e&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))),e&&0!==this.listeners[t].length||(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}]),n}(Li),Fi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:e}),this}}]),n}(ki),Hi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"here",value:function(t){return this.on("presence:subscribed",(function(e){t(e.map((function(t){return t.user_info})))})),this}},{key:"joining",value:function(t){return this.on("presence:joining",(function(e){return t(e.user_info)})),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",(function(e){return t(e.user_info)})),this}}]),n}(Fi),Bi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,e){return this}},{key:"stopListening",value:function(t,e){return this}},{key:"subscribed",value:function(t){return this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){return this}}]),n}(Li),Gi=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"whisper",value:function(t,e){return this}}]),n}(Bi),Ui=function(t){Ci(n,t);var e=wi(n);function n(){return Ii(this,n),e.apply(this,arguments)}return Ai(n,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"leaving",value:function(t){return this}},{key:"whisper",value:function(t,e){return this}}]),n}(Bi),Vi=function(){function t(e){Ii(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return Ai(t,[{key:"setOptions",value:function(t){return this.options=bi(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}},{key:"csrfToken",value:function(){var t;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),qi=function(t){Ci(n,t);var e=wi(n);function n(){var t;return Ii(this,n),(t=e.apply(this,arguments)).channels={},t}return Ai(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new xi(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Ni(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"encryptedPrivateChannel",value:function(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new Pi(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Mi(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t,n){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(Vi),ji=function(t){Ci(n,t);var e=wi(n);function n(){var t;return Ii(this,n),(t=e.apply(this,arguments)).channels={},t}return Ai(n,[{key:"connect",value:function(){var t=this,e=this.getSocketIO();return this.socket=e(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(t.channels).forEach((function(t){t.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new ki(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Fi(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Hi(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(Vi),Wi=function(t){Ci(n,t);var e=wi(n);function n(){var t;return Ii(this,n),(t=e.apply(this,arguments)).channels={},t}return Ai(n,[{key:"connect",value:function(){}},{key:"listen",value:function(t,e,n){return new Bi}},{key:"channel",value:function(t){return new Bi}},{key:"privateChannel",value:function(t){return new Gi}},{key:"presenceChannel",value:function(t){return new Ui}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(Vi),zi=function(){function t(e){Ii(this,t),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Ai(t,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new qi(this.options):"socket.io"==this.options.broadcaster?this.connector=new ji(this.options):"null"==this.options.broadcaster?this.connector=new Wi(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push((function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use((function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e}))}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(e,n,r){t.socketId()&&r.setRequestHeader("X-Socket-Id",t.socketId())}))}}]),t}();function Xi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.FilePond=r,window.FilePondPluginImageCrop=o(),window.FilePondPluginImagePreview=s(),window.FilePondPluginFileValidateType=u(),window.FilePondPluginImageTransform=d(),window.FilePondPluginImageOverlay=f(),window.Pusher=n(606),window.Echo=new zi({broadcaster:"pusher",key:"efd32c229d03ddfc0b40",cluster:"mt1",forceTLS:!0});var Yi=n(566);window.bodyScroll=Yi;var Ki,Qi=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(document.querySelectorAll(".mdc-switch"));try{for(Qi.s();!(Ki=Qi.n()).done;)new mn(Ki.value)}catch(t){Qi.e(t)}finally{Qi.f()}[].map.call(document.querySelectorAll(".mdc-button"),(function(t){return new M(t)})),[].map.call(document.querySelectorAll(".mdc-button-ripple"),(function(t){return new M(t)})),[].map.call(document.querySelectorAll(".mdc-text-field"),(function(t){return new pt(t)}));var Zi=[];window.initTextField=function(t){null!==document.getElementById(t)&&(Zi[t]=new pt(document.getElementById(t)))};[].map.call(document.querySelectorAll(".mdc-select"),(function(t){return new Hn(t)})),[].map.call(document.querySelectorAll(".icontoggle"),(function(t){return new vt(t)})),[].map.call(document.querySelectorAll(".mdc-ripple-surface"),(function(t){return new M(t)})),[].map.call(document.querySelectorAll(".mdc-radio"),(function(t){return new br(t)}));if(null!==document.getElementById("confirm-dialog")){var Ji=new bn(document.querySelector(".confirm-dialog"));window.delDialog=function(){Ji.open()},window.confDialog=Ji}if(null!==document.getElementById("unsub-dialog")){var $i=new bn(document.querySelector(".unsub-dialog"));window.unsubDialog=function(){$i.open()}}[].map.call(document.querySelectorAll(".mdc-icon-button"),(function(t){var e=new M(t);return e.unbounded=!0,e})),[].map.call(document.querySelectorAll(".mdc-checkbox"),(function(t){new Lt(t)})),[].map.call(document.querySelectorAll(".mdc-tooltip"),(function(t){return new Tr(t)})),[].map.call(document.querySelectorAll(".mdc-deprecated-list"),(function(t){var e=new Ye(t);e.listElements.map((function(t){return new M(t)}));return e}));if(window.initTooltip=function(t){null!==document.getElementById(t)&&(Zi[t]=new Tr(document.getElementById(t)))},null!==document.querySelector(".mdc-banner")){var to=new Ti(document.querySelector(".mdc-banner"));window.offlineBanner=to}[].map.call(document.querySelectorAll(".mdc-data-table"),(function(t){return new ni(t)}));if(null!==document.getElementById("snackbar")){var eo=new te(document.querySelector(".snackbar"));window.snack=function(t){eo.labelText=t,eo.open()},window.snackbar=eo}if(null!==document.getElementById("refreshpwa")){var no=new te(document.querySelector(".refreshpwa"));window.showRefresh=function(){no.open()},window.pwaSnackbar=no}if(null!==document.querySelector(".edit-more-menu")){var ro=new cn(document.querySelector(".edit-more-menu"));window.moreMenu=ro}if(null!==document.querySelector(".delete-assignment-conf")){var oo=new bn(document.querySelector(".delete-assignment-conf"));window.deleteAssignmentDialog=oo,window.openAssignmentDialog=function(){oo.open()}}if(null!==document.querySelector(".suggestions-menu")){var ao=new cn(document.querySelector(".suggestions-menu"));window.suggestionsMenu=ao}if(null!==document.querySelector(".manage-reminders-dialog")){var so=new bn(document.querySelector(".manage-reminders-dialog"));so.scrimClickAction="",document.getElementById("reminder-button").addEventListener("click",(function(){so.open()}))}},566:function(t){var e;e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e){var n,r,i;r=document.scrollingElement||document.documentElement,i=null,n=null,t.exports={toggle:function(){return i?disable():enable()},disable:function(){return i=r.scrollTop,n=document.body.style.cssText,document.body.style.cssText=";overflow: hidden; position: fixed; height:   100%; width:    100%; top:      "+-i+"px; "},enable:function(){return document.body.style.cssText=n,r.scrollTop=i}}}])},t.exports=e()},521:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isString,o=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,c=n.getFilenameFromURL,u=function(t,e){return(/^[^/]+/.exec(t)||[]).pop()===e.slice(0,-2)},l=function(t,e){return t.some((function(t){return/\*$/.test(t)?u(e,t):t===e}))},d=function(t){var e="";if(i(t)){var n=c(t),r=s(n);r&&(e=a(r))}else e=t.type;return e},h=function(t,e,n){if(0===e.length)return!0;var r=d(t);return n?new Promise((function(i,o){n(t,r).then((function(t){l(e,t)?i():o()})).catch(o)})):l(e,r)},f=function(t){return function(e){return null!==t[e]&&(t[e]||e)}};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(function(t){return Object.assign(t,{accept:"acceptedFileTypes"})})),e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||h(t,n("GET_ACCEPTED_FILE_TYPES"))})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var i=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=h(t,i,a),c=function(){var t=i.map(f(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(t){return!1!==t})),e=t.filter((function(e,n){return t.indexOf(e)===n}));r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[t.length-1]})}})};if("boolean"==typeof s)return s?e(t):c();s.then((function(){e(t)})).catch(c)}else e(t)}))})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},180:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.isFile,a=r.getNumericAspectRatioFromString,s=function(e,n){return!(!t(e.file)||!n("GET_ALLOW_IMAGE_CROP"))},c=function(t){return"object"==typeof t},u=function(t){return"number"==typeof t},l=function(t,e){return t.setMetadata("crop",Object.assign({},t.getMetadata("crop"),e))};return n("DID_CREATE_ITEM",(function(t,e){var n=e.query;t.extend("setImageCrop",(function(e){if(s(t,n)&&c(center))return t.setMetadata("crop",e),e})),t.extend("setImageCropCenter",(function(e){if(s(t,n)&&c(e))return l(t,{center:e})})),t.extend("setImageCropZoom",(function(e){if(s(t,n)&&u(e))return l(t,{zoom:Math.max(1,e)})})),t.extend("setImageCropRotation",(function(e){if(s(t,n)&&u(e))return l(t,{rotation:e})})),t.extend("setImageCropFlip",(function(e){if(s(t,n)&&c(e))return l(t,{flip:e})})),t.extend("setImageCropAspectRatio",(function(e){if(s(t,n)&&void 0!==e){var r=t.getMetadata("crop"),i=a(e),o={center:{x:.5,y:.5},flip:r?Object.assign({},r.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:i};return t.setMetadata("crop",o),o}}))})),n("DID_LOAD_ITEM",(function(e,n){var r=n.query;return new Promise((function(n,i){var s=e.file;if(!o(s)||!t(s)||!r("GET_ALLOW_IMAGE_CROP"))return n(e);if(e.getMetadata("crop"))return n(e);var c=r("GET_IMAGE_CROP_ASPECT_RATIO");e.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:c?a(c):null}),n(e)}))})),{options:{allowImageCrop:[!0,i.BOOLEAN],imageCropAspectRatio:[null,i.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},424:function(t){t.exports=function(){"use strict";const t=t=>/^image/.test(t.type),e=(t,e)=>{let n=new Image;n.onload=()=>{const t=n.naturalWidth,r=n.naturalHeight;n=null,e(t,r)},n.src=t},n=(t,e,n)=>{const o=e.querySelector(".filepond--file-info-main"),a=r(n);o.prepend(a),a.addEventListener("click",(()=>i(t))),window.setTimeout((()=>{const n=e.querySelector(".filepond--image-preview");n&&(n.classList.add("clickable"),n.addEventListener("click",(()=>i(t))))}),1e3)},r=t=>{let e=document.createElement("span");return e.className="filepond--magnify-icon",e.title=t,e},i=t=>{const e=document.createElement("div");e.className="filepond--fullsize-overlay";const n=document.createElement("div"),r=URL.createObjectURL(t.file);n.className="image-container",n.style.backgroundImage="url("+r+")",o(r,n);let i=document.getElementsByTagName("body")[0];e.appendChild(n),i.appendChild(e),e.addEventListener("click",(()=>e.remove()))},o=(t,n)=>{const r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);e(t,((t,e)=>{(t>r||e>i)&&(n.style.backgroundSize="contain")}))},a=e=>{const{addFilter:r,utils:i}=e,{Type:o,createRoute:a}=i;return r("CREATE_VIEW",(e=>{const{is:r,view:i,query:o}=e;if(!r("file"))return;const s=({root:e,props:r})=>{const{id:i}=r,a=o("GET_ITEM",i);if(!a||a.archived||!t(a.file))return;const s=e.query("GET_LABEL_BUTTON_IMAGE_OVERLAY");n(a,e.element,s),e.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:i})};i.registerWriter(a({DID_LOAD_ITEM:s},(({root:e,props:n})=>{const{id:r}=n,i=o("GET_ITEM",r);t(i.file)&&e.rect.element.hidden})))})),{options:{labelButtonImageOverlay:["Open image in overlay",o.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:a})),a}()},965:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)};function e(t){this.wrapped=t}function n(t){var n,r;function i(t,e){return new Promise((function(i,a){var s={key:t,arg:e,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(t,e))}))}function o(n,r){try{var i=t[n](r),s=i.value,c=s instanceof e;Promise.resolve(c?s.wrapped:s).then((function(t){c?o("next",t):a(i.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){a("throw",t)}}function a(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=i,"function"!=typeof t.return&&(this.return=void 0)}function r(t,e){return i(t)||o(t,e)||a()}function i(t){if(Array.isArray(t))return t}function o(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)};var s=function(t,e){return d(t.x*e,t.y*e)},c=function(t,e){return d(t.x+e.x,t.y+e.y)},u=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:d(t.x/e,t.y/e)},l=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=d(t.x-n.x,t.y-n.y);return d(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},d=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},f=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=h(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return h(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}},p=function(t){return null!=t},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=h(t.x,e,n,"width")||h(t.left,e,n,"width"),i=h(t.y,e,n,"height")||h(t.top,e,n,"height"),o=h(t.width,e,n,"width"),a=h(t.height,e,n,"height"),s=h(t.right,e,n,"width"),c=h(t.bottom,e,n,"height");return p(i)||(i=p(a)&&p(c)?e.height-a-c:c),p(r)||(r=p(o)&&p(s)?e.width-o-s:s),p(o)||(o=p(r)&&p(s)?e.width-r-s:0),p(a)||(a=p(i)&&p(c)?e.height-i-c:0),{x:r||0,y:i||0,width:o||0,height:a||0}},E=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},g=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},y="http://www.w3.org/2000/svg",v=function(t,e){var n=document.createElementNS(y,t);return e&&g(n,e),n},T=function(t){return g(t,Object.assign({},t.rect,t.styles))},I=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return g(t,Object.assign({cx:e,cy:n,rx:r,ry:i},t.styles))},_={contain:"xMidYMid meet",cover:"xMidYMid slice"},A=function(t,e){g(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:_[e.fit]||"none"}))},b={left:"start",center:"middle",right:"end"},C=function(t,e,n,r){var i=h(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=b[e.textAlign]||"start";g(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},S=function(t,e,n,r){g(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],d=t.rect,f={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(g(i,{x1:d.x,y1:d.y,x2:f.x,y2:f.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var p=u({x:f.x-d.x,y:f.y-d.y}),m=h(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var E=s(p,m),y=c(d,E),v=l(d,2,y),T=l(d,-2,y);g(o,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(d.x,",").concat(d.y," L").concat(T.x,",").concat(T.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var I=s(p,-m),_=c(f,I),A=l(f,2,_),b=l(f,-2,_);g(a,{style:"display:block;",d:"M".concat(A.x,",").concat(A.y," L").concat(f.x,",").concat(f.y," L").concat(b.x,",").concat(b.y)})}}},O=function(t,e,n,r){g(t,Object.assign({},t.styles,{fill:"none",d:E(e.points.map((function(t){return{x:h(t.x,n,r,"width"),y:h(t.y,n,r,"height")}})))}))},R=function(t){return function(e){return v(t,{id:e.id})}},w=function(t){var e=v("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=v("line");e.appendChild(n);var r=v("path");e.appendChild(r);var i=v("path");return e.appendChild(i),e},L={image:function(t){var e=v("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:R("rect"),ellipse:R("ellipse"),text:R("text"),path:R("path"),line:w},D={rect:T,ellipse:I,image:A,text:C,path:O,line:S},x=function(t,e){return L[t](e)},N=function(t,e,n,r,i){"path"!==e&&(t.rect=m(n,r,i)),t.styles=f(n,r,i),D[e](t,n,r,i)},P=["x","y","left","top","right","bottom","width","height"],M=function(t){return"string"==typeof t&&/%/.test(t)?parseFloat(t)/100:t},k=function(t){var e=r(t,2),n=e[0],i=e[1],o=i.points?{}:P.reduce((function(t,e){return t[e]=M(i[e]),t}),{});return[n,Object.assign({zIndex:0},i,o)]},F=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},H=function(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(t){var e=t.root,n=t.props;if(n.dirty){var i=n.crop,o=n.resize,a=n.markup,s=n.width,c=n.height,u=i.width,l=i.height;if(o){var d=o.size,h=d&&d.width,f=d&&d.height,p=o.mode,m=o.upscale;h&&!f&&(f=h),f&&!h&&(h=f);var E=u<h&&l<f;if(!E||E&&m){var g,y=h/u,v=f/l;"force"===p?(u=h,l=f):("cover"===p?g=Math.max(y,v):"contain"===p&&(g=Math.min(y,v)),u*=g,l*=g)}}var T={width:s,height:c};e.element.setAttribute("width",T.width),e.element.setAttribute("height",T.height);var I=Math.min(s/u,c/l);e.element.innerHTML="";var _=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(_).map(k).sort(F).forEach((function(t){var n=r(t,2),i=n[0],o=n[1],a=x(i,o);N(a,i,o,T,I),e.element.appendChild(a)}))}}})},B=function(t,e){return{x:t,y:e}},G=function(t,e){return t.x*e.x+t.y*e.y},U=function(t,e){return B(t.x-e.x,t.y-e.y)},V=function(t,e){return G(U(t,e),U(t,e))},q=function(t,e){return Math.sqrt(V(t,e))},j=function(t,e){var n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,a=Math.sin(r),s=Math.sin(i),c=Math.sin(o),u=Math.cos(o),l=n/a;return B(u*(l*s),u*(l*c))},W=function(t,e){var n=t.width,r=t.height,i=j(n,e),o=j(r,e),a=B(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=B(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),c=B(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:q(a,s),height:q(a,c)}},z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var c=Math.max(i/a,o/s),u=t.width/(n*c*a);return{width:u,height:u*e}},X=function(t,e,n,r){var i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,c=W(e,n);return Math.max(c.width/a,c.height/s)},Y=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.zoom,r=e.rotation,i=e.center,o=e.aspectRatio;o||(o=t.height/t.width);var a=z(t,o,n),s={x:.5*a.width,y:.5*a.height},c={x:0,y:0,width:a.width,height:a.height,center:s},u=void 0===e.scaleToFit||e.scaleToFit,l=n*X(t,Y(c,o),r,u?i:{x:.5,y:.5});return{widthFloat:a.width/l,heightFloat:a.height/l,width:Math.round(a.width/l),height:Math.round(a.height/l)}},Q={type:"spring",stiffness:.5,damping:.45,mass:10},Z=function(t){return t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(t){var e=t.root,n=t.props;e.appendChild(n.image)}})},J=function(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Q,originY:Q,scaleX:Q,scaleY:Q,translateX:Q,translateY:Q,rotateZ:Q}},create:function(e){var n=e.root,r=e.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(Z(t),{image:r.image}))},write:function(t){var e=t.root,n=t.props.crop.flip,r=e.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})},$=function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(t){var e=t.root,n=t.props;n.background&&(e.element.style.backgroundColor=n.background)},create:function(e){var n=e.root,r=e.props;n.ref.image=n.appendChildView(n.createChildView(J(t),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(H(t),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var i=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(n.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=n.crop,o=n.markup,a=n.resize,s=n.dirty,c=n.width,u=n.height;e.ref.image.crop=i;var l={x:0,y:0,width:c,height:u,center:{x:.5*c,y:.5*u}},d={width:e.ref.image.width,height:e.ref.image.height},h={x:i.center.x*d.width,y:i.center.y*d.height},f={x:l.center.x-d.width*i.center.x,y:l.center.y-d.height*i.center.y},p=2*Math.PI+i.rotation%(2*Math.PI),m=i.aspectRatio||d.height/d.width,E=void 0===i.scaleToFit||i.scaleToFit,g=X(d,Y(l,m),p,E?i.center:{x:.5,y:.5}),y=i.zoom*g;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=c,e.ref.markup.height=u,e.ref.markup.resize=a,e.ref.markup.dirty=s,e.ref.markup.markup=o,e.ref.markup.crop=K(d,i)):e.ref.markup&&e.ref.destroyMarkup();var v=e.ref.image;if(r)return v.originX=null,v.originY=null,v.translateX=null,v.translateY=null,v.rotateZ=null,v.scaleX=null,void(v.scaleY=null);v.originX=h.x,v.originY=h.y,v.translateX=f.x,v.translateY=f.y,v.rotateZ=p,v.scaleX=y,v.scaleY=y}})},tt=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Q,scaleY:Q,translateY:Q,opacity:{type:"tween",duration:400}}},create:function(e){var n=e.root,r=e.props;n.ref.clip=n.appendChildView(n.createChildView($(t),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=e.ref.clip,o=n.image,a=n.crop,s=n.markup,c=n.resize,u=n.dirty;if(i.crop=a,i.markup=s,i.resize=c,i.dirty=u,i.opacity=r?0:1,!r&&!e.rect.element.hidden){var l=o.height/o.width,d=a.aspectRatio||l,h=e.rect.inner.width,f=e.rect.inner.height,p=e.query("GET_IMAGE_PREVIEW_HEIGHT"),m=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),E=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),g=e.query("GET_PANEL_ASPECT_RATIO"),y=e.query("GET_ALLOW_MULTIPLE");g&&!y&&(p=h*g,d=g);var v=null!==p?p:Math.max(m,Math.min(h*d,E)),T=v/d;T>h&&(v=(T=h)*d),v>f&&(v=f,T=f/d),i.width=T,i.height=v}}})},et='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',nt=0,rt=function(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,r=et;if(document.querySelector("base")){var i=new URL(window.location.href.replace(window.location.hash,"")).href;r=r.replace(/url\(\#/g,"url("+i+"#")}nt++,e.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),e.element.innerHTML=r.replace(/__UID__/g,nt)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},it=function(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then((function(e){self.postMessage({id:t.data.id,message:e},[e])}))}},ot=function(){self.onmessage=function(t){for(var e=t.data.message.imageData,n=t.data.message.colorMatrix,r=e.data,i=r.length,o=n[0],a=n[1],s=n[2],c=n[3],u=n[4],l=n[5],d=n[6],h=n[7],f=n[8],p=n[9],m=n[10],E=n[11],g=n[12],y=n[13],v=n[14],T=n[15],I=n[16],_=n[17],A=n[18],b=n[19],C=0,S=0,O=0,R=0,w=0;C<i;C+=4)S=r[C]/255,O=r[C+1]/255,R=r[C+2]/255,w=r[C+3]/255,r[C]=Math.max(0,Math.min(255*(S*o+O*a+R*s+w*c+u),255)),r[C+1]=Math.max(0,Math.min(255*(S*l+O*d+R*h+w*f+p),255)),r[C+2]=Math.max(0,Math.min(255*(S*m+O*E+R*g+w*y+v),255)),r[C+3]=Math.max(0,Math.min(255*(S*T+O*I+R*_+w*A+b),255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},at=function(t,e){var n=new Image;n.onload=function(){var t=n.naturalWidth,r=n.naturalHeight;n=null,e(t,r)},n.src=t},st={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},ct=function(t,e,n,r){-1!==r&&t.transform.apply(t,st[r](e,n))},ut=function(t,e,n,r){e=Math.round(e),n=Math.round(n);var i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");if(r>=5&&r<=8){var a=[n,e];e=a[0],n=a[1]}return ct(o,e,n,r),o.drawImage(t,0,0,e,n),i},lt=function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},dt=10,ht=10,ft=function(t){var e=Math.min(dt/t.width,ht/t.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(t.width*e),o=n.height=Math.ceil(t.height*e);r.drawImage(t,0,0,i,o);var a=null;try{a=r.getImageData(0,0,i,o).data}catch(t){return null}for(var s=a.length,c=0,u=0,l=0,d=0;d<s;d+=4)c+=a[d]*a[d],u+=a[d+1]*a[d+1],l+=a[d+2]*a[d+2];return{r:c=pt(c,s),g:u=pt(u,s),b:l=pt(l,s)}},pt=function(t,e){return Math.floor(Math.sqrt(t/(e/4)))},mt=function(t,e){return(e=e||document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},Et=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},gt=function(t){return new Promise((function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},yt=function(t){var e=rt(t),n=tt(t),r=t.utils.createWorker,i=function(t,e,n){return new Promise((function(i){t.ref.imageData||(t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=Et(t.ref.imageData);if(!e||20!==e.length)return n.getContext("2d").putImageData(o,0,0),i();var a=r(ot);a.post({imageData:o,colorMatrix:e},(function(t){n.getContext("2d").putImageData(t,0,0),a.terminate(),i()}),[o.data.buffer])}))},o=function(t,e){t.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()},a=function(t){var e=t.root,n=e.ref.images.shift();return n.opacity=0,n.translateY=-15,e.ref.imageViewBin.push(n),n},s=function(t){var e=t.root,r=t.props,i=t.image,o=r.id,a=e.query("GET_ITEM",{id:o});if(a){var s,c,u=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},l=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),d=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],c=a.getMetadata("resize"),d=!0);var h=e.appendChildView(e.createChildView(n,{id:o,image:i,crop:u,resize:c,markup:s,dirty:d,background:l,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(h),h.opacity=1,h.scaleX=1,h.scaleY=1,h.translateY=0,setTimeout((function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},c=function(t){var e=t.root,n=t.props,r=e.query("GET_ITEM",{id:n.id});if(r){var i=e.ref.images[e.ref.images.length-1];i.crop=r.getMetadata("crop"),i.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(i.dirty=!0,i.resize=r.getMetadata("resize"),i.markup=r.getMetadata("markup"))}},u=function(t){var e=t.root,n=t.props,r=t.action;if(/crop|filter|markup|resize/.test(r.change.key)&&e.ref.images.length){var o=e.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(r.change.key)){var u=e.ref.images[e.ref.images.length-1];i(e,r.change.value,u.image)}else if(/crop|markup|resize/.test(r.change.key)){var l=o.getMetadata("crop"),d=e.ref.images[e.ref.images.length-1];if(l&&l.aspectRatio&&d.crop&&d.crop.aspectRatio&&Math.abs(l.aspectRatio-d.crop.aspectRatio)>1e-5){var h=a({root:e});s({root:e,props:n,image:mt(h.image)})}else c({root:e,props:n})}}},l=function(t){var e=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((e?parseInt(e[1]):null)<=58)&&"createImageBitmap"in window&&lt(t)},d=function(t){var e=t.root,n=t.props.id,r=e.query("GET_ITEM",n);if(r){var i=URL.createObjectURL(r.file);at(i,(function(t,r){e.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:t,height:r})}))}},h=function(t){var e=t.root,n=t.props,o=n.id,a=e.query("GET_ITEM",o);if(a){var c=URL.createObjectURL(a.file),u=function(){gt(c).then(d)},d=function(t){URL.revokeObjectURL(c);var r=(a.getMetadata("exif")||{}).orientation||-1,o=t.width,u=t.height;if(o&&u){if(r>=5&&r<=8){var l=[u,o];o=l[0],u=l[1]}var d=Math.max(1,.75*window.devicePixelRatio),h=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,f=u/o,p=e.rect.element.width,m=e.rect.element.height,E=p,g=E*f;f>1?g=(E=Math.min(o,p*h))*f:E=(g=Math.min(u,m*h))/f;var y=ut(t,E,g,r),v=function(){var r=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?ft(data):null;a.setMetadata("color",r,!0),"close"in t&&t.close(),e.ref.overlayShadow.opacity=1,s({root:e,props:n,image:y})},T=a.getMetadata("filter");T?i(e,T,y).then(v):v()}};if(l(a.file)){var h=r(it);h.post({file:a.file},(function(t){h.terminate(),t?d(t):u()}))}else u()}},f=function(t){var e=t.root,n=e.ref.images[e.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},p=function(t){var e=t.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},m=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1},E=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},g=function(t){var n=t.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(e,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(e,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:g,styles:["height"],apis:["height"],destroy:function(t){t.root.ref.images.forEach((function(t){t.image.width=1,t.image.height=1}))},didWriteView:function(t){t.root.ref.images.forEach((function(t){t.dirty=!1}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:f,DID_IMAGE_PREVIEW_CONTAINER_CREATE:d,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:E,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},(function(t){var e=t.root,n=e.ref.imageViewBin.filter((function(t){return 0===t.opacity}));e.ref.imageViewBin=e.ref.imageViewBin.filter((function(t){return t.opacity>0})),n.forEach((function(t){return o(e,t)})),n.length=0}))})},vt=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.createRoute,a=r.isFile,s=yt(e);return n("CREATE_VIEW",(function(e){var n=e.is,r=e.view,i=e.query;if(n("file")&&i("GET_ALLOW_IMAGE_PREVIEW")){var c=function(e){var n=e.root,o=e.props.id,c=i("GET_ITEM",o);if(c&&a(c.file)&&!c.archived){var u=c.file;if(t(u)&&i("GET_IMAGE_PREVIEW_FILTER_ITEM")(c)){var l="createImageBitmap"in(window||{}),d=i("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!l&&d&&u.size>d)){n.ref.imagePreview=r.appendChildView(r.createChildView(s,{id:o}));var h=n.query("GET_IMAGE_PREVIEW_HEIGHT");h&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:h});var f=!l&&u.size>i("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},f)}}}},u=function(t,e){if(t.ref.imagePreview){var n=e.id,r=t.query("GET_ITEM",{id:n});if(r){var i=t.query("GET_PANEL_ASPECT_RATIO"),o=t.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(i||o||a)){var s=t.ref,c=s.imageWidth,u=s.imageHeight;if(c&&u){var l=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),h=(r.getMetadata("exif")||{}).orientation||-1;if(h>=5&&h<=8){var f=[u,c];c=f[0],u=f[1]}if(!lt(r.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/c;c*=p,u*=p}var m=u/c,E=(r.getMetadata("crop")||{}).aspectRatio||m,g=Math.max(l,Math.min(u,d)),y=t.rect.element.width,v=Math.min(y*E,g);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:v})}}}}},l=function(t){t.root.ref.shouldRescale=!0},d=function(t){var e=t.root;"crop"===t.action.change.key&&(e.ref.shouldRescale=!0)},h=function(t){var e=t.root,n=t.action;e.ref.imageWidth=n.width,e.ref.imageHeight=n.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")};r.registerWriter(o({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:c,DID_IMAGE_PREVIEW_CALCULATE_SIZE:h,DID_UPDATE_ITEM_METADATA:d},(function(t){var e=t.root,n=t.props;e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(u(e,n),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame((function(){requestAnimationFrame((function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})}))})),e.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[function(){return!0},i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:vt})),vt}()},863:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(t){return t.substr(0,t.lastIndexOf("."))||t},n={jpeg:"jpg","svg+xml":"svg"},r=function(t,r){var i=e(t),o=r.split("/")[1],a=n[o]||o;return"".concat(i,".").concat(a)},i=function(t){return/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg"},o=function(t){return/^image/.test(t.type)},a={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},s=function(t,e,n){return-1===n&&(n=1),a[n](t,e)},c=function(t,e){return{x:t,y:e}},u=function(t,e){return t.x*e.x+t.y*e.y},l=function(t,e){return c(t.x-e.x,t.y-e.y)},d=function(t,e){return u(l(t,e),l(t,e))},h=function(t,e){return Math.sqrt(d(t,e))},f=function(t,e){var n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,a=Math.sin(r),s=Math.sin(i),u=Math.sin(o),l=Math.cos(o),d=n/a;return c(l*(d*s),l*(d*u))},p=function(t,e){var n=t.width,r=t.height,i=f(n,e),o=f(r,e),a=c(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=c(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=c(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:h(a,s),height:h(a,u)}},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,c=p(e,n);return Math.max(c.width/a,c.height/s)},E=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var c=Math.max(i/a,o/s),u=t.width/(n*c*a);return{width:u,height:u*e}},y=function(t){t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},v=function(t){return t&&(t.horizontal||t.vertical)},T=function(t,e,n){if(e<=1&&!v(n))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;var r=document.createElement("canvas"),i=t.naturalWidth,o=t.naturalHeight,a=e>=5&&e<=8;a?(r.width=o,r.height=i):(r.width=i,r.height=o);var c=r.getContext("2d");if(e&&c.transform.apply(c,s(i,o,e)),v(n)){var u=[1,0,0,1,0,0];(!a&&n.horizontal||a&n.vertical)&&(u[0]=-1,u[4]=i),(!a&&n.vertical||a&&n.horizontal)&&(u[3]=-1,u[5]=o),c.transform.apply(c,u)}return c.drawImage(t,0,0,i,o),r},I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.canvasMemoryLimit,o=r.background,a=void 0===o?null:o,s=n.zoom||1,c=T(t,e,n.flip),u={width:c.width,height:c.height},l=n.aspectRatio||u.height/u.width,d=g(u,l,s);if(i){var h=d.width*d.height;if(h>i){var f=Math.sqrt(i)/Math.sqrt(h);u.width=Math.floor(u.width*f),u.height=Math.floor(u.height*f),d=g(u,l,s)}}var p=document.createElement("canvas"),v={x:.5*d.width,y:.5*d.height},I={x:0,y:0,width:d.width,height:d.height,center:v},_=void 0===n.scaleToFit||n.scaleToFit,A=s*m(u,E(I,l),n.rotation,_?n.center:{x:.5,y:.5});p.width=Math.round(d.width/A),p.height=Math.round(d.height/A),v.x/=A,v.y/=A;var b={x:v.x-u.width*(n.center?n.center.x:.5),y:v.y-u.height*(n.center?n.center.y:.5)},C=p.getContext("2d");a&&(C.fillStyle=a,C.fillRect(0,0,p.width,p.height)),C.translate(v.x,v.y),C.rotate(n.rotation||0),C.drawImage(c,b.x-v.x,b.y-v.y,u.width,u.height);var S=C.getImageData(0,0,p.width,p.height);return y(p),S};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this.toDataURL(e,n).split(",")[1];setTimeout((function(){for(var n=atob(r),i=n.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=n.charCodeAt(a);t(new Blob([o],{type:e||"image/png"}))}))}}));var _=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){var i=n?n(t):t;Promise.resolve(i).then((function(t){t.toBlob(r,e.type,e.quality)}))}))},A=function(t,e){return O(t.x*e,t.y*e)},b=function(t,e){return O(t.x+e.x,t.y+e.y)},C=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:O(t.x/e,t.y/e)},S=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=O(t.x-n.x,t.y-n.y);return O(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},O=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},R=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},w=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=R(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return R(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}},L=function(t){return null!=t},D=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=R(t.x,e,n,"width")||R(t.left,e,n,"width"),i=R(t.y,e,n,"height")||R(t.top,e,n,"height"),o=R(t.width,e,n,"width"),a=R(t.height,e,n,"height"),s=R(t.right,e,n,"width"),c=R(t.bottom,e,n,"height");return L(i)||(i=L(a)&&L(c)?e.height-a-c:c),L(r)||(r=L(o)&&L(s)?e.width-o-s:s),L(o)||(o=L(r)&&L(s)?e.width-r-s:0),L(a)||(a=L(i)&&L(c)?e.height-i-c:0),{x:r||0,y:i||0,width:o||0,height:a||0}},x=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},N=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},P="http://www.w3.org/2000/svg",M=function(t,e){var n=document.createElementNS(P,t);return e&&N(n,e),n},k=function(t){return N(t,Object.assign({},t.rect,t.styles))},F=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return N(t,Object.assign({cx:e,cy:n,rx:r,ry:i},t.styles))},H={contain:"xMidYMid meet",cover:"xMidYMid slice"},B=function(t,e){N(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:H[e.fit]||"none"}))},G={left:"start",center:"middle",right:"end"},U=function(t,e,n,r){var i=R(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=G[e.textAlign]||"start";N(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},V=function(t,e,n,r){N(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],s=t.rect,c={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(N(i,{x1:s.x,y1:s.y,x2:c.x,y2:c.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var u=C({x:c.x-s.x,y:c.y-s.y}),l=R(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var d=A(u,l),h=b(s,d),f=S(s,2,h),p=S(s,-2,h);N(o,{style:"display:block;",d:"M".concat(f.x,",").concat(f.y," L").concat(s.x,",").concat(s.y," L").concat(p.x,",").concat(p.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var m=A(u,-l),E=b(c,m),g=S(c,2,E),y=S(c,-2,E);N(a,{style:"display:block;",d:"M".concat(g.x,",").concat(g.y," L").concat(c.x,",").concat(c.y," L").concat(y.x,",").concat(y.y)})}}},q=function(t,e,n,r){N(t,Object.assign({},t.styles,{fill:"none",d:x(e.points.map((function(t){return{x:R(t.x,n,r,"width"),y:R(t.y,n,r,"height")}})))}))},j=function(t){return function(e){return M(t,{id:e.id})}},W=function(t){var e=M("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=M("line");e.appendChild(n);var r=M("path");e.appendChild(r);var i=M("path");return e.appendChild(i),e},z={image:function(t){var e=M("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:j("rect"),ellipse:j("ellipse"),text:j("text"),path:j("path"),line:W},X={rect:k,ellipse:F,image:B,text:U,path:q,line:V},Y=function(t,e){return z[t](e)},K=function(t,e,n,r,i){"path"!==e&&(t.rect=D(n,r,i)),t.styles=w(n,r,i),X[e](t,n,r,i)},Q=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise((function(i){var o=r.background,a=void 0===o?null:o,s=new FileReader;s.onloadend=function(){var t=s.result,r=document.createElement("div");r.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",r.innerHTML=t;var o=r.querySelector("svg");document.body.appendChild(r);var c=o.getBBox();r.parentNode.removeChild(r);var u=r.querySelector("title"),l=o.getAttribute("viewBox")||"",d=o.getAttribute("width")||"",h=o.getAttribute("height")||"",f=parseFloat(d)||null,p=parseFloat(h)||null,g=(d.match(/[a-z]+/)||[])[0]||"",y=(h.match(/[a-z]+/)||[])[0]||"",v=l.split(" ").map(parseFloat),T=v.length?{x:v[0],y:v[1],width:v[2],height:v[3]}:c,I=null!=f?f:T.width,_=null!=p?p:T.height;o.style.overflow="visible",o.setAttribute("width",I),o.setAttribute("height",_);var A="";if(n&&n.length){var b={width:I,height:_};A=n.sort(Q).reduce((function(t,e){var n=Y(e[0],e[1]);return K(n,e[0],e[1],b),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),t+"\n"+n.outerHTML+"\n"}),""),A="\n\n<g>".concat(A.replace(/&nbsp;/g," "),"</g>\n\n")}var C=e.aspectRatio||_/I,S=I,O=S*C,R=void 0===e.scaleToFit||e.scaleToFit,w=e.center?e.center.x:.5,L=e.center?e.center.y:.5,D=m({width:I,height:_},E({width:S,height:O},C),e.rotation,R?{x:w,y:L}:{x:.5,y:.5}),x=e.zoom*D,N=e.rotation*(180/Math.PI),P={x:.5*S,y:.5*O},M={x:P.x-I*w,y:P.y-_*L},k=["rotate(".concat(N," ").concat(P.x," ").concat(P.y,")"),"translate(".concat(P.x," ").concat(P.y,")"),"scale(".concat(x,")"),"translate(".concat(-P.x," ").concat(-P.y,")"),"translate(".concat(M.x," ").concat(M.y,")")],F=e.flip&&e.flip.horizontal,H=e.flip&&e.flip.vertical,B=["scale(".concat(F?-1:1," ").concat(H?-1:1,")"),"translate(".concat(F?-I:0," ").concat(H?-_:0,")")],G='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(S).concat(g,'" height="').concat(O).concat(y,'" \nviewBox="0 0 ').concat(S," ").concat(O,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(u?u.textContent:"",'</title>\n<g transform="').concat(k.join(" "),'">\n<g transform="').concat(B.join(" "),'">\n').concat(o.outerHTML).concat(A,"\n</g>\n</g>\n</svg>");i(G)},s.readAsText(t)}))},J=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},$=function(){var t={resize:l,filter:u},e=function(e,n){return e.forEach((function(e){n=t[e.type](n,e.data)})),n},n=function(t,n){var r=t.transforms,i=null;if(r.forEach((function(t){"filter"===t.type&&(i=t)})),i){var o=null;r.forEach((function(t){"resize"===t.type&&(o=t)})),o&&(o.data.matrix=i.data,r=r.filter((function(t){return"filter"!==t.type})))}n(e(r,t.imageData))};self.onmessage=function(t){n(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e},[e.data.buffer])}))};var r=1,i=1,o=1;function a(t,e,n){var a=e[t]/255,s=e[t+1]/255,c=e[t+2]/255,u=e[t+3]/255,l=a*n[0]+s*n[1]+c*n[2]+u*n[3]+n[4],d=a*n[5]+s*n[6]+c*n[7]+u*n[8]+n[9],h=a*n[10]+s*n[11]+c*n[12]+u*n[13]+n[14],f=a*n[15]+s*n[16]+c*n[17]+u*n[18]+n[19],p=Math.max(0,l*f)+r*(1-f),m=Math.max(0,d*f)+i*(1-f),E=Math.max(0,h*f)+o*(1-f);e[t]=255*Math.max(0,Math.min(1,p)),e[t+1]=255*Math.max(0,Math.min(1,m)),e[t+2]=255*Math.max(0,Math.min(1,E))}var s=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function c(t){return self.JSON.stringify(t||[])===s}function u(t,e){if(!e||c(e))return t;for(var n=t.data,a=n.length,s=e[0],u=e[1],l=e[2],d=e[3],h=e[4],f=e[5],p=e[6],m=e[7],E=e[8],g=e[9],y=e[10],v=e[11],T=e[12],I=e[13],_=e[14],A=e[15],b=e[16],C=e[17],S=e[18],O=e[19],R=0,w=0,L=0,D=0,x=0,N=0,P=0,M=0,k=0,F=0,H=0,B=0;R<a;R+=4)N=(w=n[R]/255)*s+(L=n[R+1]/255)*u+(D=n[R+2]/255)*l+(x=n[R+3]/255)*d+h,P=w*f+L*p+D*m+x*E+g,M=w*y+L*v+D*T+x*I+_,k=w*A+L*b+D*C+x*S+O,F=Math.max(0,N*k)+r*(1-k),H=Math.max(0,P*k)+i*(1-k),B=Math.max(0,M*k)+o*(1-k),n[R]=255*Math.max(0,Math.min(1,F)),n[R+1]=255*Math.max(0,Math.min(1,H)),n[R+2]=255*Math.max(0,Math.min(1,B));return t}function l(t,e){var n=e.mode,r=void 0===n?"contain":n,i=e.upscale,o=void 0!==i&&i,s=e.width,l=e.height,d=e.matrix;if(d=!d||c(d)?null:d,!s&&!l)return u(t,d);if(null===s?s=l:null===l&&(l=s),"force"!==r){var h=s/t.width,f=l/t.height,p=1;if("cover"===r?p=Math.max(h,f):"contain"===r&&(p=Math.min(h,f)),p>1&&!1===o)return u(t,d);s=t.width*p,l=t.height*p}for(var m=t.width,E=t.height,g=Math.round(s),y=Math.round(l),v=t.data,T=new Uint8ClampedArray(g*y*4),I=m/g,_=E/y,A=Math.ceil(.5*I),b=Math.ceil(.5*_),C=0;C<y;C++)for(var S=0;S<g;S++){for(var O=4*(S+C*g),R=0,w=0,L=0,D=0,x=0,N=0,P=0,M=(C+.5)*_,k=Math.floor(C*_);k<(C+1)*_;k++)for(var F=Math.abs(M-(k+.5))/b,H=(S+.5)*I,B=F*F,G=Math.floor(S*I);G<(S+1)*I;G++){var U=Math.abs(H-(G+.5))/A,V=Math.sqrt(B+U*U);if(V>=-1&&V<=1&&(R=2*V*V*V-3*V*V+1)>0){var q=v[3+(U=4*(G+k*m))];P+=R*q,L+=R,q<255&&(R=R*q/250),D+=R*v[U],x+=R*v[U+1],N+=R*v[U+2],w+=R}}T[O]=D/w,T[O+1]=x/w,T[O+2]=N/w,T[O+3]=P/L,d&&a(O,T,d)}return{data:T,width:g,height:y}}},tt=function(t,e){if(1165519206===t.getUint32(e+4,!1)){e+=4;var n=18761===t.getUint16(e+=6,!1);e+=t.getUint32(e+4,n);var r=t.getUint16(e,n);e+=2;for(var i=0;i<r;i++)if(274===t.getUint16(e+12*i,n))return t.setUint16(e+12*i+8,1,n),!0;return!1}},et=function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return null;for(var n,r,i=2,o=!1;i<e.byteLength&&(n=e.getUint16(i,!1),r=e.getUint16(i+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=tt(e,i,r)),!(i+r>e.byteLength));)i+=r;return t.slice(0,i)},nt=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(et(n.result)||null)},n.readAsArrayBuffer(t.slice(0,262144))}))},rt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},it=function(t,e){var n=rt();if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},ot=function(){return Math.random().toString(36).substr(2,9)},at=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n),i=[];return{transfer:function(){},post:function(t,e,n){var o=ot();i[o]=e,r.onmessage=function(t){var e=i[t.data.id];e&&(e(t.data.message),delete i[t.data.id])},r.postMessage({id:o,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},st=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},ct=function(t){return t.reduce((function(t,e){return t.then((function(t){return e().then(Array.prototype.concat.bind(t))}))}),Promise.resolve([]))},ut=function(t,e){return new Promise((function(n){var r={width:t.width,height:t.height},i=t.getContext("2d"),o=e.sort(Q).map((function(t){return function(){return new Promise((function(e){ht[t[0]](i,r,t[1],e)&&e()}))}}));ct(o).then((function(){return n(t)}))}))},lt=function(t,e){t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},dt=function(t){t.fill(),t.stroke(),t.globalAlpha=1},ht={rect:function(t,e,n){var r=D(n,e),i=w(n,e);return lt(t,i),t.rect(r.x,r.y,r.width,r.height),dt(t,i),!0},ellipse:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i);var o=r.x,a=r.y,s=r.width,c=r.height,u=.5522848,l=s/2*u,d=c/2*u,h=o+s,f=a+c,p=o+s/2,m=a+c/2;return t.moveTo(o,m),t.bezierCurveTo(o,m-d,p-l,a,p,a),t.bezierCurveTo(p+l,a,h,m-d,h,m),t.bezierCurveTo(h,m+d,p+l,f,p,f),t.bezierCurveTo(p-l,f,o,m+d,o,m),dt(t,i),!0},image:function(t,e,n,r){var i=D(n,e),o=w(n,e);lt(t,o);var a=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(a.crossOrigin=""),a.onload=function(){if("cover"===n.fit){var e=i.width/i.height,s=e>1?a.width:a.height*e,c=e>1?a.width/e:a.height,u=.5*a.width-.5*s,l=.5*a.height-.5*c;t.drawImage(a,u,l,s,c,i.x,i.y,i.width,i.height)}else if("contain"===n.fit){var d=Math.min(i.width/a.width,i.height/a.height),h=d*a.width,f=d*a.height,p=i.x+.5*i.width-.5*h,m=i.y+.5*i.height-.5*f;t.drawImage(a,0,0,a.width,a.height,p,m,h,f)}else t.drawImage(a,0,0,a.width,a.height,i.x,i.y,i.width,i.height);dt(t,o),r()},a.src=n.src},text:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i);var o=R(n.fontSize,e),a=n.fontFamily||"sans-serif",s=n.fontWeight||"normal",c=n.textAlign||"left";return t.font="".concat(s," ").concat(o,"px ").concat(a),t.textAlign=c,t.fillText(n.text,r.x,r.y),dt(t,i),!0},line:function(t,e,n){var r=D(n,e),i=w(n,e);lt(t,i),t.beginPath();var o={x:r.x,y:r.y},a={x:r.x+r.width,y:r.y+r.height};t.moveTo(o.x,o.y),t.lineTo(a.x,a.y);var s=C({x:a.x-o.x,y:a.y-o.y}),c=.04*Math.min(e.width,e.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var u=A(s,c),l=b(o,u),d=S(o,2,l),h=S(o,-2,l);t.moveTo(d.x,d.y),t.lineTo(o.x,o.y),t.lineTo(h.x,h.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var f=A(s,-c),p=b(a,f),m=S(a,2,p),E=S(a,-2,p);t.moveTo(m.x,m.y),t.lineTo(a.x,a.y),t.lineTo(E.x,E.y)}return dt(t,i),!0},path:function(t,e,n){var r=w(n,e);lt(t,r),t.beginPath();var i=n.points.map((function(t){return{x:R(t.x,e,1,"width"),y:R(t.y,e,1,"height")}}));t.moveTo(i[0].x,i[0].y);for(var o=i.length,a=1;a<o;a++)t.lineTo(i[a].x,i[a].y);return dt(t,r),!0}},ft=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e},pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){if(!t||!o(t))return i({status:"not an image file",file:t});var a=n.stripImageHead,s=n.beforeCreateBlob,c=n.afterCreateBlob,u=n.canvasMemoryLimit,l=e.crop,d=e.size,h=e.filter,f=e.markup,p=e.output,m=e.image&&e.image.orientation?Math.max(1,Math.min(8,e.image.orientation)):null,E=p&&p.quality,g=null===E?null:E/100,v=p&&p.type||null,T=p&&p.background||null,A=[];!d||"number"!=typeof d.width&&"number"!=typeof d.height||A.push({type:"resize",data:d}),h&&20===h.length&&A.push({type:"filter",data:h});var b=function(t){var e=c?c(t):t;Promise.resolve(e).then(r)},C=function(e,n){var r=ft(e),o=f.length?ut(r,f):r;Promise.resolve(o).then((function(e){_(e,n,s).then((function(n){if(y(e),a)return b(n);nt(t).then((function(t){null!==t&&(n=new Blob([t,n.slice(20)],{type:n.type})),b(n)}))})).catch(i)}))};if(/svg/.test(t.type)&&null===v)return Z(t,l,f,{background:T}).then((function(t){r(it(t,"image/svg+xml"))}));var S=URL.createObjectURL(t);st(S).then((function(e){URL.revokeObjectURL(S);var n=I(e,m,l,{canvasMemoryLimit:u,background:T}),r={quality:g,type:v||t.type};if(!A.length)return C(n,r);var i=at($);i.post({transforms:A,imageData:n},(function(t){C(J(t),r),i.terminate()}),[n.data.buffer])})).catch(i)}))};function mt(t){this.wrapped=t}function Et(t){var e,n;function r(t,r){return new Promise((function(o,a){var s={key:t,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,i(t,r))}))}function i(e,n){try{var r=t[e](n),a=r.value,s=a instanceof mt;Promise.resolve(s?a.wrapped:a).then((function(t){s?i("next",t):o(r.done?"return":"normal",t)}),(function(t){i("throw",t)}))}catch(t){o("throw",t)}}function o(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}function gt(t,e){return yt(t)||vt(t,e)||Tt()}function yt(t){if(Array.isArray(t))return t}function vt(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function Tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Et.prototype[Symbol.asyncIterator]=function(){return this}),Et.prototype.next=function(t){return this._invoke("next",t)},Et.prototype.throw=function(t){return this._invoke("throw",t)},Et.prototype.return=function(t){return this._invoke("return",t)};var It=["x","y","left","top","right","bottom","width","height"],_t=function(t){return"string"==typeof t&&/%/.test(t)?parseFloat(t)/100:t},At=function(t){var e=gt(t,2),n=e[0],r=e[1],i=r.points?{}:It.reduce((function(t,e){return t[e]=_t(r[e]),t}),{});return[n,Object.assign({zIndex:0},r,i)]},bt=function(t){return new Promise((function(e,n){var r=new Image;r.src=URL.createObjectURL(t);var i=function(){var t=r.naturalWidth,n=r.naturalHeight;t&&n&&(URL.revokeObjectURL(r.src),clearInterval(o),e({width:t,height:n}))};r.onerror=function(t){URL.revokeObjectURL(r.src),clearInterval(o),n(t)};var o=setInterval(i,1);i()}))};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this;setTimeout((function(){for(var i=r.toDataURL(e,n).split(",")[1],o=atob(i),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);t(new Blob([s],{type:e||"image/png"}))}))}}));var Ct="undefined"!=typeof window&&void 0!==window.document,St=Ct&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ot=function(e){var n=e.addFilter,o=e.utils,a=o.Type,s=o.forin,c=o.getFileFromBlob,u=o.isFile,l=["crop","resize","filter","markup","output"],d=function(t){return function(e,n,r){return e(n,t?t(r):r)}},h=function(t){return null===t.aspectRatio&&0===t.rotation&&1===t.zoom&&t.center&&.5===t.center.x&&.5===t.center.y&&t.flip&&!1===t.flip.horizontal&&!1===t.flip.vertical};n("SHOULD_PREPARE_OUTPUT",(function(t,e){var n=e.query;return new Promise((function(t){t(!n("IS_ASYNC"))}))}));var f=function(e,n,r){return new Promise((function(i){if(!e("GET_ALLOW_IMAGE_TRANSFORM")||r.archived||!u(n)||!t(n))return i(!1);bt(n).then((function(){var t=e("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(t){var r=t(n);if(null==r)return handleRevert(!0);if("boolean"==typeof r)return i(r);if("function"==typeof r.then)return r.then(i)}i(!0)})).catch((function(t){i(!1)}))}))};return n("DID_CREATE_ITEM",(function(t,e){var n=e.query,r=e.dispatch;n("GET_ALLOW_IMAGE_TRANSFORM")&&t.extend("requestPrepare",(function(){return new Promise((function(e,n){r("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:e,failure:n},!0)}))}))})),n("PREPARE_OUTPUT",(function(t,e){var n=e.query,o=e.item;return new Promise((function(e){f(n,t,o).then((function(a){if(!a)return e(t);var u=[];n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&u.push((function(){return new Promise((function(e){e({name:n("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:t})}))})),n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&u.push((function(t,e,r){return new Promise((function(i){t(e,r).then((function(t){return i({name:n("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:t})}))}))}));var f=n("GET_IMAGE_TRANSFORM_VARIANTS")||{};s(f,(function(t,e){var n=d(e);u.push((function(e,r,i){return new Promise((function(o){n(e,r,i).then((function(e){return o({name:t,file:e})}))}))}))}));var p=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),m=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),E=null===p?null:p/100,g=n("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),y=n("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||l;o.setMetadata("output",{type:g,quality:E,client:y},!0);var v=function(t,e){return new Promise((function(o,a){var s=Object.assign({},e);Object.keys(s).filter((function(t){return"exif"!==t})).forEach((function(t){-1===y.indexOf(t)&&delete s[t]}));var u=s.resize,l=s.exif,d=s.output,f=s.crop,p=s.filter,E=s.markup,g={image:{orientation:l?l.orientation:null},output:d&&(d.type||"number"==typeof d.quality||d.background)?{type:d.type,quality:"number"==typeof d.quality?100*d.quality:null,background:d.background||n("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:u&&(u.size.width||u.size.height)?Object.assign({mode:u.mode,upscale:u.upscale},u.size):void 0,crop:f&&!h(f)?Object.assign({},f):void 0,markup:E&&E.length?E.map(At):[],filter:p};if(g.output){var v=!!d.type&&d.type!==t.type,T=/\/jpe?g$/.test(t.type),I=null!==d.quality&&T&&"always"===m;if(!(g.size||g.crop||g.filter||v||I))return o(t)}var _={beforeCreateBlob:n("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:n("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:n("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:n("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};pt(t,g,_).then((function(e){var n=c(e,r(t.name,i(e.type)));o(n)})).catch(a)}))},T=u.map((function(e){return e(v,t,o.getMetadata())}));Promise.all(T).then((function(t){e(1===t.length&&null===t[0].name?t[0].file:t)}))}))}))})),{options:{allowImageTransform:[!0,a.BOOLEAN],imageTransformImageFilter:[null,a.FUNCTION],imageTransformOutputMimeType:[null,a.STRING],imageTransformOutputQuality:[null,a.INT],imageTransformOutputStripImageHead:[!0,a.BOOLEAN],imageTransformClientTransforms:[null,a.ARRAY],imageTransformOutputQualityMode:["always",a.STRING],imageTransformVariants:[null,a.OBJECT],imageTransformVariantsIncludeDefault:[!0,a.BOOLEAN],imageTransformVariantsDefaultName:[null,a.STRING],imageTransformVariantsIncludeOriginal:[!1,a.BOOLEAN],imageTransformVariantsOriginalName:["original_",a.STRING],imageTransformBeforeCreateBlob:[null,a.FUNCTION],imageTransformAfterCreateBlob:[null,a.FUNCTION],imageTransformCanvasMemoryLimit:[Ct&&St?16777216:null,a.INT],imageTransformCanvasBackgroundColor:[null,a.STRING]}}};return Ct&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ot})),Ot}()},136:function(t,e){!function(t){"use strict";var e=function(t){return t instanceof HTMLElement},n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},t),i=[],o=[],a=function(){var t=[].concat(o);o.length=0,t.forEach((function(t){var e=t.type,n=t.data;s(e,n)}))},s=function(t,e,n){!n||document.hidden?(d[t]&&d[t](e),i.push({type:t,data:e})):o.push({type:t,data:e})},c=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l[t]?(e=l)[t].apply(e,r):null},u={getState:function(){return Object.assign({},r)},processActionQueue:function(){var t=[].concat(i);return i.length=0,t},processDispatchQueue:a,dispatch:s,query:c},l={};e.forEach((function(t){l=Object.assign({},t(r),{},l)}));var d={};return n.forEach((function(t){d=Object.assign({},t(s,c,r),{},d)})),u},r=function(t,e,n){"function"!=typeof n?Object.defineProperty(t,e,Object.assign({},n)):t[e]=n},i=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},o=function(t){var e={};return i(t,(function(n){r(e,n,t[n])})),e},a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},s="http://www.w3.org/2000/svg",c=["svg","path"],u=function(t){return c.includes(t)},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(n=e,e=null);var r=u(t)?document.createElementNS(s,t):document.createElement(t);return e&&(u(t)?a(r,"class",e):r.className=e),i(n,(function(t,e){a(r,t,e)})),r},d=function(t){return function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}},h=function(t,e){return function(t,n){return void 0!==n?e.splice(n,0,t):e.push(t),t}},f=function(t,e){return function(n){return e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n}},p="undefined"!=typeof window&&void 0!==window.document,m=function(){return p},E="children"in(m()?l("svg"):{})?function(t){return t.children.length}:function(t){return t.childNodes.length},g=function(t,e,n,r){var i=n[0]||t.left,o=n[1]||t.top,a=i+t.width,s=o+t.height*(r[1]||1),c={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:o,right:a,bottom:s}};return e.filter((function(t){return!t.isRectIgnored()})).map((function(t){return t.rect})).forEach((function(t){y(c.inner,Object.assign({},t.inner)),y(c.outer,Object.assign({},t.outer))})),v(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,v(c.outer),c},y=function(t,e){e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},v=function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},T=function(t){return"number"==typeof t},I=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-e)<r&&Math.abs(n)<r},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiffness,n=void 0===e?.5:e,r=t.damping,i=void 0===r?.75:r,a=t.mass,s=void 0===a?10:a,c=null,u=null,l=0,d=!1,h=o({interpolate:function(t,e){if(!d){if(!T(c)||!T(u))return d=!0,void(l=0);I(u+=l+=-(u-c)*n/s,c,l*=i)||e?(u=c,l=0,d=!0,h.onupdate(u),h.oncomplete(u)):h.onupdate(u)}},target:{set:function(t){if(T(t)&&!T(u)&&(u=t),null===c&&(c=t,u=t),u===(c=t)||void 0===c)return d=!0,l=0,h.onupdate(u),void h.oncomplete(u);d=!1},get:function(){return c}},resting:{get:function(){return d}},onupdate:function(t){},oncomplete:function(t){}});return h},A=function(t){return t<.5?2*t*t:(4-2*t)*t-1},b=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,i=void 0===r?500:r,a=n.easing,s=void 0===a?A:a,c=n.delay,u=void 0===c?0:c,l=null,d=!0,h=!1,f=null,p=o({interpolate:function(n,r){d||null===f||(null===l&&(l=n),n-l<u||((t=n-l-u)>=i||r?(t=1,e=h?0:1,p.onupdate(e*f),p.oncomplete(e*f),d=!0):(e=t/i,p.onupdate((t>=0?s(h?1-e:e):0)*f))))},target:{get:function(){return h?0:f},set:function(t){if(null===f)return f=t,p.onupdate(t),void p.oncomplete(t);t<f?(f=1,h=!0):(h=!1,f=t),d=!1,l=null}},resting:{get:function(){return d}},onupdate:function(t){},oncomplete:function(t){}});return p},C={spring:_,tween:b},S=function(t,e,n){var r=t[e]&&"object"==typeof t[e][n]?t[e][n]:t[e]||t,i="string"==typeof r?r:r.type,o="object"==typeof r?Object.assign({},r):{};return C[i]?C[i](o):null},O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach((function(e){t.forEach((function(t){var i=t,o=function(){return n[t]},a=function(e){return n[t]=e};"object"==typeof t&&(i=t.key,o=t.getter||o,a=t.setter||a),e[i]&&!r||(e[i]={get:o,set:a})}))}))},R=function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,o=t.viewExternalAPI,a=Object.assign({},n),s=[];return i(e,(function(t,e){var i=S(e);i&&(i.onupdate=function(e){n[t]=e},i.target=a[t],O([{key:t,setter:function(t){i.target!==t&&(i.target=t)},getter:function(){return n[t]}}],[r,o],n,!0),s.push(i))})),{write:function(t){var e=document.hidden,n=!0;return s.forEach((function(r){r.resting||(n=!1),r.interpolate(t,e)})),n},destroy:function(){}}},w=function(t){return function(e,n){t.addEventListener(e,n)}},L=function(t){return function(e,n){t.removeEventListener(e,n)}},D=function(t){t.mixinConfig,t.viewProps,t.viewInternalAPI;var e=t.viewExternalAPI,n=(t.viewState,t.view),r=[],i=w(n.element),o=L(n.element);return e.on=function(t,e){r.push({type:t,fn:e}),i(t,e)},e.off=function(t,e){r.splice(r.findIndex((function(n){return n.type===t&&n.fn===e})),1),o(t,e)},{write:function(){return!0},destroy:function(){r.forEach((function(t){o(t.type,t.fn)}))}}},x=function(t){return null!=t},N={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},P=function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,o=t.view,a=Object.assign({},n),s={};O(e,[r,i],n);var c=function(){return[n.translateX||0,n.translateY||0]},u=function(){return[n.scaleX||0,n.scaleY||0]},l=function(){return o.rect?g(o.rect,o.childViews,c(),u()):null};return r.rect={get:l},i.rect={get:l},e.forEach((function(t){n[t]=void 0===a[t]?N[t]:a[t]})),{write:function(){if(M(s,n))return k(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},M=function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},k=function(t,e){var n=e.opacity,r=e.perspective,i=e.translateX,o=e.translateY,a=e.scaleX,s=e.scaleY,c=e.rotateX,u=e.rotateY,l=e.rotateZ,d=e.originX,h=e.originY,f=e.width,p=e.height,m="",E="";(x(d)||x(h))&&(E+="transform-origin: "+(d||0)+"px "+(h||0)+"px;"),x(r)&&(m+="perspective("+r+"px) "),(x(i)||x(o))&&(m+="translate3d("+(i||0)+"px, "+(o||0)+"px, 0) "),(x(a)||x(s))&&(m+="scale3d("+(x(a)?a:1)+", "+(x(s)?s:1)+", 1) "),x(l)&&(m+="rotateZ("+l+"rad) "),x(c)&&(m+="rotateX("+c+"rad) "),x(u)&&(m+="rotateY("+u+"rad) "),m.length&&(E+="transform:"+m+";"),x(n)&&(E+="opacity:"+n+";",0===n&&(E+="visibility:hidden;"),n<1&&(E+="pointer-events:none;")),x(p)&&(E+="height:"+p+"px;"),x(f)&&(E+="width:"+f+"px;");var g=t.elementCurrentStyle||"";E.length===g.length&&E===g||(t.style.cssText=E,t.elementCurrentStyle=E)},F={styles:P,listeners:D,animations:R,apis:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewExternalAPI;O(e,r,n)}},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=null===e.offsetParent,t},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tag,n=void 0===e?"div":e,r=t.name,i=void 0===r?null:r,a=t.attributes,s=void 0===a?{}:a,c=t.read,u=void 0===c?function(){}:c,p=t.write,m=void 0===p?function(){}:p,y=t.create,v=void 0===y?function(){}:y,T=t.destroy,I=void 0===T?function(){}:T,_=t.filterFrameActionsForChild,A=void 0===_?function(t,e){return e}:_,b=t.didCreateView,C=void 0===b?function(){}:b,S=t.didWriteView,O=void 0===S?function(){}:S,R=t.ignoreRect,w=void 0!==R&&R,L=t.ignoreRectUpdate,D=void 0!==L&&L,x=t.mixins,N=void 0===x?[]:x;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l(n,"filepond--"+i,s),a=window.getComputedStyle(r,null),c=H(),p=null,y=!1,T=[],_=[],b={},S={},R=[m],L=[u],x=[I],P=function(){return r},M=function(){return T.concat()},k=function(){return b},B=function(t){return function(e,n){return e(t,n)}},G=function(){return p||(p=g(c,T,[0,0],[1,1]))},U=function(){p=null,T.forEach((function(t){return t._read()})),!(D&&c.width&&c.height)&&H(c,r,a);var t={root:Y,props:e,rect:c};L.forEach((function(e){return e(t)}))},V=function(t,n,r){var i=0===n.length;return R.forEach((function(o){!1===o({props:e,root:Y,actions:n,timestamp:t,shouldOptimize:r})&&(i=!1)})),_.forEach((function(e){!1===e.write(t)&&(i=!1)})),T.filter((function(t){return!!t.element.parentNode})).forEach((function(e){e._write(t,A(e,n),r)||(i=!1)})),T.forEach((function(e,o){e.element.parentNode||(Y.appendChild(e.element,o),e._read(),e._write(t,A(e,n),r),i=!1)})),y=i,O({props:e,root:Y,actions:n,timestamp:t}),i},q=function(){_.forEach((function(t){return t.destroy()})),x.forEach((function(t){t({root:Y,props:e})})),T.forEach((function(t){return t._destroy()}))},j={element:{get:P},style:{get:function(){return a}},childViews:{get:M}},W=Object.assign({},j,{rect:{get:G},ref:{get:k},is:function(t){return i===t},appendChild:d(r),createChildView:B(t),linkView:function(t){return T.push(t),t},unlinkView:function(t){T.splice(T.indexOf(t),1)},appendChildView:h(r,T),removeChildView:f(r,T),registerWriter:function(t){return R.push(t)},registerReader:function(t){return L.push(t)},registerDestroyer:function(t){return x.push(t)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:t.dispatch,query:t.query}),z={element:{get:P},childViews:{get:M},rect:{get:G},resting:{get:function(){return y}},isRectIgnored:function(){return w},_read:U,_write:V,_destroy:q},X=Object.assign({},j,{rect:{get:function(){return c}}});Object.keys(N).sort((function(t,e){return"styles"===t?1:"styles"===e?-1:0})).forEach((function(t){var n=F[t]({mixinConfig:N[t],viewProps:e,viewState:S,viewInternalAPI:W,viewExternalAPI:z,view:o(X)});n&&_.push(n)}));var Y=o(W);v({root:Y,props:e});var K=E(r);return T.forEach((function(t,e){Y.appendChild(t.element,K+e)})),C(Y),o(z)}},G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(t),void window[r].writers.push(e);window[r]={readers:[t],writers:[e]};var i=window[r],o=1e3/n,a=null,s=null,c=null,u=null,l=function(){document.hidden?(c=function(){return window.setTimeout((function(){return d(performance.now())}),o)},u=function(){return window.clearTimeout(s)}):(c=function(){return window.requestAnimationFrame(d)},u=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){u&&u(),l(),d(performance.now())}));var d=function t(e){s=c(t),a||(a=e);var n=e-a;n<=o||(a=e-n%o,i.readers.forEach((function(t){return t()})),i.writers.forEach((function(t){return t(e)})))};return l(),d(performance.now()),{pause:function(){u(s)}}},U=function(t,e){return function(n){var r=n.root,i=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,c=n.shouldOptimize;a.filter((function(e){return t[e.type]})).forEach((function(e){return t[e.type]({root:r,props:i,action:e.data,timestamp:s,shouldOptimize:c})})),e&&e({root:r,props:i,actions:a,timestamp:s,shouldOptimize:c})}},V=function(t,e){return e.parentNode.insertBefore(t,e)},q=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},j=function(t){return Array.isArray(t)},W=function(t){return null==t},z=function(t){return t.trim()},X=function(t){return""+t},Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return W(t)?[]:j(t)?t:X(t).split(e).map(z).filter((function(t){return t.length}))},K=function(t){return"boolean"==typeof t},Q=function(t){return K(t)?t:"true"===t},Z=function(t){return"string"==typeof t},J=function(t){return T(t)?t:Z(t)?X(t).replace(/[a-z]+/gi,""):0},$=function(t){return parseInt(J(t),10)},tt=function(t){return parseFloat(J(t))},et=function(t){return T(t)&&isFinite(t)&&Math.floor(t)===t},nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(et(t))return t;var n=X(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),$(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),$(n)*e):$(n)},rt=function(t){return"function"==typeof t},it=function(t){for(var e=self,n=t.split("."),r=null;r=n.shift();)if(!(e=e[r]))return null;return e},ot={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},at=function(t){var e={};return e.url=Z(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},i(ot,(function(n){e[n]=st(n,t[n],ot[n],e.timeout,e.headers)})),e.process=t.process||Z(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},st=function(t,e,n,r,i){if(null===e)return null;if("function"==typeof e)return e;var o={url:"GET"===n||"PATCH"===n?"?"+t+"=":"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Z(e))return o.url=e,o;if(Object.assign(o,e),Z(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=Q(o.withCredentials),o},ct=function(t){return null===t},ut=function(t){return"object"==typeof t&&null!==t},lt=function(t){return ut(t)&&Z(t.url)&&ut(t.process)&&ut(t.revert)&&ut(t.restore)&&ut(t.fetch)},dt=function(t){return j(t)?"array":ct(t)?"null":et(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":lt(t)?"api":typeof t},ht=function(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},ft={array:Y,boolean:Q,int:function(t){return"bytes"===dt(t)?nt(t):$(t)},number:tt,float:tt,bytes:nt,string:function(t){return rt(t)?t:X(t)},function:function(t){return it(t)},serverapi:function(t){return at(t)},object:function(t){try{return JSON.parse(ht(t))}catch(t){return null}}},pt=function(t,e){return ft[e](t)},mt=function(t,e,n){if(t===e)return t;var r=dt(t);if(r!==n){var i=pt(t,n);if(r=dt(i),null===i)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';t=i}return t},Et=function(t,e){var n=t;return{enumerable:!0,get:function(){return n},set:function(r){n=mt(r,t,e)}}},gt=function(t){var e={};return i(t,(function(n){var r=t[n];e[n]=Et(r[0],r[1])})),o(e)},yt=function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:gt(t)}},vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map((function(t){return t.toLowerCase()})).join(e)},Tt=function(t,e){var n={};return i(e,(function(e){n[e]={get:function(){return t.getState().options[e]},set:function(n){t.dispatch("SET_"+vt(e,"_").toUpperCase(),{value:n})}}})),n},It=function(t){return function(e,n,r){var o={};return i(t,(function(t){var n=vt(t,"_").toUpperCase();o["SET_"+n]=function(i){try{r.options[t]=i.value}catch(t){}e("DID_SET_"+n,{value:r.options[t]})}})),o}},_t=function(t){return function(e){var n={};return i(t,(function(t){n["GET_"+vt(t,"_").toUpperCase()]=function(n){return e.options[t]}})),n}},At={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},bt=function(){return Math.random().toString(36).substr(2,9)};function Ct(t){this.wrapped=t}function St(t){var e,n;function r(t,r){return new Promise((function(o,a){var s={key:t,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,i(t,r))}))}function i(e,n){try{var r=t[e](n),a=r.value,s=a instanceof Ct;Promise.resolve(s?a.wrapped:a).then((function(t){s?i("next",t):o(r.done?"return":"normal",t)}),(function(t){i("throw",t)}))}catch(t){o("throw",t)}}function o(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}function Ot(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Rt(t,e){if(null==t)return{};var n,r,i=Ot(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wt(t){return Lt(t)||Dt(t)||xt()}function Lt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Dt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function xt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(St.prototype[Symbol.asyncIterator]=function(){return this}),St.prototype.next=function(t){return this._invoke("next",t)},St.prototype.throw=function(t){return this._invoke("throw",t)},St.prototype.return=function(t){return this._invoke("return",t)};var Nt=function(t,e){return t.splice(e,1)},Pt=function(t,e){e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},Mt=function(){var t=[],e=function(e,n){Nt(t,t.findIndex((function(t){return t.event===e&&(t.cb===n||!n)})))},n=function(e,n,r){t.filter((function(t){return t.event===e})).map((function(t){return t.cb})).forEach((function(t){return Pt((function(){return t.apply(void 0,wt(n))}),r)}))};return{fireSync:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!0)},fire:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!1)},on:function(e,n){t.push({event:e,cb:n})},onOnce:function(n,r){t.push({event:n,cb:function(){e(n,r),r.apply(void 0,arguments)}})},off:e}},kt=function(t,e,n){Object.getOwnPropertyNames(t).filter((function(t){return!n.includes(t)})).forEach((function(n){return Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))},Ft=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ht=function(t){var e={};return kt(t,e,Ft),e},Bt=function(t){t.forEach((function(e,n){e.released&&Nt(t,n)}))},Gt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Ut={INPUT:1,LIMBO:2,LOCAL:3},Vt=function(t){return/[^0-9]+/.exec(t)},qt=function(){return Vt(1.1.toLocaleString())[0]},jt=function(){var t=qt(),e=1e3.toLocaleString();return e!==1e3.toString()?Vt(e)[0]:"."===t?",":"."},Wt={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},zt=[],Xt=function(t,e,n){return new Promise((function(r,i){var o=zt.filter((function(e){return e.key===t})).map((function(t){return t.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(t,e){return t.then((function(t){return e(t,n)}))}),a(e,n)).then((function(t){return r(t)})).catch((function(t){return i(t)}))}else r(e)}))},Yt=function(t,e,n){return zt.filter((function(e){return e.key===t})).map((function(t){return t.cb(e,n)}))},Kt=function(t,e){return zt.push({key:t,cb:e})},Qt=function(t){return Object.assign($t,t)},Zt=function(){return Object.assign({},$t)},Jt=function(t){i(t,(function(t,e){$t[t]&&($t[t][0]=mt(e,$t[t][0],$t[t][1]))}))},$t={id:[null,Wt.STRING],name:["filepond",Wt.STRING],disabled:[!1,Wt.BOOLEAN],className:[null,Wt.STRING],required:[!1,Wt.BOOLEAN],captureMethod:[null,Wt.STRING],allowSyncAcceptAttribute:[!0,Wt.BOOLEAN],allowDrop:[!0,Wt.BOOLEAN],allowBrowse:[!0,Wt.BOOLEAN],allowPaste:[!0,Wt.BOOLEAN],allowMultiple:[!1,Wt.BOOLEAN],allowReplace:[!0,Wt.BOOLEAN],allowRevert:[!0,Wt.BOOLEAN],allowRemove:[!0,Wt.BOOLEAN],allowProcess:[!0,Wt.BOOLEAN],allowReorder:[!1,Wt.BOOLEAN],allowDirectoriesOnly:[!1,Wt.BOOLEAN],storeAsFile:[!1,Wt.BOOLEAN],forceRevert:[!1,Wt.BOOLEAN],maxFiles:[null,Wt.INT],checkValidity:[!1,Wt.BOOLEAN],itemInsertLocationFreedom:[!0,Wt.BOOLEAN],itemInsertLocation:["before",Wt.STRING],itemInsertInterval:[75,Wt.INT],dropOnPage:[!1,Wt.BOOLEAN],dropOnElement:[!0,Wt.BOOLEAN],dropValidation:[!1,Wt.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Wt.ARRAY],instantUpload:[!0,Wt.BOOLEAN],maxParallelUploads:[2,Wt.INT],allowMinimumUploadDuration:[!0,Wt.BOOLEAN],chunkUploads:[!1,Wt.BOOLEAN],chunkForce:[!1,Wt.BOOLEAN],chunkSize:[5e6,Wt.INT],chunkRetryDelays:[[500,1e3,3e3],Wt.ARRAY],server:[null,Wt.SERVER_API],fileSizeBase:[1e3,Wt.INT],labelFileSizeBytes:["bytes",Wt.STRING],labelFileSizeKilobytes:["KB",Wt.STRING],labelFileSizeMegabytes:["MB",Wt.STRING],labelFileSizeGigabytes:["GB",Wt.STRING],labelDecimalSeparator:[qt(),Wt.STRING],labelThousandsSeparator:[jt(),Wt.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Wt.STRING],labelInvalidField:["Field contains invalid files",Wt.STRING],labelFileWaitingForSize:["Waiting for size",Wt.STRING],labelFileSizeNotAvailable:["Size not available",Wt.STRING],labelFileCountSingular:["file in list",Wt.STRING],labelFileCountPlural:["files in list",Wt.STRING],labelFileLoading:["Loading",Wt.STRING],labelFileAdded:["Added",Wt.STRING],labelFileLoadError:["Error during load",Wt.STRING],labelFileRemoved:["Removed",Wt.STRING],labelFileRemoveError:["Error during remove",Wt.STRING],labelFileProcessing:["Uploading",Wt.STRING],labelFileProcessingComplete:["Upload complete",Wt.STRING],labelFileProcessingAborted:["Upload cancelled",Wt.STRING],labelFileProcessingError:["Error during upload",Wt.STRING],labelFileProcessingRevertError:["Error during revert",Wt.STRING],labelTapToCancel:["tap to cancel",Wt.STRING],labelTapToRetry:["tap to retry",Wt.STRING],labelTapToUndo:["tap to undo",Wt.STRING],labelButtonRemoveItem:["Remove",Wt.STRING],labelButtonAbortItemLoad:["Abort",Wt.STRING],labelButtonRetryItemLoad:["Retry",Wt.STRING],labelButtonAbortItemProcessing:["Cancel",Wt.STRING],labelButtonUndoItemProcessing:["Undo",Wt.STRING],labelButtonRetryItemProcessing:["Retry",Wt.STRING],labelButtonProcessItem:["Upload",Wt.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Wt.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Wt.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Wt.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Wt.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Wt.STRING],oninit:[null,Wt.FUNCTION],onwarning:[null,Wt.FUNCTION],onerror:[null,Wt.FUNCTION],onactivatefile:[null,Wt.FUNCTION],oninitfile:[null,Wt.FUNCTION],onaddfilestart:[null,Wt.FUNCTION],onaddfileprogress:[null,Wt.FUNCTION],onaddfile:[null,Wt.FUNCTION],onprocessfilestart:[null,Wt.FUNCTION],onprocessfileprogress:[null,Wt.FUNCTION],onprocessfileabort:[null,Wt.FUNCTION],onprocessfilerevert:[null,Wt.FUNCTION],onprocessfile:[null,Wt.FUNCTION],onprocessfiles:[null,Wt.FUNCTION],onremovefile:[null,Wt.FUNCTION],onpreparefile:[null,Wt.FUNCTION],onupdatefiles:[null,Wt.FUNCTION],onreorderfiles:[null,Wt.FUNCTION],beforeDropFile:[null,Wt.FUNCTION],beforeAddFile:[null,Wt.FUNCTION],beforeRemoveFile:[null,Wt.FUNCTION],beforePrepareFile:[null,Wt.FUNCTION],stylePanelLayout:[null,Wt.STRING],stylePanelAspectRatio:[null,Wt.STRING],styleItemPanelAspectRatio:[null,Wt.STRING],styleButtonRemoveItemPosition:["left",Wt.STRING],styleButtonProcessItemPosition:["right",Wt.STRING],styleLoadIndicatorPosition:["right",Wt.STRING],styleProgressIndicatorPosition:["right",Wt.STRING],styleButtonRemoveItemAlign:[!1,Wt.BOOLEAN],files:[[],Wt.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Wt.ARRAY]},te=function(t,e){return W(e)?t[0]||null:et(e)?t[e]||null:("object"==typeof e&&(e=e.id),t.find((function(t){return t.id===e}))||null)},ee=function(t){if(W(t))return t;if(/:/.test(t)){var e=t.split(":");return e[1]/e[0]}return parseFloat(t)},ne=function(t){return t.filter((function(t){return!t.archived}))},re={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ie=null,oe=function(){if(null===ie)try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,ie=1===e.files.length}catch(t){ie=!1}return ie},ae=[Gt.LOAD_ERROR,Gt.PROCESSING_ERROR,Gt.PROCESSING_REVERT_ERROR],se=[Gt.LOADING,Gt.PROCESSING,Gt.PROCESSING_QUEUED,Gt.INIT],ce=[Gt.PROCESSING_COMPLETE],ue=function(t){return ae.includes(t.status)},le=function(t){return se.includes(t.status)},de=function(t){return ce.includes(t.status)},he=function(t){return ut(t.options.server)&&(ut(t.options.server.process)||rt(t.options.server.process))},fe=function(t){return{GET_STATUS:function(){var e=ne(t.items),n=re.EMPTY,r=re.ERROR,i=re.BUSY,o=re.IDLE,a=re.READY;return 0===e.length?n:e.some(ue)?r:e.some(le)?i:e.some(de)?a:o},GET_ITEM:function(e){return te(t.items,e)},GET_ACTIVE_ITEM:function(e){return te(ne(t.items),e)},GET_ACTIVE_ITEMS:function(){return ne(t.items)},GET_ITEMS:function(){return t.items},GET_ITEM_NAME:function(e){var n=te(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:function(e){var n=te(t.items,e);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(t.options).filter((function(t){return/^style/.test(t)})).map((function(e){return{name:e,value:t.options[e]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(t.options.stylePanelLayout)?1:ee(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return ne(t.items).filter((function(t){return t.status===e}))},GET_TOTAL_ITEMS:function(){return ne(t.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return t.options.storeAsFile&&oe()&&!he(t)},IS_ASYNC:function(){return he(t)},GET_FILE_SIZE_LABELS:function(t){return{labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},pe=function(t){var e=ne(t.items).length;if(!t.options.allowMultiple)return 0===e;var n=t.options.maxFiles;return null===n||e<n},me=function(t,e,n){return Math.max(Math.min(n,t),e)},Ee=function(t,e,n){return t.splice(e,0,n)},ge=function(t,e,n){return W(e)?null:void 0===n?(t.push(e),e):(n=me(n,0,t.length),Ee(t,n,e),e)},ye=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},ve=function(t){return t.split("/").pop().split("?").shift()},Te=function(t){return t.split(".").pop()},Ie=function(t){if("string"!=typeof t)return"";var e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""},_e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},Ae=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"-"+_e(t.getMonth()+1,"00")+"-"+_e(t.getDate(),"00")+"_"+_e(t.getHours(),"00")+"-"+_e(t.getMinutes(),"00")+"-"+_e(t.getSeconds(),"00")},be=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="string"==typeof n?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return i.lastModifiedDate=new Date,t._relativePath&&(i._relativePath=t._relativePath),Z(e)||(e=Ae()),e&&null===r&&Te(e)?i.name=e:(r=r||Ie(i.type),i.name=e+(r?"."+r:"")),i},Ce=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Se=function(t,e){var n=Ce();if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},Oe=function(t,e){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return Se(n,e)},Re=function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},we=function(t){return t.split(",")[1].replace(/\s/g,"")},Le=function(t){return atob(we(t))},De=function(t){var e=Re(t),n=Le(t);return Oe(n,e)},xe=function(t,e,n){return be(De(t),e,null,n)},Ne=function(t){if(!/^content-disposition:/i.test(t))return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},Pe=function(t){if(/content-length:/i.test(t)){var e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Me=function(t){return/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null},ke=function(t){var e={source:null,name:null,size:null},n=t.split("\n"),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=Ne(c);if(u)e.name=u;else{var l=Pe(c);if(l)e.size=l;else{var d=Me(c);d&&(e.source=d)}}}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e},Fe=function(t){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return e.progress},r=function(){e.request&&e.request.abort&&e.request.abort()},i=function(){var t=e.source;a.fire("init",t),t instanceof File?a.fire("load",t):t instanceof Blob?a.fire("load",be(t,t.name)):ye(t)?a.fire("load",xe(t)):o(t)},o=function(n){t?(e.timestamp=Date.now(),e.request=t(n,(function(t){e.duration=Date.now()-e.timestamp,e.complete=!0,t instanceof Blob&&(t=be(t,t.name||ve(n))),a.fire("load",t instanceof Blob?t:t?t.body:null)}),(function(t){a.fire("error","string"==typeof t?{type:"error",code:0,body:t}:t)}),(function(t,n,r){r&&(e.size=r),e.duration=Date.now()-e.timestamp,t?(e.progress=n/r,a.fire("progress",e.progress)):e.progress=null}),(function(){a.fire("abort")}),(function(t){var n=ke("string"==typeof t?t:t.headers);a.fire("meta",{size:e.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},Mt(),{setSource:function(t){return e.source=t},getProgress:n,abort:r,load:i});return a},He=function(t){return/GET|HEAD/.test(t)},Be=function(t,e,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){i=!0,a.abort()}},i=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),e=encodeURI(e),He(n.method)&&t&&(e=""+e+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));var a=new XMLHttpRequest;return(He(n.method)?a:a.upload).onprogress=function(t){i||r.onprogress(t.lengthComputable,t.loaded,t.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){i=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,e,!0),et(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(t){var e=unescape(encodeURIComponent(n.headers[t]));a.setRequestHeader(t,e)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(t),r},Ge=function(t,e,n,r){return{type:t,code:e,body:n,headers:r}},Ue=function(t){return function(e){t(Ge("error",0,"Timeout",e.getAllResponseHeaders()))}},Ve=function(t){return/\?/.test(t)},qe=function(){for(var t="",e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t+=Ve(t)&&Ve(e)?e.replace(/\?/,"&"):e})),t},je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!Z(e.url))return null;var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a,s,c,u){var l=Be(i,qe(t,e.url),Object.assign({},e,{responseType:"blob"}));return l.onload=function(t){var r=t.getAllResponseHeaders(),a=ke(r).name||ve(i);o(Ge("load",t.status,"HEAD"===e.method?null:be(n(t.response),a),r))},l.onerror=function(t){a(Ge("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},l.onheaders=function(t){u(Ge("headers",t.status,null,t.getAllResponseHeaders()))},l.ontimeout=Ue(a),l.onprogress=s,l.onabort=c,l}},We={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},ze=function(t,e,n,r,i,o,a,s,c,u,l){for(var d=[],h=l.chunkTransferId,f=l.chunkServer,p=l.chunkSize,m=l.chunkRetryDelays,E={serverId:h,aborted:!1},g=e.ondata||function(t){return t},y=e.onload||function(t,e){return"HEAD"===e?t.getResponseHeader("Upload-Offset"):t.response},v=e.onerror||function(t){return null},T=function(o){var s=new FormData;ut(i)&&s.append(n,JSON.stringify(i));var c="function"==typeof e.headers?e.headers(r,i):Object.assign({},e.headers,{"Upload-Length":r.size}),u=Object.assign({},e,{headers:c}),l=Be(g(s),qe(t,e.url),u);l.onload=function(t){return o(y(t,u.method))},l.onerror=function(t){return a(Ge("error",t.status,v(t.response)||t.statusText,t.getAllResponseHeaders()))},l.ontimeout=Ue(a)},I=function(n){var r=qe(t,f.url,E.serverId),i={headers:"function"==typeof e.headers?e.headers(E.serverId):Object.assign({},e.headers),method:"HEAD"},o=Be(null,r,i);o.onload=function(t){return n(y(t,i.method))},o.onerror=function(t){return a(Ge("error",t.status,v(t.response)||t.statusText,t.getAllResponseHeaders()))},o.ontimeout=Ue(a)},_=Math.floor(r.size/p),A=0;A<=_;A++){var b=A*p,C=r.slice(b,b+p,"application/offset+octet-stream");d[A]={index:A,size:C.size,offset:b,data:C,file:r,progress:0,retries:wt(m),status:We.QUEUED,error:null,request:null,timeout:null}}var S=function(){return o(E.serverId)},O=function(t){return t.status===We.QUEUED||t.status===We.ERROR},R=function(e){if(!E.aborted)if(e=e||d.find(O)){e.status=We.PROCESSING,e.progress=null;var n=f.ondata||function(t){return t},i=f.onerror||function(t){return null},o=qe(t,f.url,E.serverId),s="function"==typeof f.headers?f.headers(e):Object.assign({},f.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":e.offset,"Upload-Length":r.size,"Upload-Name":r.name}),u=e.request=Be(n(e.data),o,Object.assign({},f,{headers:s}));u.onload=function(){e.status=We.COMPLETE,e.request=null,D()},u.onprogress=function(t,n,r){e.progress=t?n:null,L()},u.onerror=function(t){e.status=We.ERROR,e.request=null,e.error=i(t.response)||t.statusText,w(e)||a(Ge("error",t.status,i(t.response)||t.statusText,t.getAllResponseHeaders()))},u.ontimeout=function(t){e.status=We.ERROR,e.request=null,w(e)||Ue(a)(t)},u.onabort=function(){e.status=We.QUEUED,e.request=null,c()}}else d.every((function(t){return t.status===We.COMPLETE}))&&S()},w=function(t){return 0!==t.retries.length&&(t.status=We.WAITING,clearTimeout(t.timeout),t.timeout=setTimeout((function(){R(t)}),t.retries.shift()),!0)},L=function(){var t=d.reduce((function(t,e){return null===t||null===e.progress?null:t+e.progress}),0);if(null===t)return s(!1,0,0);var e=d.reduce((function(t,e){return t+e.size}),0);s(!0,t,e)},D=function(){d.filter((function(t){return t.status===We.PROCESSING})).length>=1||R()},x=function(){d.forEach((function(t){clearTimeout(t.timeout),t.request&&t.request.abort()}))};return E.serverId?I((function(t){E.aborted||(d.filter((function(e){return e.offset<t})).forEach((function(t){t.status=We.COMPLETE,t.progress=t.size})),D())})):T((function(t){E.aborted||(u(t),E.serverId=t,D())})),{abort:function(){E.aborted=!0,x()}}},Xe=function(t,e,n,r){return function(i,o,a,s,c,u,l){if(i){var d=r.chunkUploads,h=d&&i.size>r.chunkSize,f=d&&(h||r.chunkForce);if(i instanceof Blob&&f)return ze(t,e,n,i,o,a,s,c,u,l,r);var p=e.ondata||function(t){return t},m=e.onload||function(t){return t},E=e.onerror||function(t){return null},g="function"==typeof e.headers?e.headers(i,o)||{}:Object.assign({},e.headers),y=Object.assign({},e,{headers:g}),v=new FormData;ut(o)&&v.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach((function(t){v.append(n,t.file,null===t.name?t.file.name:""+t.name+t.file.name)}));var T=Be(p(v),qe(t,e.url),y);return T.onload=function(t){a(Ge("load",t.status,m(t.response),t.getAllResponseHeaders()))},T.onerror=function(t){s(Ge("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},T.ontimeout=Ue(s),T.onprogress=c,T.onabort=u,T}}},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof e?function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(void 0,[n].concat(i,[r]))}:e&&Z(e.url)?Xe(t,e,n,r):null},Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!Z(e.url))return function(t,e){return e()};var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a){var s=Be(i,t+e.url,e);return s.onload=function(t){o(Ge("load",t.status,n(t.response),t.getAllResponseHeaders()))},s.onerror=function(t){a(Ge("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},s.ontimeout=Ue(a),s}},Qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(e-t)},Ze=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,i=null,o=Date.now();return e>0&&function a(){var s=Date.now()-o,c=Qe(n,r);s+c>e&&(c=s+c-e);var u=s/e;u>=1||document.hidden?t(1):(t(u),i=setTimeout(a,c))}(),{clear:function(){clearTimeout(i)}}},Je=function(t,e){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=e.allowMinimumUploadDuration,i=function(e,i){var o=function(){0!==n.duration&&null!==n.progress&&u.fire("progress",u.getProgress())},a=function(){n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Ze((function(t){n.perceivedProgress=t,n.perceivedDuration=Date.now()-n.timestamp,o(),n.response&&1===n.perceivedProgress&&!n.complete&&a()}),r?Qe(750,1500):0),n.request=t(e,i,(function(t){n.response=ut(t)?t:{type:"load",code:200,body:""+t,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&a()}),(function(t){n.perceivedPerformanceUpdater.clear(),u.fire("error",ut(t)?t:{type:"error",code:0,body:""+t})}),(function(t,e,r){n.duration=Date.now()-n.timestamp,n.progress=t?e/r:null,o()}),(function(){n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)}),(function(t){u.fire("transfer",t)}))},o=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},a=function(){o(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},s=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},c=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},u=Object.assign({},Mt(),{process:i,abort:o,getProgress:s,getDuration:c,reset:a});return u},$e=function(t){return t.substr(0,t.lastIndexOf("."))||t},tn=function(t){var e=[t.name,t.size,t.type];return t instanceof Blob||ye(t)?e[0]=t.name||Ae():ye(t)?(e[1]=t.length,e[2]=Re(t)):Z(t)&&(e[0]=ve(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},en=function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},nn=function t(e){if(!ut(e))return e;var n=j(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i&&ut(i)?t(i):i}return n},rn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=bt(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Gt.PROCESSING_COMPLETE:Gt.INIT,activeLoader:null,activeProcessor:null},a=null,s={},c=function(t){return i.status=t},u=function(t){if(!i.released&&!i.frozen){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];A.fire.apply(A,[t].concat(n))}},l=function(){return Te(i.file.name)},d=function(){return i.file.type},h=function(){return i.file.size},f=function(){return i.file},p=function(e,n,r){i.source=e,A.fireSync("init"),i.file?A.fireSync("load-skip"):(i.file=tn(e),n.on("init",(function(){u("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=Ut.LIMBO,i.serverFileReference=e.source,i.status=Gt.PROCESSING_COMPLETE),u("load-meta")})),n.on("progress",(function(t){c(Gt.LOADING),u("load-progress",t)})),n.on("error",(function(t){c(Gt.LOAD_ERROR),u("load-request-error",t)})),n.on("abort",(function(){c(Gt.INIT),u("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=en(e)?e:i.file,t===Ut.LIMBO&&i.serverFileReference?c(Gt.PROCESSING_COMPLETE):c(Gt.IDLE),u("load")},o=function(t){i.file=e,u("load-meta"),c(Gt.LOAD_ERROR),u("load-file-error",t)};i.serverFileReference?n(e):r(e,n,o)})),n.setSource(e),i.activeLoader=n,n.load())},m=function(){i.activeLoader&&i.activeLoader.load()},E=function(){i.activeLoader?i.activeLoader.abort():(c(Gt.INIT),u("load-abort"))},g=function t(e,n){if(i.processingAborted)i.processingAborted=!1;else if(c(Gt.PROCESSING),a=null,i.file instanceof Blob){e.on("load",(function(t){i.transferId=null,i.serverFileReference=t})),e.on("transfer",(function(t){i.transferId=t})),e.on("load-perceived",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,c(Gt.PROCESSING_COMPLETE),u("process-complete",t)})),e.on("start",(function(){u("process-start")})),e.on("error",(function(t){i.activeProcessor=null,c(Gt.PROCESSING_ERROR),u("process-error",t)})),e.on("abort",(function(t){i.activeProcessor=null,i.serverFileReference=t,c(Gt.IDLE),u("process-abort"),a&&a()})),e.on("progress",(function(t){u("process-progress",t)}));var r=function(t){i.archived||e.process(t,Object.assign({},s))},o=console.error;n(i.file,r,o),i.activeProcessor=e}else A.on("load",(function(){t(e,n)}))},y=function(){i.processingAborted=!1,c(Gt.PROCESSING_QUEUED)},v=function(){return new Promise((function(t){if(!i.activeProcessor)return i.processingAborted=!0,c(Gt.IDLE),u("process-abort"),void t();a=function(){t()},i.activeProcessor.abort()}))},T=function(t,e){return new Promise((function(n,r){var o=null!==i.serverFileReference?i.serverFileReference:i.transferId;null!==o?(t(o,(function(){i.serverFileReference=null,i.transferId=null,n()}),(function(t){e?(c(Gt.PROCESSING_REVERT_ERROR),u("process-revert-error"),r(t)):n()})),c(Gt.IDLE),u("process-revert")):n()}))},I=function(t,e,n){var r=t.split("."),i=r[0],o=r.pop(),a=s;r.forEach((function(t){return a=a[t]})),JSON.stringify(a[o])!==JSON.stringify(e)&&(a[o]=e,u("metadata-update",{key:i,value:s[i],silent:n}))},_=function(t){return nn(t?s[t]:s)},A=Object.assign({id:{get:function(){return r}},origin:{get:function(){return t},set:function(e){return t=e}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return $e(i.file.name)}},fileExtension:{get:l},fileType:{get:d},fileSize:{get:h},file:{get:f},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:_,setMetadata:function(t,e,n){if(ut(t)){var r=t;return Object.keys(r).forEach((function(t){I(t,r[t],e)})),t}return I(t,e,n),e},extend:function(t,e){return b[t]=e},abortLoad:E,retryLoad:m,requestProcessing:y,abortProcessing:v,load:p,process:g,revert:T},Mt(),{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),b=o(A);return b},on=function(t,e){return W(e)?0:Z(e)?t.findIndex((function(t){return t.id===e})):-1},an=function(t,e){var n=on(t,e);if(!(n<0))return t[n]||null},sn=function(t,e,n,r,i,o){var a=Be(null,t,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),i=ke(r).name||ve(t);e(Ge("load",n.status,be(n.response,i),r))},a.onerror=function(t){n(Ge("error",t.status,t.statusText,t.getAllResponseHeaders()))},a.onheaders=function(t){o(Ge("headers",t.status,null,t.getAllResponseHeaders()))},a.ontimeout=Ue(n),a.onprogress=r,a.onabort=i,a},cn=function(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},un=function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&cn(location.href)!==cn(t)},ln=function(t){return function(){return rt(t)?t.apply(void 0,arguments):t}},dn=function(t){return!en(t.file)},hn=function(t,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout((function(){t("DID_UPDATE_ITEMS",{items:ne(e.items)})}),0)},fn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise((function(e){if(!t)return e(!0);var r=t.apply(void 0,n);return null==r?e(!0):"boolean"==typeof r?e(r):void("function"==typeof r.then&&r.then(e))}))},pn=function(t,e){t.items.sort((function(t,n){return e(Ht(t),Ht(n))}))},mn=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,i=n.success,o=void 0===i?function(){}:i,a=n.failure,s=void 0===a?function(){}:a,c=Rt(n,["query","success","failure"]),u=te(t.items,r);u?e(u,o,s,c||{}):s({error:Ge("error",0,"Item not found"),file:null})}},En=function(t,e,n){return{ABORT_ALL:function(){ne(n.items).forEach((function(t){t.freeze(),t.abortLoad(),t.abortProcessing()}))},DID_SET_FILES:function(e){var r=e.value,i=(void 0===r?[]:r).map((function(t){return{source:t.source?t.source:t,options:t.options}})),o=ne(n.items);o.forEach((function(e){i.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),o=ne(n.items),i.forEach((function(e,n){o.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Object.assign({},e,{interactionMethod:At.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(r){var i=r.id,o=r.action,a=r.change;a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var r=an(n.items,i);if(e("IS_ASYNC")){r.origin===Ut.LOCAL&&t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.source});var s=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:i})}),32)},c=function(t){r.revert(Ke(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(t?s:function(){}).catch((function(){}))},u=function(t){r.abortProcessing().then(t?s:function(){})};return r.status===Gt.PROCESSING_COMPLETE?c(n.options.instantUpload):r.status===Gt.PROCESSING?u(n.options.instantUpload):void(n.options.instantUpload&&s())}Xt("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:e,action:o,change:a}).then((function(n){var o=e("GET_BEFORE_PREPARE_FILE");o&&(n=o(r,n)),n&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:r,success:function(e){t("DID_PREPARE_OUTPUT",{id:i,file:e})}},!0)}))}),0))},MOVE_ITEM:function(t){var e=t.query,r=t.index,i=te(n.items,e);if(i){var o=n.items.indexOf(i);o!==(r=me(r,0,n.items.length-1))&&n.items.splice(r,0,n.items.splice(o,1)[0])}},SORT:function(r){var i=r.compare;pn(n,i),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,i=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,c=n.failure,u=void 0===c?function(){}:c,l=i;if(-1===i||void 0===i){var d=e("GET_ITEM_INSERT_LOCATION"),h=e("GET_TOTAL_ITEMS");l="before"===d?0:h}var f=e("GET_IGNORED_FILES"),p=function(t){return en(t)?!f.includes(t.name.toLowerCase()):!W(t)},m=r.filter(p).map((function(e){return new Promise((function(n,r){t("ADD_ITEM",{interactionMethod:o,source:e.source||e,success:n,failure:r,index:l++,options:e.options||{}})}))}));Promise.all(m).then(s).catch(u)},ADD_ITEM:function(r){var i=r.source,o=r.index,a=void 0===o?-1:o,s=r.interactionMethod,c=r.success,u=void 0===c?function(){}:c,l=r.failure,d=void 0===l?function(){}:l,h=r.options,f=void 0===h?{}:h;if(W(i))d({error:Ge("error",0,"No source"),file:null});else if(!en(i)||!n.options.ignoredFiles.includes(i.name.toLowerCase())){if(!pe(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=Ge("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:i,error:p}),void d({error:p,file:null})}var m=ne(n.items)[0];if(m.status===Gt.PROCESSING_COMPLETE||m.status===Gt.PROCESSING_REVERT_ERROR){var E=e("GET_FORCE_REVERT");if(m.revert(Ke(n.options.server.url,n.options.server.revert),E).then((function(){E&&t("ADD_ITEM",{source:i,index:a,interactionMethod:s,success:u,failure:d,options:f})})).catch((function(){})),E)return}t("REMOVE_ITEM",{query:m.id})}var g="local"===f.type?Ut.LOCAL:"limbo"===f.type?Ut.LIMBO:Ut.INPUT,y=rn(g,g===Ut.INPUT?null:i,f.file);Object.keys(f.metadata||{}).forEach((function(t){y.setMetadata(t,f.metadata[t])})),Yt("DID_CREATE_ITEM",y,{query:e,dispatch:t});var v=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===v?-1:n.items.length),ge(n.items,y,a),rt(v)&&i&&pn(n,v);var T=y.id;y.on("init",(function(){t("DID_INIT_ITEM",{id:T})})),y.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:T})})),y.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:T})})),y.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:T,progress:e})})),y.on("load-request-error",(function(e){var r=ln(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:T,error:e,status:{main:r,sub:e.code+" ("+e.body+")"}}),void d({error:e,file:Ht(y)});t("DID_THROW_ITEM_LOAD_ERROR",{id:T,error:e,status:{main:r,sub:n.options.labelTapToRetry}})})),y.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:T,error:e.status,status:e.status}),d({error:e.status,file:Ht(y)})})),y.on("load-abort",(function(){t("REMOVE_ITEM",{query:T})})),y.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:T,item:y,data:{source:i,success:u}})})),y.on("load",(function(){var r=function(r){r?(y.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:T,change:e})})),Xt("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:e}).then((function(r){var o=e("GET_BEFORE_PREPARE_FILE");o&&(r=o(y,r));var a=function(){t("COMPLETE_LOAD_ITEM",{query:T,item:y,data:{source:i,success:u}}),hn(t,n)};r?t("REQUEST_PREPARE_OUTPUT",{query:T,item:y,success:function(e){t("DID_PREPARE_OUTPUT",{id:T,file:e}),a()}},!0):a()}))):t("REMOVE_ITEM",{query:T})};Xt("DID_LOAD_ITEM",y,{query:e,dispatch:t}).then((function(){fn(e("GET_BEFORE_ADD_FILE"),Ht(y)).then(r)})).catch((function(e){if(!e||!e.error||!e.status)return r(!1);t("DID_THROW_ITEM_INVALID",{id:T,error:e.error,status:e.status})}))})),y.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:T})})),y.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:T,progress:e})})),y.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:T,error:e,status:{main:ln(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})})),y.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:T,error:e,status:{main:ln(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})})),y.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:T,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:T,value:e})})),y.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:T})})),y.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:T}),t("DID_DEFINE_VALUE",{id:T,value:null})})),t("DID_ADD_ITEM",{id:T,index:a,interactionMethod:s}),hn(t,n);var I=n.options.server||{},_=I.url,A=I.load,b=I.restore,C=I.fetch;y.load(i,Fe(g===Ut.INPUT?Z(i)&&un(i)&&C?je(_,C):sn:g===Ut.LIMBO?je(_,b):je(_,A)),(function(t,n,r){Xt("LOAD_FILE",t,{query:e}).then(n).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(t){var n=t.item,r=t.success,i=t.failure,o=void 0===i?function(){}:i,a={error:Ge("error",0,"Item not found"),file:null};if(n.archived)return o(a);Xt("PREPARE_OUTPUT",n.file,{query:e,item:n}).then((function(t){Xt("COMPLETE_PREPARE_OUTPUT",t,{query:e,item:n}).then((function(t){if(n.archived)return o(a);r(t)}))}))},COMPLETE_LOAD_ITEM:function(r){var i=r.item,o=r.data,a=o.success,s=o.source,c=e("GET_ITEM_INSERT_LOCATION");if(rt(c)&&s&&pn(n,c),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===Ut.INPUT?null:s}),a(Ht(i)),i.origin!==Ut.LOCAL)return i.origin===Ut.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:s}),void t("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||s})):void(e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id}));t("DID_LOAD_LOCAL_ITEM",{id:i.id})},RETRY_ITEM_LOAD:mn(n,(function(t){t.retryLoad()})),REQUEST_ITEM_PREPARE:mn(n,(function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:mn(n,(function(r,i,o){if(r.status===Gt.IDLE||r.status===Gt.PROCESSING_ERROR)r.status!==Gt.PROCESSING_QUEUED&&(r.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),t("PROCESS_ITEM",{query:r,success:i,failure:o},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o})},s=function(){return document.hidden?a():setTimeout(a,32)};r.status===Gt.PROCESSING_COMPLETE||r.status===Gt.PROCESSING_REVERT_ERROR?r.revert(Ke(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(s).catch((function(){})):r.status===Gt.PROCESSING&&r.abortProcessing().then(s)}})),PROCESS_ITEM:mn(n,(function(r,i,o){var a=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Gt.PROCESSING).length!==a){if(r.status!==Gt.PROCESSING){var s=function e(){var r=n.processingQueue.shift();if(r){var i=r.id,o=r.success,a=r.failure,s=te(n.items,i);s&&!s.archived?t("PROCESS_ITEM",{query:i,success:o,failure:a},!0):e()}};r.onOnce("process-complete",(function(){i(Ht(r)),s();var o=n.options.server;if(n.options.instantUpload&&r.origin===Ut.LOCAL&&rt(o.remove)){var a=function(){};r.origin=Ut.LIMBO,n.options.server.remove(r.source,a,a)}e("GET_ITEMS_BY_STATUS",Gt.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),r.onOnce("process-error",(function(t){o({error:t,file:Ht(r)}),s()}));var c=n.options;r.process(Je(Ye(c.server.url,c.server.process,c.name,{chunkTransferId:r.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,i,o){Xt("PREPARE_OUTPUT",n,{query:e,item:r}).then((function(e){t("DID_PREPARE_OUTPUT",{id:r.id,file:e}),i(e)})).catch(o)}))}}else n.processingQueue.push({id:r.id,success:i,failure:o})})),RETRY_ITEM_PROCESSING:mn(n,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:mn(n,(function(n){fn(e("GET_BEFORE_REMOVE_FILE"),Ht(n)).then((function(e){e&&t("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:mn(n,(function(t){t.release()})),REMOVE_ITEM:mn(n,(function(r,i,o,a){var s=function(){var e=r.id;an(n.items,e).archive(),t("DID_REMOVE_ITEM",{error:null,id:e,item:r}),hn(t,n),i(Ht(r))},c=n.options.server;r.origin===Ut.LOCAL&&c&&rt(c.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:r.id}),c.remove(r.source,(function(){return s()}),(function(e){t("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Ge("error",0,e,null),status:{main:ln(n.options.labelFileRemoveError)(e),sub:n.options.labelTapToRetry}})}))):((a.revert&&r.origin!==Ut.LOCAL&&null!==r.serverId||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(Ke(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:mn(n,(function(t){t.abortLoad()})),ABORT_ITEM_PROCESSING:mn(n,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){n.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:mn(n,(function(r){if(n.options.instantUpload){var i=function(e){e&&t("REVERT_ITEM_PROCESSING",{query:r})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);var a=o(Ht(r));return null==a?i(!0):"boolean"==typeof a?i(a):void("function"==typeof a.then&&a.then(i))}t("REVERT_ITEM_PROCESSING",{query:r})})),REVERT_ITEM_PROCESSING:mn(n,(function(r){r.revert(Ke(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||dn(r))&&t("REMOVE_ITEM",{query:r.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options,r=Object.keys(n),i=gn.filter((function(t){return r.includes(t)}));[].concat(wt(i),wt(Object.keys(n).filter((function(t){return!i.includes(t)})))).forEach((function(e){t("SET_"+vt(e,"_").toUpperCase(),{value:n[e]})}))}}},gn=["server"],yn=function(t){return t},vn=function(t){return document.createElement(t)},Tn=function(t,e){var n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},In=function(t,e,n,r){var i=(r%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},_n=function(t,e,n,r,i,o){var a=In(t,e,n,i),s=In(t,e,n,r);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")},An=function(t,e,n,r,i){var o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),_n(t,e,n,360*Math.min(.9999,r),360*Math.min(.9999,i),o)},bn=function(t){var e=t.root,n=t.props;n.spin=!1,n.progress=0,n.opacity=0;var r=l("svg");e.ref.path=l("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},Cn=function(t){var e=t.root,n=t.props;if(0!==n.opacity){n.align&&(e.element.dataset.align=n.align);var r=parseInt(a(e.ref.path,"stroke-width"),10),i=.5*e.rect.element.width,o=0,s=0;n.spin?(o=0,s=.5):(o=0,s=n.progress);var c=An(i,i,i-r,o,s);a(e.ref.path,"d",c),a(e.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},Sn=B({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:bn,write:Cn,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),On=function(t){var e=t.root,n=t.props;e.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},Rn=function(t){var e=t.root,n=t.props,r=n.isDisabled,i=e.query("GET_DISABLED")||0===n.opacity;i&&!r?(n.isDisabled=!0,a(e.element,"disabled","disabled")):!i&&r&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))},wn=B({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:On,write:Rn}),Ln=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.labelBytes,o=void 0===i?"bytes":i,a=r.labelKilobytes,s=void 0===a?"KB":a,c=r.labelMegabytes,u=void 0===c?"MB":c,l=r.labelGigabytes,d=void 0===l?"GB":l,h=n,f=n*n,p=n*n*n;return(t=Math.round(Math.abs(t)))<h?t+" "+o:t<f?Math.floor(t/h)+" "+s:t<p?Dn(t/f,1,e)+" "+u:Dn(t/p,2,e)+" "+d},Dn=function(t,e,n){return t.toFixed(e).split(".").filter((function(t){return"0"!==t})).join(n)},xn=function(t){var e=t.root,n=t.props,r=vn("span");r.className="filepond--file-info-main",a(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;var i=vn("span");i.className="filepond--file-info-sub",e.appendChild(i),e.ref.fileSize=i,Tn(i,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Tn(r,yn(e.query("GET_ITEM_NAME",n.id)))},Nn=function(t){var e=t.root,n=t.props;Tn(e.ref.fileSize,Ln(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Tn(e.ref.fileName,yn(e.query("GET_ITEM_NAME",n.id)))},Pn=function(t){var e=t.root,n=t.props;et(e.query("GET_ITEM_SIZE",n.id))?Nn({root:e,props:n}):Tn(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Mn=B({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:U({DID_LOAD_ITEM:Nn,DID_UPDATE_ITEM_META:Nn,DID_THROW_ITEM_LOAD_ERROR:Pn,DID_THROW_ITEM_INVALID:Pn}),didCreateView:function(t){Yt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:xn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),kn=function(t){return Math.round(100*t)},Fn=function(t){var e=t.root,n=vn("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;var r=vn("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Hn({root:e,action:{progress:null}})},Hn=function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_LOADING"):e.query("GET_LABEL_FILE_LOADING")+" "+kn(n.progress)+"%";Tn(e.ref.main,r),Tn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Bn=function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_PROCESSING"):e.query("GET_LABEL_FILE_PROCESSING")+" "+kn(n.progress)+"%";Tn(e.ref.main,r),Tn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Gn=function(t){var e=t.root;Tn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Tn(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Un=function(t){var e=t.root;Tn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Tn(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Vn=function(t){var e=t.root;Tn(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Tn(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},qn=function(t){var e=t.root;Tn(e.ref.main,""),Tn(e.ref.sub,"")},jn=function(t){var e=t.root,n=t.action;Tn(e.ref.main,n.status.main),Tn(e.ref.sub,n.status.sub)},Wn=B({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:U({DID_LOAD_ITEM:qn,DID_REVERT_ITEM_PROCESSING:qn,DID_REQUEST_ITEM_PROCESSING:Gn,DID_ABORT_ITEM_PROCESSING:Un,DID_COMPLETE_ITEM_PROCESSING:Vn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Bn,DID_UPDATE_ITEM_LOAD_PROGRESS:Hn,DID_THROW_ITEM_LOAD_ERROR:jn,DID_THROW_ITEM_INVALID:jn,DID_THROW_ITEM_PROCESSING_ERROR:jn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:jn,DID_THROW_ITEM_REMOVE_ERROR:jn}),didCreateView:function(t){Yt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:Fn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),zn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Xn=[];i(zn,(function(t){Xn.push(t)}));var Yn,Kn=function(t){if("right"===er(t))return 0;var e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Qn=function(t){return t.ref.buttonAbortItemLoad.rect.element.width},Zn=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},Jn=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},$n=function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")},tr=function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},er=function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},nr={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:$n},processProgressIndicator:{opacity:0,align:tr},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},rr={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn}},ir={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},or={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:er},info:{translateX:Kn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:er},buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{opacity:1,translateX:Kn}},DID_LOAD_ITEM:rr,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn}},DID_START_ITEM_PROCESSING:ir,DID_REQUEST_ITEM_PROCESSING:ir,DID_UPDATE_ITEM_PROCESS_PROGRESS:ir,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Kn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Kn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:rr},ar=B({create:function(t){var e=t.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),sr=function(t){var e,n=t.root,r=t.props,o=Object.keys(zn).reduce((function(t,e){return t[e]=Object.assign({},zn[e]),t}),{}),a=r.id,s=n.query("GET_ALLOW_REVERT"),c=n.query("GET_ALLOW_REMOVE"),u=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),d=n.query("IS_ASYNC"),h=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");d?u&&!s?e=function(t){return!/RevertItemProcessing/.test(t)}:!u&&s?e=function(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:u||s||(e=function(t){return!/Process/.test(t)}):e=function(t){return!/Process/.test(t)};var f=e?Xn.filter(e):Xn.concat();if(l&&s&&(o.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",o.RevertItemProcessing.icon="GET_ICON_REMOVE"),d&&!s){var p=or.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Jn,p.info.translateY=Zn,p.status.translateY=Zn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(d&&!u&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(t){or[t].status.translateY=Zn})),or.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Qn),h&&s){o.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var m=or.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=Kn,m.status.translateY=Zn,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}c||(o.RemoveItem.disabled=!0),i(o,(function(t,e){var r=n.createChildView(wn,{label:n.query(e.label),icon:n.query(e.icon),opacity:0});f.includes(t)&&n.appendChildView(r),e.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_"+e.align),r.element.classList.add(e.className),r.on("click",(function(t){t.stopPropagation(),e.disabled||n.dispatch(e.action,{query:a})})),n.ref["button"+t]=r})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(ar)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(Mn,{id:a})),n.ref.status=n.appendChildView(n.createChildView(Wn,{id:a}));var E=n.appendChildView(n.createChildView(Sn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));E.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=E;var g=n.appendChildView(n.createChildView(Sn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=g,n.ref.activeStyles=[]},cr=function(t){var e=t.root,n=t.actions,r=t.props;ur({root:e,actions:n,props:r});var o=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return or[t.type]}));if(o){e.ref.activeStyles=[];var a=or[o.type];i(nr,(function(t,n){var r=e.ref[t];i(n,(function(n,i){var o=a[t]&&void 0!==a[t][n]?a[t][n]:i;e.ref.activeStyles.push({control:r,key:n,value:o})}))}))}e.ref.activeStyles.forEach((function(t){var n=t.control,r=t.key,i=t.value;n[r]="function"==typeof i?i(e):i}))},ur=U({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(t){var e=t.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),lr=B({create:sr,write:cr,didCreateView:function(t){Yt("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),dr=function(t){var e=t.root,n=t.props;e.ref.fileName=vn("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(lr,{id:n.id})),e.ref.data=!1},hr=function(t){var e=t.root,n=t.props;Tn(e.ref.fileName,yn(e.query("GET_ITEM_NAME",n.id)))},fr=B({create:dr,ignoreRect:!0,write:U({DID_LOAD_ITEM:hr}),didCreateView:function(t){Yt("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),pr={type:"spring",damping:.6,mass:7},mr=function(t){var e=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:pr},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:pr},styles:["translateY"]}}].forEach((function(t){Er(e,t,n.name)})),e.element.classList.add("filepond--"+n.name),e.ref.scalable=null},Er=function(t,e,n){var r=B({name:"panel-"+e.name+" filepond--"+n,mixins:e.mixins,ignoreRectUpdate:!0}),i=t.createChildView(r,e.props);t.ref[e.name]=t.appendChildView(i)},gr=function(t){var e=t.root,n=t.props;if(null!==e.ref.scalable&&n.scalable===e.ref.scalable||(e.ref.scalable=!K(n.scalable)||n.scalable,e.element.dataset.scalable=e.ref.scalable),n.height){var r=e.ref.top.rect.element,i=e.ref.bottom.rect.element,o=Math.max(r.height+i.height,n.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(o-r.height-i.height)/100,e.ref.bottom.translateY=o-i.height}},yr=B({name:"panel",read:function(t){var e=t.root;return t.props.heightCurrent=e.ref.bottom.translateY},write:gr,create:mr,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),vr=function(t){var e=t.map((function(t){return t.id})),n=void 0;return{setIndex:function(t){n=t},getIndex:function(){return n},getItemIndex:function(t){return e.indexOf(t.id)}}},Tr={type:"spring",stiffness:.75,damping:.45,mass:10},Ir="spring",_r={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ar=function(t){var e=t.root,n=t.props;if(e.ref.handleClick=function(t){return e.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},e.element.id="filepond--item-"+n.id,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(fr,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(yr,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,e.query("GET_ALLOW_REORDER")){e.element.dataset.dragState="idle";var r=function(t){if(t.isPrimary){var r=!1,i={x:t.pageX,y:t.pageY};n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:t.offsetX,y:t.offsetY};var o=vr(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var a=function(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),n.dragOffset={x:t.pageX-i.x,y:t.pageY-i.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o}))},s=function t(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",t),n.dragOffset={x:s.pageX-i.x,y:s.pageY-i.y},e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),r&&setTimeout((function(){return e.element.addEventListener("click",e.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",s)}};e.element.addEventListener("pointerdown",r)}},br=U({DID_UPDATE_PANEL_HEIGHT:function(t){var e=t.root,n=t.action;e.height=n.height}}),Cr=U({DID_GRAB_ITEM:function(t){var e=t.root;t.props.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:function(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(t){var e=t.root,n=t.props;n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},(function(t){var e=t.root,n=t.actions,r=t.props,i=t.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var o=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return _r[t.type]}));o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=_r[r.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?i||(e.height=e.rect.element.width*a):(br({root:e,actions:n,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),i&&(e.ref.panel.height=null),e.ref.panel.height=e.height})),Sr=B({create:Ar,write:Cr,destroy:function(t){var e=t.root,n=t.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Ir,scaleY:Ir,translateX:Tr,translateY:Tr,opacity:{type:"tween",duration:150}}}}),Or=function(t,e){return Math.max(1,Math.floor((t+1)/e))},Rr=function(t,e,n){if(n){var r=t.rect.element.width,i=e.length,o=null;if(0===i||n.top<e[0].rect.element.top)return-1;var a=e[0].rect.element,s=a.marginLeft+a.marginRight,c=a.width+s,u=Or(r,c);if(1===u){for(var l=0;l<i;l++){var d=e[l],h=d.rect.outer.top+.5*d.rect.element.height;if(n.top<h)return l}return i}for(var f=a.marginTop+a.marginBottom,p=a.height+f,m=0;m<i;m++){var E=m%u*c,g=Math.floor(m/u)*p,y=g-a.marginTop,v=E+c,T=g+p+a.marginBottom;if(n.top<T&&n.top>y){if(n.left<v)return m;o=m!==i-1?m:null}}return null!==o?o:i}},wr={height:0,width:0,get getHeight(){return this.height},set setHeight(t){0!==this.height&&0!==t||(this.height=t)},get getWidth(){return this.width},set setWidth(t){0!==this.width&&0!==t||(this.width=t)},setDimensions:function(t,e){0!==this.height&&0!==t||(this.height=t),0!==this.width&&0!==e||(this.width=e)}},Lr=function(t){var e=t.root;a(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Dr=function(t){var e=t.root,n=t.action,r=n.id,i=n.index,o=n.interactionMethod;e.ref.addIndex=i;var a=Date.now(),s=a,c=1;if(o!==At.NONE){c=0;var u=e.query("GET_ITEM_INSERT_INTERVAL"),l=a-e.ref.lastItemSpanwDate;s=l<u?a+(u-l):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(Sr,{spawnDate:s,id:r,opacity:c,interactionMethod:o}),i)},xr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(0===t.opacity&&Nr(t,e,n,r,i),t.scaleX=1,t.scaleY=1,t.opacity=1))},Nr=function(t,e,n,r,i){t.interactionMethod===At.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===At.DROP?(t.translateX=null,t.translateX=e-20*r,t.translateY=null,t.translateY=n-10*i,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===At.BROWSE?(t.translateY=null,t.translateY=n-30):t.interactionMethod===At.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},Pr=function(t){var e=t.root,n=t.action.id,r=e.childViews.find((function(t){return t.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},Mr=function(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},kr=function(t){return t.rect.element.width+.5*t.rect.element.marginLeft+.5*t.rect.element.marginRight},Fr=function(t){var e=t.root,n=t.action,r=n.id,i=n.dragState,o=e.query("GET_ITEM",{id:r}),a=e.childViews.find((function(t){return t.id===r})),s=e.childViews.length,c=i.getItemIndex(o);if(a){var u={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},l=Mr(a),d=kr(a),h=Math.floor(e.rect.outer.width/d);h>s&&(h=s);var f=Math.floor(s/h+1);wr.setHeight=l*f,wr.setWidth=d*h;var p={y:Math.floor(u.y/l),x:Math.floor(u.x/d),getGridIndex:function(){return u.y>wr.getHeight||u.y<0||u.x>wr.getWidth||u.x<0?c:this.y*h+this.x},getColIndex:function(){for(var t=e.query("GET_ACTIVE_ITEMS"),n=e.childViews.filter((function(t){return t.rect.element.height})),r=t.map((function(t){return n.find((function(e){return e.id===t.id}))})),i=r.findIndex((function(t){return t===a})),o=Mr(a),s=r.length,c=s,l=0,d=0,h=0;h<s;h++)if(l=(d=l)+Mr(r[h]),u.y<l){if(i>h){if(u.y<d+o){c=h;break}continue}c=h;break}return c}},m=h>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:m});var E=i.getIndex();if(void 0===E||E!==m){if(i.setIndex(m),void 0===E)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:c,target:m})}}},Hr=U({DID_ADD_ITEM:Dr,DID_REMOVE_ITEM:Pr,DID_DRAG_ITEM:Fr}),Br=function(t){var e=t.root,n=t.props,r=t.actions,i=t.shouldOptimize;Hr({root:e,props:n,actions:r});var o=n.dragCoordinates,a=e.rect.element.width,s=e.childViews.filter((function(t){return t.rect.element.height})),c=e.query("GET_ACTIVE_ITEMS").map((function(t){return s.find((function(e){return e.id===t.id}))})).filter((function(t){return t})),u=o?Rr(e,c,o):null,l=e.ref.addIndex||null;e.ref.addIndex=null;var d=0,h=0,f=0;if(0!==c.length){var p=c[0].rect.element,m=p.marginTop+p.marginBottom,E=p.marginLeft+p.marginRight,g=p.width+E,y=p.height+m,v=Or(a,g);if(1===v){var T=0,I=0;c.forEach((function(t,e){if(u){var n=e-u;I=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}i&&(t.translateX=null,t.translateY=null),t.markedForRemoval||xr(t,0,T+I);var r=(t.rect.element.height+m)*(t.markedForRemoval?t.opacity:1);T+=r}))}else{var _=0,A=0;c.forEach((function(t,e){e===u&&(d=1),e===l&&(f+=1),t.markedForRemoval&&t.opacity<.5&&(h-=1);var n=e+f+d+h,r=n%v,o=Math.floor(n/v),a=r*g,s=o*y,c=Math.sign(a-_),p=Math.sign(s-A);_=a,A=s,t.markedForRemoval||(i&&(t.translateX=null,t.translateY=null),xr(t,a,s,c,p))}))}}},Gr=function(t,e){return e.filter((function(e){return!e.data||!e.data.id||t.id===e.data.id}))},Ur=B({create:Lr,write:Br,tag:"ul",name:"list",didWriteView:function(t){var e=t.root;e.childViews.filter((function(t){return t.markedForRemoval&&0===t.opacity&&t.resting})).forEach((function(t){t._destroy(),e.removeChildView(t)}))},filterFrameActionsForChild:Gr,mixins:{apis:["dragCoordinates"]}}),Vr=function(t){var e=t.root,n=t.props;e.ref.list=e.appendChildView(e.createChildView(Ur)),n.dragCoordinates=null,n.overflowing=!1},qr=function(t){var e=t.root,n=t.props,r=t.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},jr=U({DID_DRAG:qr,DID_END_DRAG:function(t){t.props.dragCoordinates=null}}),Wr=function(t){var e=t.root,n=t.props,r=t.actions;if(jr({root:e,props:n,actions:r}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){var i=Math.round(n.overflow);i!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=i)}},zr=B({create:Vr,write:Wr,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Xr=function(t,e,n){n?a(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):t.removeAttribute(e)},Yr=function(t){if(t&&""!==t.value){try{t.value=""}catch(t){}if(t.value){var e=vn("form"),n=t.parentNode,r=t.nextSibling;e.appendChild(t),e.reset(),r?n.insertBefore(t,r):n.appendChild(t)}}},Kr=function(t){var e=t.root,n=t.props;e.element.id="filepond--browser-"+n.id,a(e.element,"name",e.query("GET_NAME")),a(e.element,"aria-controls","filepond--assistant-"+n.id),a(e.element,"aria-labelledby","filepond--drop-label-"+n.id),Qr({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Zr({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Jr({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),$r({root:e}),ti({root:e,action:{value:e.query("GET_REQUIRED")}}),ei({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=function(t){if(e.element.value){var r=Array.from(e.element.files).map((function(t){return t._relativePath=t.webkitRelativePath,t}));setTimeout((function(){n.onload(r),Yr(e.element)}),250)}},e.element.addEventListener("change",e.ref.handleChange)},Qr=function(t){var e=t.root,n=t.action;e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Xr(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},Zr=function(t){var e=t.root,n=t.action;Xr(e.element,"multiple",n.value)},Jr=function(t){var e=t.root,n=t.action;Xr(e.element,"webkitdirectory",n.value)},$r=function(t){var e=t.root,n=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),i=n||!r;Xr(e.element,"disabled",i)},ti=function(t){var e=t.root;t.action.value?0===e.query("GET_TOTAL_ITEMS")&&Xr(e.element,"required",!0):Xr(e.element,"required",!1)},ei=function(t){var e=t.root,n=t.action;Xr(e.element,"capture",!!n.value,!0===n.value?"":n.value)},ni=function(t){var e=t.root,n=e.element;e.query("GET_TOTAL_ITEMS")>0?(Xr(n,"required",!1),Xr(n,"name",!1)):(Xr(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&Xr(n,"required",!0))},ri=function(t){var e=t.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},ii=B({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Kr,destroy:function(t){var e=t.root;e.element.removeEventListener("change",e.ref.handleChange)},write:U({DID_LOAD_ITEM:ni,DID_REMOVE_ITEM:ni,DID_THROW_ITEM_INVALID:ri,DID_SET_DISABLED:$r,DID_SET_ALLOW_BROWSE:$r,DID_SET_ALLOW_DIRECTORIES_ONLY:Jr,DID_SET_ALLOW_MULTIPLE:Zr,DID_SET_ACCEPTED_FILE_TYPES:Qr,DID_SET_CAPTURE_METHOD:ei,DID_SET_REQUIRED:ti})}),oi={ENTER:13,SPACE:32},ai=function(t){var e=t.root,n=t.props,r=vn("label");a(r,"for","filepond--browser-"+n.id),a(r,"id","filepond--drop-label-"+n.id),a(r,"aria-hidden","true"),e.ref.handleKeyDown=function(t){(t.keyCode===oi.ENTER||t.keyCode===oi.SPACE)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=function(t){t.target===r||r.contains(t.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),si(r,n.caption),e.appendChild(r),e.ref.label=r},si=function(t,e){t.innerHTML=e;var n=t.querySelector(".filepond--label-action");return n&&a(n,"tabindex","0"),e},ci=B({name:"drop-label",ignoreRect:!0,create:ai,destroy:function(t){var e=t.root;e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:U({DID_SET_LABEL_IDLE:function(t){var e=t.root,n=t.action;si(e.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),ui=B({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),li=function(t){var e=t.root,n=.5*e.rect.element.width,r=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView(ui,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},di=function(t){var e=t.root,n=t.action;e.ref.blob?(e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):li({root:e})},hi=function(t){var e=t.root;e.ref.blob&&(e.ref.blob.opacity=0)},fi=function(t){var e=t.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},pi=function(t){var e=t.root,n=t.props,r=t.actions;mi({root:e,props:n,actions:r});var i=e.ref.blob;0===r.length&&i&&0===i.opacity&&(e.removeChildView(i),e.ref.blob=null)},mi=U({DID_DRAG:di,DID_DROP:fi,DID_END_DRAG:hi}),Ei=B({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:pi}),gi=function(t,e){try{var n=new DataTransfer;e.forEach((function(t){t instanceof File?n.items.add(t):n.items.add(new File([t],t.name,{type:t.type}))})),t.files=n.files}catch(t){return!1}return!0},yi=function(t){return t.root.ref.fields={}},vi=function(t,e){return t.ref.fields[e]},Ti=function(t){t.query("GET_ACTIVE_ITEMS").forEach((function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])}))},Ii=function(t){var e=t.root;return Ti(e)},_i=function(t){var e=t.root,n=t.action,r=!(e.query("GET_ITEM",n.id).origin===Ut.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),i=vn("input");i.type=r?"file":"hidden",i.name=e.query("GET_NAME"),i.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=i,Ti(e)},Ai=function(t){var e=t.root,n=t.action,r=vi(e,n.id);if(r&&(null!==n.serverFileReference&&(r.value=n.serverFileReference),e.query("SHOULD_UPDATE_FILE_INPUT"))){var i=e.query("GET_ITEM",n.id);gi(r,[i.file])}},bi=function(t){var e=t.root,n=t.action;e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((function(){var t=vi(e,n.id);t&&gi(t,[n.file])}),0)},Ci=function(t){var e=t.root;e.element.disabled=e.query("GET_DISABLED")},Si=function(t){var e=t.root,n=t.action,r=vi(e,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[n.id])},Oi=function(t){var e=t.root,n=t.action,r=vi(e,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,Ti(e))},Ri=U({DID_SET_DISABLED:Ci,DID_ADD_ITEM:_i,DID_LOAD_ITEM:Ai,DID_REMOVE_ITEM:Si,DID_DEFINE_VALUE:Oi,DID_PREPARE_OUTPUT:bi,DID_REORDER_ITEMS:Ii,DID_SORT_ITEMS:Ii}),wi=B({tag:"fieldset",name:"data",create:yi,write:Ri,ignoreRect:!0}),Li=function(t){return"getRootNode"in t?t.getRootNode():document},Di=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],xi=["css","csv","html","txt"],Ni={zip:"zip|compressed",epub:"application/epub+zip"},Pi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.toLowerCase(),Di.includes(t)?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):xi.includes(t)?"text/"+t:Ni[t]||""},Mi=function(t){return new Promise((function(e,n){var r=Wi(t);if(r.length&&!ki(t))return e(r);Fi(t).then(e)}))},ki=function(t){return!!t.files&&t.files.length>0},Fi=function(t){return new Promise((function(e,n){var r=(t.items?Array.from(t.items):[]).filter((function(t){return Hi(t)})).map((function(t){return Bi(t)}));r.length?Promise.all(r).then((function(t){var n=[];t.forEach((function(t){n.push.apply(n,t)})),e(n.filter((function(t){return t})).map((function(t){return t._relativePath||(t._relativePath=t.webkitRelativePath),t})))})).catch(console.error):e(t.files?Array.from(t.files):[])}))},Hi=function(t){if(qi(t)){var e=ji(t);if(e)return e.isFile||e.isDirectory}return"file"===t.kind},Bi=function(t){return new Promise((function(e,n){Vi(t)?Gi(ji(t)).then(e).catch(n):e([t.getAsFile()])}))},Gi=function(t){return new Promise((function(e,n){var r=[],i=0,o=0,a=function(){0===o&&0===i&&e(r)},s=function t(e){i++;var s=e.createReader(),c=function e(){s.readEntries((function(n){if(0===n.length)return i--,void a();n.forEach((function(e){e.isDirectory?t(e):(o++,e.file((function(t){var n=Ui(t);e.fullPath&&(n._relativePath=e.fullPath),r.push(n),o--,a()})))})),e()}),n)};c()};s(t)}))},Ui=function(t){if(t.type.length)return t;var e=t.lastModifiedDate,n=t.name,r=Pi(Te(t.name));return r.length?((t=t.slice(0,t.size,r)).name=n,t.lastModifiedDate=e,t):t},Vi=function(t){return qi(t)&&(ji(t)||{}).isDirectory},qi=function(t){return"webkitGetAsEntry"in t},ji=function(t){return t.webkitGetAsEntry()},Wi=function(t){var e=[];try{if((e=Xi(t)).length)return e;e=zi(t)}catch(t){}return e},zi=function(t){var e=t.getData("url");return"string"==typeof e&&e.length?[e]:[]},Xi=function(t){var e=t.getData("text/html");if("string"==typeof e&&e.length){var n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Yi=[],Ki=function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},Qi=function(t,e,n){var r=Zi(e),i={element:t,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=r.addListener(i),i},Zi=function(t){var e=Yi.find((function(e){return e.element===t}));if(e)return e;var n=Ji(t);return Yi.push(n),n},Ji=function(t){var e=[],n={dragenter:ro,dragover:io,dragleave:ao,drop:oo},r={};i(n,(function(n,i){r[n]=i(t,e),t.addEventListener(n,r[n],!1)}));var o={element:t,addListener:function(a){return e.push(a),function(){e.splice(e.indexOf(a),1),0===e.length&&(Yi.splice(Yi.indexOf(o),1),i(n,(function(e){t.removeEventListener(e,r[e],!1)})))}}};return o},$i=function(t,e){return"elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)},to=function(t,e){var n=Li(e),r=$i(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return r===e||e.contains(r)},eo=null,no=function(t,e){try{t.dropEffect=e}catch(t){}},ro=function(t,e){return function(t){t.preventDefault(),eo=t.target,e.forEach((function(e){var n=e.element,r=e.onenter;to(t,n)&&(e.state="enter",r(Ki(t)))}))}},io=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Mi(n).then((function(r){var i=!1;e.some((function(e){var o=e.filterElement,a=e.element,s=e.onenter,c=e.onexit,u=e.ondrag,l=e.allowdrop;no(n,"copy");var d=l(r);if(d)if(to(t,a)){if(i=!0,null===e.state)return e.state="enter",void s(Ki(t));if(e.state="over",o&&!d)return void no(n,"none");u(Ki(t))}else o&&!i&&no(n,"none"),e.state&&(e.state=null,c(Ki(t)));else no(n,"none")}))}))}},oo=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Mi(n).then((function(n){e.forEach((function(e){var r=e.filterElement,i=e.element,o=e.ondrop,a=e.onexit,s=e.allowdrop;if(e.state=null,!r||to(t,i))return s(n)?void o(Ki(t),n):a(Ki(t))}))}))}},ao=function(t,e){return function(t){eo===t.target&&e.forEach((function(e){var n=e.onexit;e.state=null,n(Ki(t))}))}},so=function(t,e,n){t.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,i=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(t){return t}:o,s=Qi(t,r?document.documentElement:t,i),c="",u="";s.allowdrop=function(t){return e(a(t))},s.ondrop=function(t,n){var r=a(n);e(r)?(u="drag-drop",l.onload(r,t)):l.ondragend(t)},s.ondrag=function(t){l.ondrag(t)},s.onenter=function(t){u="drag-over",l.ondragstart(t)},s.onexit=function(t){u="drag-exit",l.ondragend(t)};var l={updateHopperState:function(){c!==u&&(t.dataset.hopperState=u,c=u)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return l},co=!1,uo=[],lo=function(t){var e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){for(var n=!1,r=e;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Mi(t.clipboardData).then((function(t){t.length&&uo.forEach((function(e){return e(t)}))}))},ho=function(t){uo.includes(t)||(uo.push(t),co||(co=!0,document.addEventListener("paste",lo)))},fo=function(t){Nt(uo,uo.indexOf(t)),0===uo.length&&(document.removeEventListener("paste",lo),co=!1)},po=function(){var t=function(t){e.onload(t)},e={destroy:function(){fo(t)},onload:function(){}};return ho(t),e},mo=function(t){var e=t.root,n=t.props;e.element.id="filepond--assistant-"+n.id,a(e.element,"role","status"),a(e.element,"aria-live","polite"),a(e.element,"aria-relevant","additions")},Eo=null,go=null,yo=[],vo=function(t,e){t.element.textContent=e},To=function(t){t.element.textContent=""},Io=function(t,e,n){var r=t.query("GET_TOTAL_ITEMS");vo(t,n+" "+e+", "+r+" "+(1===r?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(go),go=setTimeout((function(){To(t)}),1500)},_o=function(t){return t.element.parentNode.contains(document.activeElement)},Ao=function(t){var e=t.root,n=t.action;if(_o(e)){e.element.textContent="";var r=e.query("GET_ITEM",n.id);yo.push(r.filename),clearTimeout(Eo),Eo=setTimeout((function(){Io(e,yo.join(", "),e.query("GET_LABEL_FILE_ADDED")),yo.length=0}),750)}},bo=function(t){var e=t.root,n=t.action;if(_o(e)){var r=n.item;Io(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))}},Co=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");vo(e,r+" "+i)},So=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");vo(e,r+" "+i)},Oo=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename;vo(e,n.status.main+" "+r+" "+n.status.sub)},Ro=B({create:mo,ignoreRect:!0,ignoreRectUpdate:!0,write:U({DID_LOAD_ITEM:Ao,DID_REMOVE_ITEM:bo,DID_COMPLETE_ITEM_PROCESSING:Co,DID_ABORT_ITEM_PROCESSING:So,DID_REVERT_ITEM_PROCESSING:So,DID_THROW_ITEM_REMOVE_ERROR:Oo,DID_THROW_ITEM_LOAD_ERROR:Oo,DID_THROW_ITEM_INVALID:Oo,DID_THROW_ITEM_PROCESSING_ERROR:Oo}),tag:"span",name:"assistant"}),wo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(new RegExp(e+".","g"),(function(t){return t.charAt(1).toUpperCase()}))},Lo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),i=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(i);var c=Date.now()-r,u=function(){r=Date.now(),t.apply(void 0,a)};c<e?n||(i=setTimeout(u,e-c)):u()}},Do=1e6,xo=function(t){return t.preventDefault()},No=function(t){var e=t.root,n=t.props,r=e.query("GET_ID");r&&(e.element.id=r);var i=e.query("GET_CLASS_NAME");i&&i.split(" ").filter((function(t){return t.length})).forEach((function(t){e.element.classList.add(t)})),e.ref.label=e.appendChildView(e.createChildView(ci,Object.assign({},n,{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(zr,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(yr,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Ro,Object.assign({},n))),e.ref.data=e.appendChildView(e.createChildView(wi,Object.assign({},n))),e.ref.measure=vn("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter((function(t){return!W(t.value)})).map((function(t){var n=t.name,r=t.value;e.element.dataset[n]=r})),e.ref.widthPrevious=null,e.ref.widthUpdated=Lo((function(){e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")}),250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!o&&(e.element.addEventListener("touchmove",xo,{passive:!1}),e.element.addEventListener("gesturestart",xo));var s=e.query("GET_CREDITS");if(2===s.length){var c=document.createElement("a");c.className="filepond--credits",c.setAttribute("aria-hidden","true"),c.href=s[0],c.tabindex=-1,c.target="_blank",c.rel="noopener noreferrer",c.textContent=s[1],e.element.appendChild(c),e.ref.credits=c}},Po=function(t){var e=t.root,n=t.props,r=t.actions;if(qo({root:e,props:n,actions:r}),r.filter((function(t){return/^DID_SET_STYLE_/.test(t.type)})).filter((function(t){return!W(t.data.value)})).map((function(t){var n=t.type,r=t.data,i=wo(n.substr(8).toLowerCase(),"_");e.element.dataset[i]=r.value,e.invalidateLayout()})),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var i=e.ref.bounds;i||(i=e.ref.bounds=Fo(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var o=e.ref,a=o.hopper,s=o.label,c=o.list,u=o.panel;a&&a.updateHopperState();var l=e.query("GET_PANEL_ASPECT_RATIO"),d=e.query("GET_ALLOW_MULTIPLE"),h=e.query("GET_TOTAL_ITEMS"),f=h===(d?e.query("GET_MAX_FILES")||Do:1),p=r.find((function(t){return"DID_ADD_ITEM"===t.type}));if(f&&p){var m=p.data.interactionMethod;s.opacity=0,d?s.translateY=-40:m===At.API?s.translateX=40:m===At.BROWSE?s.translateY=40:s.translateY=30}else f||(s.opacity=1,s.translateX=0,s.translateY=0);var E=Mo(e),g=ko(e),y=s.rect.element.height,v=!d||f?0:y,T=f?c.rect.element.marginTop:0,I=0===h?0:c.rect.element.marginBottom,_=v+T+g.visual+I,A=v+T+g.bounds+I;if(c.translateY=Math.max(0,v-c.rect.element.marginTop)-E.top,l){var b=e.rect.element.width,C=b*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);var S=e.ref.updateHistory;S.push(b);var O=2;if(S.length>2*O)for(var R=S.length,w=R-10,L=0,D=R;D>=w;D--)if(S[D]===S[D-2]&&L++,L>=O)return;u.scalable=!1,u.height=C;var x=C-v-(I-E.bottom)-(f?T:0);g.visual>x?c.overflow=x:c.overflow=null,e.height=C}else if(i.fixedHeight){u.scalable=!1;var N=i.fixedHeight-v-(I-E.bottom)-(f?T:0);g.visual>N?c.overflow=N:c.overflow=null}else if(i.cappedHeight){var P=_>=i.cappedHeight,M=Math.min(i.cappedHeight,_);u.scalable=!0,u.height=P?M:M-E.top-E.bottom;var k=M-v-(I-E.bottom)-(f?T:0);_>i.cappedHeight&&g.visual>k?c.overflow=k:c.overflow=null,e.height=Math.min(i.cappedHeight,A-E.top-E.bottom)}else{var F=h>0?E.top+E.bottom:0;u.scalable=!0,u.height=Math.max(y,_-F),e.height=Math.max(y,A-F)}e.ref.credits&&u.heightCurrent&&(e.ref.credits.style.transform="translateY("+u.heightCurrent+"px)")}},Mo=function(t){var e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},ko=function(t){var e=0,n=0,r=t.ref.list,i=r.childViews[0],o=i.childViews.filter((function(t){return t.rect.element.height})),a=t.query("GET_ACTIVE_ITEMS").map((function(t){return o.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));if(0===a.length)return{visual:e,bounds:n};var s=i.rect.element.width,c=Rr(i,a,r.dragCoordinates),u=a[0].rect.element,l=u.marginTop+u.marginBottom,d=u.marginLeft+u.marginRight,h=u.width+d,f=u.height+l,p=void 0!==c&&c>=0?1:0,m=a.find((function(t){return t.markedForRemoval&&t.opacity<.45}))?-1:0,E=a.length+p+m,g=Or(s,h);return 1===g?a.forEach((function(t){var r=t.rect.element.height+l;n+=r,e+=r*t.opacity})):(n=Math.ceil(E/g)*f,e=n),{visual:e,bounds:n}},Fo=function(t){var e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===e?null:e}},Ho=function(t,e){var n=t.query("GET_ALLOW_REPLACE"),r=t.query("GET_ALLOW_MULTIPLE"),i=t.query("GET_TOTAL_ITEMS"),o=t.query("GET_MAX_FILES"),a=e.length;return!r&&a>1||!!(et(o=r||n?o:1)&&i+a>o)&&(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:Ge("warning",0,"Max files")}),!0)},Bo=function(t,e,n){var r=t.childViews[0];return Rr(r,e,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Go=function(t){var e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),r=e&&!n;if(r&&!t.ref.hopper){var i=so(t.element,(function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every((function(e){return Yt("ALLOW_HOPPER_ITEM",e,{query:t.query}).every((function(t){return!0===t}))&&n(e)}))}),{filterItems:function(e){var n=t.query("GET_IGNORED_FILES");return e.filter((function(t){return!en(t)||!n.includes(t.name.toLowerCase())}))},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});i.onload=function(e,n){var r=t.ref.list.childViews[0].childViews.filter((function(t){return t.rect.element.height})),i=t.query("GET_ACTIVE_ITEMS").map((function(t){return r.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));Xt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ho(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:Bo(t.ref.list,i,n),interactionMethod:At.DROP})})),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},i.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},i.ondrag=Lo((function(e){t.dispatch("DID_DRAG",{position:e})})),i.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=i,t.ref.drip=t.appendChildView(t.createChildView(Ei))}else!r&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Uo=function(t,e){var n=t.query("GET_ALLOW_BROWSE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(ii,Object.assign({},e,{onload:function(e){Xt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ho(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:At.BROWSE})}))}})),0):!i&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Vo=function(t){var e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),r=e&&!n;r&&!t.ref.paster?(t.ref.paster=po(),t.ref.paster.onload=function(e){Xt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ho(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:At.PASTE})}))}):!r&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},qo=U({DID_SET_ALLOW_BROWSE:function(t){var e=t.root,n=t.props;Uo(e,n)},DID_SET_ALLOW_DROP:function(t){var e=t.root;Go(e)},DID_SET_ALLOW_PASTE:function(t){var e=t.root;Vo(e)},DID_SET_DISABLED:function(t){var e=t.root,n=t.props;Go(e),Vo(e),Uo(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),jo=B({name:"root",read:function(t){var e=t.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:No,write:Po,destroy:function(t){var e=t.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",xo),e.element.removeEventListener("gesturestart",xo)},mixins:{styles:["height"]}}),Wo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,r=Zt(),i=n(yt(r),[fe,_t(r)],[En,It(r)]);i.dispatch("SET_OPTIONS",{options:t});var a=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,c=!1,u=!1,l=null,d=null,h=function(){c||(c=!0),clearTimeout(s),s=setTimeout((function(){c=!1,l=null,d=null,u&&(u=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",h);var f=jo(i,{id:bt()}),p=!1,m=!1,E={_read:function(){c&&(d=window.innerWidth,l||(l=d),u||d===l||(i.dispatch("DID_START_RESIZE"),u=!0)),m&&p&&(p=null===f.element.offsetParent),p||(f._read(),m=f.rect.element.hidden)},_write:function(t){var e=i.processActionQueue().filter((function(t){return!/^SET_/.test(t.type)}));p&&!e.length||(I(e),p=f._write(t,e,u),Bt(i.query("GET_ITEMS")),p&&i.processDispatchQueue())}},g=function(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Object.assign({},e.error):null),e.status&&(n.status=Object.assign({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var r=e.item?e.item:i.query("GET_ITEM",e.id);n.file=r?Ht(r):null}return e.items&&(n.items=e.items.map(Ht)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},y={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},v=function(t){var e=Object.assign({pond:P},t);delete e.type,f.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var n=[];t.hasOwnProperty("error")&&n.push(t.error),t.hasOwnProperty("file")&&n.push(t.file);var r=["type","error","file"];Object.keys(t).filter((function(t){return!r.includes(t)})).forEach((function(e){return n.push(t[e])})),P.fire.apply(P,[t.type].concat(n));var o=i.query("GET_ON"+t.type.toUpperCase());o&&o.apply(void 0,n)},I=function(t){t.length&&t.filter((function(t){return y[t.type]})).forEach((function(t){var e=y[t.type];(Array.isArray(e)?e:[e]).forEach((function(e){"DID_INIT_ITEM"===t.type?v(e(t.data)):setTimeout((function(){v(e(t.data))}),0)}))}))},_=function(t){return i.dispatch("SET_OPTIONS",{options:t})},A=function(t){return i.query("GET_ACTIVE_ITEM",t)},b=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){R([{source:t,options:e}],{index:e.index}).then((function(t){return n(t&&t[0])})).catch(r)}))},S=function(t){return t.file&&t.id},O=function(t,e){return"object"!=typeof t||S(t)||e||(e=t,t=void 0),i.dispatch("REMOVE_ITEM",Object.assign({},e,{query:t})),null===i.query("GET_ACTIVE_ITEM",t)},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){var r=[],o={};if(j(e[0]))r.push.apply(r,e[0]),Object.assign(o,e[1]||{});else{var a=e[e.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(o,e.pop()),r.push.apply(r,e)}i.dispatch("ADD_ITEMS",{items:r,index:o.index,interactionMethod:At.API,success:t,failure:n})}))},w=function(){return i.query("GET_ACTIVE_ITEMS")},L=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},D=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e,i=r.length?r:w();return Promise.all(i.map(b))},x=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e;if(!r.length){var i=w().filter((function(t){return!(t.status===Gt.IDLE&&t.origin===Ut.LOCAL)&&t.status!==Gt.PROCESSING&&t.status!==Gt.PROCESSING_COMPLETE&&t.status!==Gt.PROCESSING_REVERT_ERROR}));return Promise.all(i.map(L))}return Promise.all(r.map(L))},N=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=Array.isArray(e[0])?e[0]:e;"object"==typeof i[i.length-1]?r=i.pop():Array.isArray(e[0])&&(r=e[1]);var o=w();return i.length?i.map((function(t){return T(t)?o[t]?o[t].id:null:t})).filter((function(t){return t})).map((function(t){return O(t,r)})):Promise.all(o.map((function(t){return O(t,r)})))},P=Object.assign({},Mt(),{},E,{},Tt(i,r),{setOptions:_,addFile:C,addFiles:R,getFile:A,processFile:L,prepareFile:b,removeFile:O,moveFile:function(t,e){return i.dispatch("MOVE_ITEM",{query:t,index:e})},getFiles:w,processFiles:x,removeFiles:N,prepareFiles:D,sort:function(t){return i.dispatch("SORT",{compare:t})},browse:function(){var t=f.element.querySelector("input[type=file]");t&&t.click()},destroy:function(){P.fire("destroy",f.element),i.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",h),document.removeEventListener("visibilitychange",a),i.dispatch("DID_DESTROY")},insertBefore:function(t){return V(f.element,t)},insertAfter:function(t){return q(f.element,t)},appendTo:function(t){return t.appendChild(f.element)},replaceElement:function(t){V(f.element,t),t.parentNode.removeChild(t),e=t},restoreElement:function(){e&&(q(e,f.element),f.element.parentNode.removeChild(f.element),e=null)},isAttachedTo:function(t){return f.element===t||e===t},element:{get:function(){return f.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),o(P)},zo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return i(Zt(),(function(t,n){e[t]=n[0]})),Wo(Object.assign({},e,{},t))},Xo=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},Yo=function(t){return wo(t.replace(/^data-/,""))},Ko=function t(e,n){i(n,(function(n,r){i(e,(function(t,i){var o=new RegExp(n);if(o.test(t)&&(delete e[t],!1!==r))if(Z(r))e[r]=i;else{var a=r.group;ut(r)&&!e[a]&&(e[a]={}),e[a][Xo(t.replace(o,""))]=i}})),r.mapping&&t(e[r.group],r.mapping)}))},Qo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];i(t.attributes,(function(e){n.push(t.attributes[e])}));var r=n.filter((function(t){return t.name})).reduce((function(e,n){var r=a(t,n.name);return e[Yo(n.name)]=r===n.name||r,e}),{});return Ko(r,e),r},Zo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Yt("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},e),i=Qo("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach((function(t){ut(i[t])?(ut(r[t])||(r[t]={}),Object.assign(r[t],i[t])):r[t]=i[t]})),r.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map((function(t){return{source:t.value,options:{type:t.dataset.type}}})));var o=zo(r);return t.files&&Array.from(t.files).forEach((function(t){o.addFile(t)})),o.replaceElement(t),o},Jo=function(){return e(arguments.length<=0?void 0:arguments[0])?Zo.apply(void 0,arguments):zo.apply(void 0,arguments)},$o=["fire","_read","_write"],ta=function(t){var e={};return kt(t,e,$o),e},ea=function(t,e){return t.replace(/(?:{([a-zA-Z]+)})/g,(function(t,n){return e[n]}))},na=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);return{transfer:function(t,e){},post:function(t,e,n){var i=bt();r.onmessage=function(t){t.data.id===i&&e(t.data.message)},r.postMessage({id:i,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},ra=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},ia=function(t,e){var n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},oa=function(t){return ia(t,t.name)},aa=[],sa=function(t){if(!aa.includes(t)){aa.push(t);var e=t({addFilter:Kt,utils:{Type:Wt,forin:i,isString:Z,isFile:en,toNaturalFileSize:Ln,replaceInString:ea,getExtensionFromFilename:Te,getFilenameWithoutExtension:$e,guesstimateMimeType:Pi,getFileFromBlob:be,getFilenameFromURL:ve,createRoute:U,createWorker:na,createView:B,createItemAPI:Ht,loadImage:ra,copyFile:oa,renameFile:ia,createBlob:Se,applyFilterChain:Xt,text:Tn,getNumericAspectRatioFromString:ee},views:{fileActionButton:wn}});Qt(e.options)}},ca=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},ua=function(){return"Promise"in window},la=function(){return"slice"in Blob.prototype},da=function(){return"URL"in window&&"createObjectURL"in window.URL},ha=function(){return"visibilityState"in document},fa=function(){return"performance"in window},pa=function(){return"supports"in(window.CSS||{})},ma=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Ea=(Yn=m()&&!ca()&&ha()&&ua()&&la()&&da()&&fa()&&(pa()||ma()),function(){return Yn}),ga={apps:[]},ya="filepond",va=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=va,t.destroy=va,t.parse=va,t.find=va,t.registerPlugin=va,t.getOptions=va,t.setOptions=va,Ea()){G((function(){ga.apps.forEach((function(t){return t._read()}))}),(function(t){ga.apps.forEach((function(e){return e._write(t)}))}));var Ta=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ea,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Ta()}),0):document.addEventListener("DOMContentLoaded",Ta);var Ia=function(){return i(Zt(),(function(e,n){t.OptionTypes[e]=n[1]}))};t.Status=Object.assign({},re),t.FileOrigin=Object.assign({},Ut),t.FileStatus=Object.assign({},Gt),t.OptionTypes={},Ia(),t.create=function(){var e=Jo.apply(void 0,arguments);return e.on("destroy",t.destroy),ga.apps.push(e),ta(e)},t.destroy=function(t){var e=ga.apps.findIndex((function(e){return e.isAttachedTo(t)}));return e>=0&&(ga.apps.splice(e,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll("."+ya)).filter((function(t){return!ga.apps.find((function(e){return e.isAttachedTo(t)}))})).map((function(e){return t.create(e)}))},t.find=function(t){var e=ga.apps.find((function(e){return e.isAttachedTo(t)}));return e?ta(e):null},t.registerPlugin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(sa),Ia()},t.getOptions=function(){var t={};return i(Zt(),(function(e,n){t[e]=n[0]})),t},t.setOptions=function(e){return ut(e)&&(ga.apps.forEach((function(t){t.setOptions(e)})),Jt(e)),t.getOptions()}}t.supported=Ea,Object.defineProperty(t,"__esModule",{value:!0})}(e)},943:()=>{},779:()=>{},536:()=>{},539:()=>{},606:t=>{var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=256,a=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var r=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=this._encodeByte(r>>>6&63),e+=this._encodeByte(r>>>0&63)}var i=t.length-n;return i>0&&(r=t[n]<<16|(2===i?t[n+1]<<8:0),e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""),e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),n=t.length-e,r=new Uint8Array(this.maxDecodedLength(n)),i=0,a=0,s=0,c=0,u=0,l=0,d=0;a<n-4;a+=4)c=this._decodeChar(t.charCodeAt(a+0)),u=this._decodeChar(t.charCodeAt(a+1)),l=this._decodeChar(t.charCodeAt(a+2)),d=this._decodeChar(t.charCodeAt(a+3)),r[i++]=c<<2|u>>>4,r[i++]=u<<4|l>>>2,r[i++]=l<<6|d,s|=c&o,s|=u&o,s|=l&o,s|=d&o;if(a<n-1&&(c=this._decodeChar(t.charCodeAt(a)),u=this._decodeChar(t.charCodeAt(a+1)),r[i++]=c<<2|u>>>4,s|=c&o,s|=u&o),a<n-2&&(l=this._decodeChar(t.charCodeAt(a+2)),r[i++]=u<<4|l>>>2,s|=l&o),a<n-3&&(d=this._decodeChar(t.charCodeAt(a+3)),r[i++]=l<<6|d,s|=d&o),0!==s)throw new Error("Base64Coder: incorrect characters for decoding");return r},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=o;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=a;var s=new a;e.encode=function(t){return s.encode(t)},e.decode=function(t){return s.decode(t)};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=o;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(a);e.URLSafeCoder=c;var u=new c;e.encodeURLSafe=function(t){return u.encode(t)},e.decodeURLSafe=function(t){return u.decode(t)},e.encodedLength=function(t){return s.encodedLength(t)},e.maxDecodedLength=function(t){return s.maxDecodedLength(t)},e.decodedLength=function(t){return s.decodedLength(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function o(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)e+=1;else if(i<2048)e+=2;else if(i<55296)e+=3;else{if(!(i<=57343))throw new Error(r);if(n>=t.length-1)throw new Error(r);n++,e+=4}}return e}e.encode=function(t){for(var e=new Uint8Array(o(t)),n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=192|i>>6,e[n++]=128|63&i):i<55296?(e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i):(r++,i=(1023&i)<<10,i|=1023&t.charCodeAt(r),i+=65536,e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i)}return e},e.encodedLength=o,e.decode=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(128&r){var o=void 0;if(r<224){if(n>=t.length)throw new Error(i);if(128!=(192&(a=t[++n])))throw new Error(i);r=(31&r)<<6|63&a,o=128}else if(r<240){if(n>=t.length-1)throw new Error(i);var a=t[++n],s=t[++n];if(128!=(192&a)||128!=(192&s))throw new Error(i);r=(15&r)<<12|(63&a)<<6|63&s,o=2048}else{if(!(r<248))throw new Error(i);if(n>=t.length-2)throw new Error(i);a=t[++n],s=t[++n];var c=t[++n];if(128!=(192&a)||128!=(192&s)||128!=(192&c))throw new Error(i);r=(15&r)<<18|(63&a)<<12|(63&s)<<6|63&c,o=65536}if(r<o||r>=55296&&r<=57343)throw new Error(i);if(r>=65536){if(r>1114111)throw new Error(i);r-=65536,e.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}e.push(String.fromCharCode(r))}return e.join("")}},function(t,e,n){t.exports=n(3).default},function(t,e,n){"use strict";n.r(e);for(var r,i=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:n,name:r,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}(),o=new i("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"7.0.6",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=function(){function t(t){this.options=t,this.receivers=t.receivers||o,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=Oe.createScriptRequest(r.getPath(t,e)),o=r.receivers.create((function(e){if(r.receivers.remove(o),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var a=function(t){t||i.cleanup()},s=0;s<n.length;s++)n[s](e,a)}}));i.send(o)}},t.prototype.getRoot=function(t){var e=Oe.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),c=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),u=new s({cdn_http:a.cdn_http,cdn_https:a.cdn_https,version:a.VERSION,suffix:a.dependency_suffix,receivers:c}),l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},d=function(t){var e,n=l.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=l.baseUrl+n.path),e?"See: "+e:""):""},h=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),p=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),m=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),E=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),g=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),y=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),v=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(e,t),e}(Error),T=function(t){function e(e,n){var r=this.constructor,i=t.call(this,n)||this;return i.status=e,Object.setPrototypeOf(i,r.prototype),i}return h(e,t),e}(Error),I=function(t,e,n){var r,i=this;for(var o in(r=Oe.createXHR()).open("POST",i.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(o,this.authOptions.headers[o]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t=void 0,e=!1;try{t=JSON.parse(r.responseText),e=!0}catch(t){n(new T(200,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+r.responseText),{auth:""})}e&&n(null,t)}else{var o=d("authenticationEndpoint");n(new T(r.status,"Unable to retrieve auth string from auth endpoint - received status: "+r.status+" from "+i.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+o),{auth:""})}},r.send(this.composeQuery(e)),r},_=String.fromCharCode,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b={},C=0,S=A.length;C<S;C++)b[A.charAt(C)]=C;var O=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?_(192|e>>>6)+_(128|63&e):_(224|e>>>12&15)+_(128|e>>>6&63)+_(128|63&e)},R=function(t){return t.replace(/[^\x00-\x7F]/g,O)},w=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[A.charAt(n>>>18),A.charAt(n>>>12&63),e>=2?"=":A.charAt(n>>>6&63),e>=1?"=":A.charAt(63&n)].join("")},L=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,w)},D=function(){function t(t,e,n,r){var i=this;this.clear=e,this.timer=t((function(){i.timer&&(i.timer=r(i.timer))}),n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function N(t){window.clearTimeout(t)}function P(t){window.clearInterval(t)}var M=function(t){function e(e,n){return t.call(this,setTimeout,N,e,(function(t){return n(),null}))||this}return x(e,t),e}(D),k=function(t){function e(e,n){return t.call(this,setInterval,P,e,(function(t){return n(),t}))||this}return x(e,t),e}(D),F={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new M(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}},H=F;function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?t[o]=B(t[o]||{},i[o]):t[o]=i[o]}return t}function G(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(Z(arguments[e]));return t.join(" : ")}function U(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function V(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function q(t){var e=[];return V(t,(function(t,n){e.push(n)})),e}function j(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function W(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function z(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function X(t,e){var n={};return V(t,(function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)})),n}function Y(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function K(t){return e=function(t){return"object"==typeof t&&(t=Z(t)),encodeURIComponent((e=t.toString(),L(R(e))));var e},n={},V(t,(function(t,r){n[r]=e(t)})),n;var e,n}function Q(t){var e,n,r=X(t,(function(t){return void 0!==t}));return W((e=K(r),n=[],V(e,(function(t,e){n.push([e,t])})),n),H.method("join","=")).join("&")}function Z(t){try{return JSON.stringify(t)}catch(r){return JSON.stringify((e=[],n=[],function t(r,i){var o,a,s;switch(typeof r){case"object":if(!r)return null;for(o=0;o<e.length;o+=1)if(e[o]===r)return{$ref:n[o]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],o=0;o<r.length;o+=1)s[o]=t(r[o],i+"["+o+"]");else for(a in s={},r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=t(r[a],i+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return r}}(t,"$")))}var e,n}var J=function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=G.apply(this,arguments);if(Ue.log)Ue.log(r);else if(Ue.logToConsole){var i=t.bind(this);i(r)}},t}(),$=new J,tt=function(t,e,n){void 0!==this.authOptions.headers&&$.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),o=i.createElement("script");t.auth_callbacks[r]=function(t){n(null,t)};var a="Pusher.auth_callbacks['"+r+"']";o.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var s=i.getElementsByTagName("head")[0]||i.documentElement;s.insertBefore(o,s.firstChild)},et=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),nt=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=Q(this.data),n=this.url+"/"+t.number+"?"+e;this.request=Oe.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),rt={name:"jsonp",getAgent:function(t,e){return function(n,r){var i="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,a=Oe.createJSONPRequest(i,n),s=Oe.ScriptReceivers.create((function(e,n){o.remove(s),a.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)}));a.send(s)}}};function it(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function ot(t,e){return"/app/"+t+"?protocol="+a.PROTOCOL+"&client=js&version="+a.VERSION+(e?"&"+e:"")}var at={getInitial:function(t,e){return it("ws",e,(e.httpPath||"")+ot(t,"flash=false"))}},st={getInitial:function(t,e){return it("http",e,(e.httpPath||"/pusher")+ot(t))}},ct={getInitial:function(t,e){return it("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return ot(t)}},ut=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[lt(t)]},t.prototype.add=function(t,e,n){var r=lt(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[lt(t)]:q(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){j(t,(function(t){this._callbacks[t]=z(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){j(t,(function(t){delete this._callbacks[t]}),this)},t}();function lt(t){return"_"+t}var dt=function(){function t(t){this.callbacks=new ut,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=z(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var i=this.callbacks.get(t),o=[];if(n?o.push(e,n):e&&o.push(e),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,o);else this.failThrough&&this.failThrough(t,e);return this},t}(),ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.initialize=Oe.transportConnectionInitializer,a.hooks=e,a.name=n,a.priority=r,a.key=i,a.options=o,a.state="new",a.timeline=o.timeline,a.activityTimeout=o.activityTimeout,a.id=a.timeline.generateUniqueID(),a}return ht(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return H.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),$.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(H.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return B({cid:this.id},t)},e}(dt),pt=ft,mt=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new pt(this.hooks,t,e,n,r)},t}(),Et=new mt({urls:at,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(Oe.getWebSocketAPI())},isSupported:function(){return Boolean(Oe.getWebSocketAPI())},getSocket:function(t){return Oe.createWebSocket(t)}}),gt={urls:st,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},yt=B({getSocket:function(t){return Oe.HTTPFactory.createStreamingSocket(t)}},gt),vt=B({getSocket:function(t){return Oe.HTTPFactory.createPollingSocket(t)}},gt),Tt={isSupported:function(){return Oe.isXHRSupported()}},It={ws:Et,xhr_streaming:new mt(B({},yt,Tt)),xhr_polling:new mt(B({},vt,Tt))},_t=new mt({file:"sockjs",urls:ct,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:u.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),At={isSupported:function(t){return Oe.isXDRSupported(t.useTLS)}},bt=new mt(B({},yt,At)),Ct=new mt(B({},vt,At));It.xdr_streaming=bt,It.xdr_polling=Ct,It.sockjs=_t;var St=It,Ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rt=new(function(t){function e(){var e=t.call(this)||this,n=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),e}return Ot(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(dt)),wt=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var i=this;r=B({},r,{activityTimeout:this.pingDelay});var o=this.transport.createConnection(t,e,n,r),a=null,s=function(){o.unbind("open",s),o.bind("closed",c),a=H.now()},c=function(t){if(o.unbind("closed",c),1002===t.code||1003===t.code)i.manager.reportDeath();else if(!t.wasClean&&a){var e=H.now()-a;e<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(e/2,i.minPingDelay))}};return o.bind("open",s),o},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),Lt={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=Lt.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},Dt=Lt,xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return xt(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),$.debug("Event sent",r),this.send(Dt.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=Dt.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch($.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",e)},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){V(e,(function(e,n){t.transport.unbind(n,e)}))};V(e,(function(e,n){t.transport.bind(n,e)}))},e.prototype.handleCloseEvent=function(t){var e=Dt.getCloseAction(t),n=Dt.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(dt),Pt=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=Dt.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new Nt(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=Dt.getCloseAction(e)||"backoff",r=Dt.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(B({transport:this.transport,action:t},e))},t}(),Mt=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===Oe.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=e.auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){t.authorizers=t.authorizers||Oe.getAuthorizers(),t.authorizers[this.type].call(this,Oe,e,n)},t}(),kt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(Oe.TimelineTransport.getAgent(this,t),e)},t}(),Ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ht=function(t){function e(e,n){var r=t.call(this,(function(t,n){$.debug("No callbacks on "+e+" for "+t)}))||this;return r.name=e,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Ft(e,t),e.prototype.authorize=function(t,e){return e(null,{auth:""})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new f("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=d("triggeringClientEvents");$.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,n=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,n,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,n){e?(t.subscriptionPending=!1,$.error(e.toString()),t.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof T?{status:e.status}:{}))):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(dt),Bt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bt(e,t),e.prototype.authorize=function(t,e){return $t.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(Ht),Ut=Gt,Vt=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;V(this.members,(function(n,r){t(e.get(r))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.members=new Vt,r}return qt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(!t){if(void 0===e.channel_data){var i=d("authenticationEndpoint");return $.error("Invalid auth response for channel '"+r.name+"',expected 'channel_data' field. "+i),void n("Invalid auth response")}var o=JSON.parse(e.channel_data);r.members.setMyID(o.user_id)}n(t,e)}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}},e.prototype.handleInternalEvent=function(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Ut),Wt=n(1),zt=n(0),Xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.key=null,i.nacl=r,i}return Xt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)n(t,e);else{var i=e.shared_secret;i?(r.key=Object(zt.decode)(i),delete e.shared_secret,n(null,e)):n(new Error("No shared_secret key in auth payload for encrypted channel: "+r.name),null)}}))},e.prototype.trigger=function(t,e){throw new g("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,r=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var r=Object(zt.decode)(e.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)$.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+r.length);else{var i=Object(zt.decode)(e.nonce);if(i.length<this.nacl.secretbox.nonceLength)$.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+i.length);else{var o=this.nacl.secretbox.open(r,i,this.key);if(null===o)return $.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,a){e?$.error("Failed to make a request to the authEndpoint: "+a+". Unable to fetch new key, so dropping encrypted event"):null!==(o=n.nacl.secretbox.open(r,i,n.key))?n.emit(t,n.getDataToEmit(o)):$.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emit(t,this.getDataToEmit(o))}}}else $.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else $.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.getDataToEmit=function(t){var e=Object(Wt.decode)(t);try{return JSON.parse(e)}catch(t){return e}},e}(Ut),Kt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(t){function e(e,n){var r=t.call(this)||this;r.state="initialized",r.connection=null,r.key=e,r.options=n,r.timeline=r.options.timeline,r.usingTLS=r.options.useTLS,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var i=Oe.getNetwork();return i.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),i.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return Kt(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new M(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new M(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new M(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new M(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return B({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",t)},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return B({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),$.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(dt),Zt=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return $t.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=d("encryptedChannelSupport");throw new g(n+". "+r)}return 0===t.indexOf("private-")?$t.createPrivateChannel(t,e):0===t.indexOf("presence-")?$t.createPresenceChannel(t,e):$t.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(t){var e=[];return V(t,(function(t){e.push(t)})),e}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){V(this.channels,(function(t){t.disconnect()}))},t}(),Jt=Zt,$t={createChannels:function(){return new Jt},createConnectionManager:function(t,e){return new Qt(t,e)},createChannel:function(t,e){return new Ht(t,e)},createPrivateChannel:function(t,e){return new Ut(t,e)},createPresenceChannel:function(t,e){return new jt(t,e)},createEncryptedChannel:function(t,e,n){return new Yt(t,e,n)},createTimelineSender:function(t,e){return new kt(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new Mt(t,e)},createHandshake:function(t,e){return new Pt(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new wt(t,e,n)}},te=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return $t.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),ee=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return Y(this.strategies,H.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,i=0,o=this.timeout,a=null,s=function(c,u){u?e(null,u):(i+=1,n.loop&&(i%=r.length),i<r.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(r[i],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(r[i],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var i=null,o=null;return n.timeout>0&&(i=new M(n.timeout,(function(){o.abort(),r(!0)}))),o=t.connect(e,(function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))})),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(t){o.forceMinPriority(t)}}},t}(),ne=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return Y(this.strategies,H.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var r=W(t,(function(t,r,i,o){return t.connect(e,n(r,o))}));return{abort:function(){j(r,re)},forceMinPriority:function(t){j(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(r,i){n[t].error=r,r?function(t){return function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(j(n,(function(t){t.forceMinPriority(i.transport.priority)})),e(null,i))}}))},t}();function re(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var ie=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,r=function(t){var e=Oe.getLocalStorage();if(e)try{var n=e[ae(t)];if(n)return JSON.parse(n)}catch(e){se(t)}return null}(n),i=[this.strategy];if(r&&r.timestamp+this.ttl>=H.now()){var o=this.transports[r.transport];o&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),i.push(new ee([o],{timeout:2*r.latency+1e3,failFast:!0})))}var a=H.now(),s=i.pop().connect(t,(function r(o,c){o?(se(n),i.length>0?(a=H.now(),s=i.pop().connect(t,r)):e(o)):(function(t,e,n){var r=Oe.getLocalStorage();if(r)try{r[ae(t)]=Z({timestamp:H.now(),transport:e,latency:n})}catch(t){}}(n,c.transport.name,H.now()-a),e(null,c))}));return{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t}(),oe=ie;function ae(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function se(t){var e=Oe.getLocalStorage();if(e)try{delete e[ae(t)]}catch(t){}}var ce=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,i=new M(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}(),ue=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),le=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n},t}();function de(t){return function(){return t.isSupported()}}var he,fe=function(t,e,n){var r={};function i(e,i,o,a,s){var c=n(t,e,i,o,a,s);return r[e]=c,c}var o,a=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),s=Object.assign({},a,{useTLS:!0}),c=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),u={loop:!0,timeout:15e3,timeoutLimit:6e4},l=new te({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),d=new te({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),h=i("ws","ws",3,a,l),f=i("wss","ws",3,s,l),p=i("sockjs","sockjs",1,c),m=i("xhr_streaming","xhr_streaming",1,c,d),E=i("xdr_streaming","xdr_streaming",1,c,d),g=i("xhr_polling","xhr_polling",1,c),y=i("xdr_polling","xdr_polling",1,c),v=new ee([h],u),T=new ee([f],u),I=new ee([p],u),_=new ee([new ue(de(m),m,E)],u),A=new ee([new ue(de(g),g,y)],u),b=new ee([new ue(de(_),new ne([_,new ce(A,{delay:4e3})]),A)],u),C=new ue(de(b),b,I);return o=e.useTLS?new ne([v,new ce(C,{delay:2e3})]):new ne([v,new ce(T,{delay:2e3}),new ce(C,{delay:5e3})]),new oe(new le(new ue(de(h),o,C)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},pe={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new p),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},me=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(t){function e(e,n,r){var i=t.call(this)||this;return i.hooks=e,i.method=n,i.url=r,i}return me(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},Oe.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(Oe.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(dt);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(he||(he={}));var ge=he,ye=1;function ve(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+ye++}function Te(t){return Math.floor(Math.random()*t)}var Ie,_e=function(){function t(t,e){this.hooks=t,this.session=Te(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(Te(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=ge.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==ge.OPEN)return!1;try{return Oe.createSocketRequest("POST",ve((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=ge.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===ge.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,r;this.readyState===ge.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=ge.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===ge.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=Oe.createSocketRequest("POST",ve(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){H.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),Ae={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},be={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Ce={getRequest:function(t){var e=new(Oe.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},Se={createStreamingSocket:function(t){return this.createSocket(Ae,t)},createPollingSocket:function(t){return this.createSocket(be,t)},createSocket:function(t,e){return new _e(t,e)},createXHR:function(t,e){return this.createRequest(Ce,t,e)},createRequest:function(t,e,n){return new Ee(t,e,n)},createXDR:function(t,e){return this.createRequest(pe,t,e)}},Oe={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:c,getDefaultStrategy:fe,Transports:St,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),u.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:Se,TimelineTransport:rt,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():u.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:I,jsonp:tt}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,e){return new nt(t,e)},createScriptRequest:function(t){return new et(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Rt},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(Ie||(Ie={}));var Re=Ie,we=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(B({},e,{timestamp:H.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(Re.ERROR,t)},t.prototype.info=function(t){this.log(Re.INFO,t)},t.prototype.debug=function(t){this.log(Re.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=B({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,(function(t,r){t||n.sent++,e&&e(t,r)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Le=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return De(new v,e);if(this.priority<t)return De(new m,e);var r=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function(){i.unbind("initialized",a),i.connect()},s=function(){o=$t.createHandshake(i,(function(t){r=!0,l(),e(null,t)}))},c=function(t){l(),e(t)},u=function(){var t;l(),t=Z(i),e(new E(t))},l=function(){i.unbind("initialized",a),i.unbind("open",s),i.unbind("error",c),i.unbind("closed",u)};return i.bind("initialized",a),i.bind("open",s),i.bind("error",c),i.bind("closed",u),i.initialize(),{abort:function(){r||(l(),o?o.close():i.close())},forceMinPriority:function(t){r||n.priority<t&&(o?o.close():i.close())}}},t}();function De(t,e){return H.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var xe=Oe.Transports,Ne=function(t,e,n,r,i,o){var a,s=xe[n];if(!s)throw new y(n);return t.enabledTransports&&-1===U(t.enabledTransports,e)||t.disabledTransports&&-1!==U(t.disabledTransports,e)?a=Pe:(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),a=new Le(e,r,o?o.getAssistant(s):s,i)),a},Pe={isSupported:function(){return!1},connect:function(t,e){var n=H.defer((function(){e(new v)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Me(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":a.httpHost}function ke(t){return t.wsHost?t.wsHost:t.cluster?Fe(t.cluster):Fe(a.cluster)}function Fe(t){return"ws-"+t+".pusher.com"}function He(t){return"https:"===Oe.getProtocol()||!1!==t.forceTLS}function Be(t){return"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats}var Ge=function(){function t(e,n){var r,i,o=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var s=d("javascriptQuickStart");$.warn("You should always specify a cluster when connecting. "+s)}"disableStats"in n&&$.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=(i={activityTimeout:(r=n).activityTimeout||a.activityTimeout,authEndpoint:r.authEndpoint||a.authEndpoint,authTransport:r.authTransport||a.authTransport,cluster:r.cluster||a.cluster,httpPath:r.httpPath||a.httpPath,httpPort:r.httpPort||a.httpPort,httpsPort:r.httpsPort||a.httpsPort,pongTimeout:r.pongTimeout||a.pongTimeout,statsHost:r.statsHost||a.stats_host,unavailableTimeout:r.unavailableTimeout||a.unavailableTimeout,wsPath:r.wsPath||a.wsPath,wsPort:r.wsPort||a.wsPort,wssPort:r.wssPort||a.wssPort,enableStats:Be(r),httpHost:Me(r),useTLS:He(r),wsHost:ke(r)},"auth"in r&&(i.auth=r.auth),"authorizer"in r&&(i.authorizer=r.authorizer),"disabledTransports"in r&&(i.disabledTransports=r.disabledTransports),"enabledTransports"in r&&(i.enabledTransports=r.enabledTransports),"ignoreNullOrigin"in r&&(i.ignoreNullOrigin=r.ignoreNullOrigin),"timelineParams"in r&&(i.timelineParams=r.timelineParams),"nacl"in r&&(i.nacl=r.nacl),i),this.channels=$t.createChannels(),this.global_emitter=new dt,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new we(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Re.INFO,version:a.VERSION}),this.config.enableStats&&(this.timelineSender=$t.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Oe.TimelineTransport.name})),this.connection=$t.createConnectionManager(this.key,{getStrategy:function(t){return Oe.getDefaultStrategy(o.config,t,Ne)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=o.channel(t.channel);n&&n.handleEvent(t)}e||o.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){o.channels.disconnect()})),this.connection.bind("disconnected",(function(){o.channels.disconnect()})),this.connection.bind("error",(function(t){$.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return q(X({ws:Oe.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new k(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&e.subscribed&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=Oe,t.ScriptReceivers=Oe.ScriptReceivers,t.DependenciesReceivers=Oe.DependenciesReceivers,t.auth_callbacks=Oe.auth_callbacks,t}(),Ue=e.default=Ge;Oe.setup(Ge)}])},t.exports=e()}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,i,o]=t[l],s=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(s=!1,o<a&&(a=o));if(s){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={985:0,123:0,233:0,33:0,170:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,c]=n,u=0;if(a.some((e=>0!==t[e]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)var l=c(r)}for(e&&e(n);u<a.length;u++)o=a[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[123,233,33,170],(()=>r(997))),r.O(void 0,[123,233,33,170],(()=>r(943))),r.O(void 0,[123,233,33,170],(()=>r(779))),r.O(void 0,[123,233,33,170],(()=>r(536)));var i=r.O(void 0,[123,233,33,170],(()=>r(539)));i=r.O(i)})();